{"version":3,"file":"clappr.plainhtml5.min.js","sources":["../node_modules/rollup-plugin-node-globals/src/global.js","../node_modules/@clappr/core/dist/clappr-core.esm.js","../node_modules/@clappr/plugins/dist/clappr-plugins.esm.js","../src/base_bundle.js"],"sourcesContent":["export default (typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {});\n","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\n// Copyright 2014 Globo.com Player authors. All rights reserved.\n// Use of this source code is governed by a BSD-style\n// license that can be found in the LICENSE file.\n\n/**\n * Array.prototype.find\n *\n * Original source : https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/find\n * See also : https://tc39.github.io/ecma262/#sec-array.prototype.find\n */\nif (!Array.prototype.find) {\n  // eslint-disable-next-line\n  Object.defineProperty(Array.prototype, 'find', {\n    // Note: ES6 arrow function syntax is not used on purpose to avoid this to be undefined\n    value: function value(predicate) {\n      // 1. Let O be ? ToObject(this value).\n      if (this == null) throw new TypeError('\"this\" is null or not defined');\n      var o = Object(this); // 2. Let len be ? ToLength(? Get(O, \"length\")).\n\n      var len = o.length >>> 0; // 3. If IsCallable(predicate) is false, throw a TypeError exception.\n\n      if (typeof predicate !== 'function') throw new TypeError('predicate must be a function'); // 4. If thisArg was supplied, let T be thisArg; else let T be undefined.\n\n      var thisArg = arguments[1]; // 5. Let k be 0.\n\n      var k = 0; // 6. Repeat, while k < len\n\n      while (k < len) {\n        // a. Let Pk be ! ToString(k).\n        // b. Let kValue be ? Get(O, Pk).\n        // c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).\n        // d. If testResult is true, return kValue.\n        var kValue = o[k];\n        if (predicate.call(thisArg, kValue, k, o)) return kValue; // e. Increase k by 1.\n\n        k++;\n      } // 7. Return undefined.\n\n\n      return undefined;\n    }\n  });\n}\n\n// https://github.com/mathiasbynens/small\nvar mp4 = 'data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAC721kYXQhEAUgpBv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3pwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcCEQBSCkG//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADengAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAsJtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAALwABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAB7HRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAIAAAAAAAAALwAAAAAAAAAAAAAAAQEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAC8AAAAAAAEAAAAAAWRtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAKxEAAAIAFXEAAAAAAAtaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAFNvdW5kSGFuZGxlcgAAAAEPbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAADTc3RibAAAAGdzdHNkAAAAAAAAAAEAAABXbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAAKxEAAAAAAAzZXNkcwAAAAADgICAIgACAASAgIAUQBUAAAAAAfQAAAHz+QWAgIACEhAGgICAAQIAAAAYc3R0cwAAAAAAAAABAAAAAgAABAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAIAAAABAAAAHHN0c3oAAAAAAAAAAAAAAAIAAAFzAAABdAAAABRzdGNvAAAAAAAAAAEAAAAsAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ni40MC4xMDE=';\nvar Media = {\n  mp4: mp4\n};\n\n/* Zepto v1.2.0 - zepto ajax callbacks deferred event ie selector - zeptojs.com/license */\nvar Zepto = function () {\n  var undefined$1,\n      key,\n      $,\n      classList,\n      emptyArray = [],\n      concat = emptyArray.concat,\n      filter = emptyArray.filter,\n      slice = emptyArray.slice,\n      document = window.document,\n      elementDisplay = {},\n      classCache = {},\n      cssNumber = {\n    'column-count': 1,\n    'columns': 1,\n    'font-weight': 1,\n    'line-height': 1,\n    'opacity': 1,\n    'z-index': 1,\n    'zoom': 1\n  },\n      fragmentRE = /^\\s*<(\\w+|!)[^>]*>/,\n      singleTagRE = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,\n      tagExpanderRE = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/ig,\n      rootNodeRE = /^(?:body|html)$/i,\n      capitalRE = /([A-Z])/g,\n      // special attributes that should be get/set via method calls\n  methodAttributes = ['val', 'css', 'html', 'text', 'data', 'width', 'height', 'offset'],\n      adjacencyOperators = ['after', 'prepend', 'before', 'append'],\n      table = document.createElement('table'),\n      tableRow = document.createElement('tr'),\n      containers = {\n    'tr': document.createElement('tbody'),\n    'tbody': table,\n    'thead': table,\n    'tfoot': table,\n    'td': tableRow,\n    'th': tableRow,\n    '*': document.createElement('div')\n  },\n      readyRE = /complete|loaded|interactive/,\n      simpleSelectorRE = /^[\\w-]*$/,\n      class2type = {},\n      toString = class2type.toString,\n      zepto = {},\n      camelize,\n      uniq,\n      tempParent = document.createElement('div'),\n      propMap = {\n    'tabindex': 'tabIndex',\n    'readonly': 'readOnly',\n    'for': 'htmlFor',\n    'class': 'className',\n    'maxlength': 'maxLength',\n    'cellspacing': 'cellSpacing',\n    'cellpadding': 'cellPadding',\n    'rowspan': 'rowSpan',\n    'colspan': 'colSpan',\n    'usemap': 'useMap',\n    'frameborder': 'frameBorder',\n    'contenteditable': 'contentEditable'\n  },\n      isArray = Array.isArray || function (object) {\n    return object instanceof Array;\n  };\n\n  zepto.matches = function (element, selector) {\n    if (!selector || !element || element.nodeType !== 1) return false;\n    var matchesSelector = element.matches || element.webkitMatchesSelector || element.mozMatchesSelector || element.oMatchesSelector || element.matchesSelector;\n    if (matchesSelector) return matchesSelector.call(element, selector); // fall back to performing a selector:\n\n    var match,\n        parent = element.parentNode,\n        temp = !parent;\n    if (temp) (parent = tempParent).appendChild(element);\n    match = ~zepto.qsa(parent, selector).indexOf(element);\n    temp && tempParent.removeChild(element);\n    return match;\n  };\n\n  function type(obj) {\n    return obj == null ? String(obj) : class2type[toString.call(obj)] || \"object\";\n  }\n\n  function isFunction(value) {\n    return type(value) == \"function\";\n  }\n\n  function isWindow(obj) {\n    return obj != null && obj == obj.window;\n  }\n\n  function isDocument(obj) {\n    return obj != null && obj.nodeType == obj.DOCUMENT_NODE;\n  }\n\n  function isObject(obj) {\n    return type(obj) == \"object\";\n  }\n\n  function isPlainObject(obj) {\n    return isObject(obj) && !isWindow(obj) && Object.getPrototypeOf(obj) == Object.prototype;\n  }\n\n  function likeArray(obj) {\n    var length = !!obj && 'length' in obj && obj.length,\n        type = $.type(obj);\n    return 'function' != type && !isWindow(obj) && ('array' == type || length === 0 || typeof length == 'number' && length > 0 && length - 1 in obj);\n  }\n\n  function compact(array) {\n    return filter.call(array, function (item) {\n      return item != null;\n    });\n  }\n\n  function flatten(array) {\n    return array.length > 0 ? $.fn.concat.apply([], array) : array;\n  }\n\n  camelize = function (str) {\n    return str.replace(/-+(.)?/g, function (match, chr) {\n      return chr ? chr.toUpperCase() : '';\n    });\n  };\n\n  function dasherize(str) {\n    return str.replace(/::/g, '/').replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2').replace(/([a-z\\d])([A-Z])/g, '$1_$2').replace(/_/g, '-').toLowerCase();\n  }\n\n  uniq = function (array) {\n    return filter.call(array, function (item, idx) {\n      return array.indexOf(item) == idx;\n    });\n  };\n\n  function classRE(name) {\n    return name in classCache ? classCache[name] : classCache[name] = new RegExp('(^|\\\\s)' + name + '(\\\\s|$)');\n  }\n\n  function maybeAddPx(name, value) {\n    return typeof value == \"number\" && !cssNumber[dasherize(name)] ? value + \"px\" : value;\n  }\n\n  function defaultDisplay(nodeName) {\n    var element, display;\n\n    if (!elementDisplay[nodeName]) {\n      element = document.createElement(nodeName);\n      document.body.appendChild(element);\n      display = getComputedStyle(element, '').getPropertyValue(\"display\");\n      element.parentNode.removeChild(element);\n      display == \"none\" && (display = \"block\");\n      elementDisplay[nodeName] = display;\n    }\n\n    return elementDisplay[nodeName];\n  }\n\n  function children(element) {\n    return 'children' in element ? slice.call(element.children) : $.map(element.childNodes, function (node) {\n      if (node.nodeType == 1) return node;\n    });\n  }\n\n  function Z(dom, selector) {\n    var i,\n        len = dom ? dom.length : 0;\n\n    for (i = 0; i < len; i++) this[i] = dom[i];\n\n    this.length = len;\n    this.selector = selector || '';\n  } // `$.zepto.fragment` takes a html string and an optional tag name\n  // to generate DOM nodes from the given html string.\n  // The generated DOM nodes are returned as an array.\n  // This function can be overridden in plugins for example to make\n  // it compatible with browsers that don't support the DOM fully.\n\n\n  zepto.fragment = function (html, name, properties) {\n    var dom, nodes, container; // A special case optimization for a single tag\n\n    if (singleTagRE.test(html)) dom = $(document.createElement(RegExp.$1));\n\n    if (!dom) {\n      if (html.replace) html = html.replace(tagExpanderRE, \"<$1></$2>\");\n      if (name === undefined$1) name = fragmentRE.test(html) && RegExp.$1;\n      if (!(name in containers)) name = '*';\n      container = containers[name];\n      container.innerHTML = '' + html;\n      dom = $.each(slice.call(container.childNodes), function () {\n        container.removeChild(this);\n      });\n    }\n\n    if (isPlainObject(properties)) {\n      nodes = $(dom);\n      $.each(properties, function (key, value) {\n        if (methodAttributes.indexOf(key) > -1) nodes[key](value);else nodes.attr(key, value);\n      });\n    }\n\n    return dom;\n  }; // `$.zepto.Z` swaps out the prototype of the given `dom` array\n  // of nodes with `$.fn` and thus supplying all the Zepto functions\n  // to the array. This method can be overridden in plugins.\n\n\n  zepto.Z = function (dom, selector) {\n    return new Z(dom, selector);\n  }; // `$.zepto.isZ` should return `true` if the given object is a Zepto\n  // collection. This method can be overridden in plugins.\n\n\n  zepto.isZ = function (object) {\n    return object instanceof zepto.Z;\n  }; // `$.zepto.init` is Zepto's counterpart to jQuery's `$.fn.init` and\n  // takes a CSS selector and an optional context (and handles various\n  // special cases).\n  // This method can be overridden in plugins.\n\n\n  zepto.init = function (selector, context) {\n    var dom; // If nothing given, return an empty Zepto collection\n\n    if (!selector) return zepto.Z(); // Optimize for string selectors\n    else if (typeof selector == 'string') {\n        selector = selector.trim(); // If it's a html fragment, create nodes from it\n        // Note: In both Chrome 21 and Firefox 15, DOM error 12\n        // is thrown if the fragment doesn't begin with <\n\n        if (selector[0] == '<' && fragmentRE.test(selector)) dom = zepto.fragment(selector, RegExp.$1, context), selector = null; // If there's a context, create a collection on that context first, and select\n        // nodes from there\n        else if (context !== undefined$1) return $(context).find(selector); // If it's a CSS selector, use it to select nodes.\n          else dom = zepto.qsa(document, selector);\n      } // If a function is given, call it when the DOM is ready\n      else if (isFunction(selector)) return $(document).ready(selector); // If a Zepto collection is given, just return it\n        else if (zepto.isZ(selector)) return selector;else {\n            // normalize array if an array of nodes is given\n            if (isArray(selector)) dom = compact(selector); // Wrap DOM nodes.\n            else if (isObject(selector)) dom = [selector], selector = null; // If it's a html fragment, create nodes from it\n              else if (fragmentRE.test(selector)) dom = zepto.fragment(selector.trim(), RegExp.$1, context), selector = null; // If there's a context, create a collection on that context first, and select\n                // nodes from there\n                else if (context !== undefined$1) return $(context).find(selector); // And last but no least, if it's a CSS selector, use it to select nodes.\n                  else dom = zepto.qsa(document, selector);\n          } // create a new Zepto collection from the nodes found\n\n    return zepto.Z(dom, selector);\n  }; // `$` will be the base `Zepto` object. When calling this\n  // function just call `$.zepto.init, which makes the implementation\n  // details of selecting nodes and creating Zepto collections\n  // patchable in plugins.\n\n\n  $ = function (selector, context) {\n    return zepto.init(selector, context);\n  };\n\n  function extend(target, source, deep) {\n    for (key in source) if (deep && (isPlainObject(source[key]) || isArray(source[key]))) {\n      if (isPlainObject(source[key]) && !isPlainObject(target[key])) target[key] = {};\n      if (isArray(source[key]) && !isArray(target[key])) target[key] = [];\n      extend(target[key], source[key], deep);\n    } else if (source[key] !== undefined$1) target[key] = source[key];\n  } // Copy all but undefined properties from one or more\n  // objects to the `target` object.\n\n\n  $.extend = function (target) {\n    var deep,\n        args = slice.call(arguments, 1);\n\n    if (typeof target == 'boolean') {\n      deep = target;\n      target = args.shift();\n    }\n\n    args.forEach(function (arg) {\n      extend(target, arg, deep);\n    });\n    return target;\n  }; // `$.zepto.qsa` is Zepto's CSS selector implementation which\n  // uses `document.querySelectorAll` and optimizes for some special cases, like `#id`.\n  // This method can be overridden in plugins.\n\n\n  zepto.qsa = function (element, selector) {\n    var found,\n        maybeID = selector[0] == '#',\n        maybeClass = !maybeID && selector[0] == '.',\n        nameOnly = maybeID || maybeClass ? selector.slice(1) : selector,\n        // Ensure that a 1 char tag name still gets checked\n    isSimple = simpleSelectorRE.test(nameOnly);\n    return element.getElementById && isSimple && maybeID ? // Safari DocumentFragment doesn't have getElementById\n    (found = element.getElementById(nameOnly)) ? [found] : [] : element.nodeType !== 1 && element.nodeType !== 9 && element.nodeType !== 11 ? [] : slice.call(isSimple && !maybeID && element.getElementsByClassName ? // DocumentFragment doesn't have getElementsByClassName/TagName\n    maybeClass ? element.getElementsByClassName(nameOnly) : // If it's simple, it could be a class\n    element.getElementsByTagName(selector) : // Or a tag\n    element.querySelectorAll(selector) // Or it's not simple, and we need to query all\n    );\n  };\n\n  function filtered(nodes, selector) {\n    return selector == null ? $(nodes) : $(nodes).filter(selector);\n  }\n\n  $.contains = document.documentElement.contains ? function (parent, node) {\n    return parent !== node && parent.contains(node);\n  } : function (parent, node) {\n    while (node && (node = node.parentNode)) if (node === parent) return true;\n\n    return false;\n  };\n\n  function funcArg(context, arg, idx, payload) {\n    return isFunction(arg) ? arg.call(context, idx, payload) : arg;\n  }\n\n  function setAttribute(node, name, value) {\n    value == null ? node.removeAttribute(name) : node.setAttribute(name, value);\n  } // access className property while respecting SVGAnimatedString\n\n\n  function className(node, value) {\n    var klass = node.className || '',\n        svg = klass && klass.baseVal !== undefined$1;\n    if (value === undefined$1) return svg ? klass.baseVal : klass;\n    svg ? klass.baseVal = value : node.className = value;\n  } // \"true\"  => true\n  // \"false\" => false\n  // \"null\"  => null\n  // \"42\"    => 42\n  // \"42.5\"  => 42.5\n  // \"08\"    => \"08\"\n  // JSON    => parse if valid\n  // String  => self\n\n\n  function deserializeValue(value) {\n    try {\n      return value ? value == \"true\" || (value == \"false\" ? false : value == \"null\" ? null : +value + \"\" == value ? +value : /^[\\[\\{]/.test(value) ? $.parseJSON(value) : value) : value;\n    } catch (e) {\n      return value;\n    }\n  }\n\n  $.type = type;\n  $.isFunction = isFunction;\n  $.isWindow = isWindow;\n  $.isArray = isArray;\n  $.isPlainObject = isPlainObject;\n\n  $.isEmptyObject = function (obj) {\n    var name;\n\n    for (name in obj) return false;\n\n    return true;\n  };\n\n  $.isNumeric = function (val) {\n    var num = Number(val),\n        type = typeof val;\n    return val != null && type != 'boolean' && (type != 'string' || val.length) && !isNaN(num) && isFinite(num) || false;\n  };\n\n  $.inArray = function (elem, array, i) {\n    return emptyArray.indexOf.call(array, elem, i);\n  };\n\n  $.camelCase = camelize;\n\n  $.trim = function (str) {\n    return str == null ? \"\" : String.prototype.trim.call(str);\n  }; // plugin compatibility\n\n\n  $.uuid = 0;\n  $.support = {};\n  $.expr = {};\n\n  $.noop = function () {};\n\n  $.map = function (elements, callback) {\n    var value,\n        values = [],\n        i,\n        key;\n    if (likeArray(elements)) for (i = 0; i < elements.length; i++) {\n      value = callback(elements[i], i);\n      if (value != null) values.push(value);\n    } else for (key in elements) {\n      value = callback(elements[key], key);\n      if (value != null) values.push(value);\n    }\n    return flatten(values);\n  };\n\n  $.each = function (elements, callback) {\n    var i, key;\n\n    if (likeArray(elements)) {\n      for (i = 0; i < elements.length; i++) if (callback.call(elements[i], i, elements[i]) === false) return elements;\n    } else {\n      for (key in elements) if (callback.call(elements[key], key, elements[key]) === false) return elements;\n    }\n\n    return elements;\n  };\n\n  $.grep = function (elements, callback) {\n    return filter.call(elements, callback);\n  };\n\n  if (window.JSON) $.parseJSON = JSON.parse; // Populate the class2type map\n\n  $.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"), function (i, name) {\n    class2type[\"[object \" + name + \"]\"] = name.toLowerCase();\n  }); // Define methods that will be available on all\n  // Zepto collections\n\n  $.fn = {\n    constructor: zepto.Z,\n    length: 0,\n    // Because a collection acts like an array\n    // copy over these useful array functions.\n    forEach: emptyArray.forEach,\n    reduce: emptyArray.reduce,\n    push: emptyArray.push,\n    sort: emptyArray.sort,\n    splice: emptyArray.splice,\n    indexOf: emptyArray.indexOf,\n    concat: function () {\n      var i,\n          value,\n          args = [];\n\n      for (i = 0; i < arguments.length; i++) {\n        value = arguments[i];\n        args[i] = zepto.isZ(value) ? value.toArray() : value;\n      }\n\n      return concat.apply(zepto.isZ(this) ? this.toArray() : this, args);\n    },\n    // `map` and `slice` in the jQuery API work differently\n    // from their array counterparts\n    map: function (fn) {\n      return $($.map(this, function (el, i) {\n        return fn.call(el, i, el);\n      }));\n    },\n    slice: function () {\n      return $(slice.apply(this, arguments));\n    },\n    ready: function (callback) {\n      // need to check if document.body exists for IE as that browser reports\n      // document ready when it hasn't yet created the body element\n      if (readyRE.test(document.readyState) && document.body) callback($);else document.addEventListener('DOMContentLoaded', function () {\n        callback($);\n      }, false);\n      return this;\n    },\n    get: function (idx) {\n      return idx === undefined$1 ? slice.call(this) : this[idx >= 0 ? idx : idx + this.length];\n    },\n    toArray: function () {\n      return this.get();\n    },\n    size: function () {\n      return this.length;\n    },\n    remove: function () {\n      return this.each(function () {\n        if (this.parentNode != null) this.parentNode.removeChild(this);\n      });\n    },\n    each: function (callback) {\n      emptyArray.every.call(this, function (el, idx) {\n        return callback.call(el, idx, el) !== false;\n      });\n      return this;\n    },\n    filter: function (selector) {\n      if (isFunction(selector)) return this.not(this.not(selector));\n      return $(filter.call(this, function (element) {\n        return zepto.matches(element, selector);\n      }));\n    },\n    add: function (selector, context) {\n      return $(uniq(this.concat($(selector, context))));\n    },\n    is: function (selector) {\n      return this.length > 0 && zepto.matches(this[0], selector);\n    },\n    not: function (selector) {\n      var nodes = [];\n      if (isFunction(selector) && selector.call !== undefined$1) this.each(function (idx) {\n        if (!selector.call(this, idx)) nodes.push(this);\n      });else {\n        var excludes = typeof selector == 'string' ? this.filter(selector) : likeArray(selector) && isFunction(selector.item) ? slice.call(selector) : $(selector);\n        this.forEach(function (el) {\n          if (excludes.indexOf(el) < 0) nodes.push(el);\n        });\n      }\n      return $(nodes);\n    },\n    has: function (selector) {\n      return this.filter(function () {\n        return isObject(selector) ? $.contains(this, selector) : $(this).find(selector).size();\n      });\n    },\n    eq: function (idx) {\n      return idx === -1 ? this.slice(idx) : this.slice(idx, +idx + 1);\n    },\n    first: function () {\n      var el = this[0];\n      return el && !isObject(el) ? el : $(el);\n    },\n    last: function () {\n      var el = this[this.length - 1];\n      return el && !isObject(el) ? el : $(el);\n    },\n    find: function (selector) {\n      var result,\n          $this = this;\n      if (!selector) result = $();else if (typeof selector == 'object') result = $(selector).filter(function () {\n        var node = this;\n        return emptyArray.some.call($this, function (parent) {\n          return $.contains(parent, node);\n        });\n      });else if (this.length == 1) result = $(zepto.qsa(this[0], selector));else result = this.map(function () {\n        return zepto.qsa(this, selector);\n      });\n      return result;\n    },\n    closest: function (selector, context) {\n      var nodes = [],\n          collection = typeof selector == 'object' && $(selector);\n      this.each(function (_, node) {\n        while (node && !(collection ? collection.indexOf(node) >= 0 : zepto.matches(node, selector))) node = node !== context && !isDocument(node) && node.parentNode;\n\n        if (node && nodes.indexOf(node) < 0) nodes.push(node);\n      });\n      return $(nodes);\n    },\n    parents: function (selector) {\n      var ancestors = [],\n          nodes = this;\n\n      while (nodes.length > 0) nodes = $.map(nodes, function (node) {\n        if ((node = node.parentNode) && !isDocument(node) && ancestors.indexOf(node) < 0) {\n          ancestors.push(node);\n          return node;\n        }\n      });\n\n      return filtered(ancestors, selector);\n    },\n    parent: function (selector) {\n      return filtered(uniq(this.pluck('parentNode')), selector);\n    },\n    children: function (selector) {\n      return filtered(this.map(function () {\n        return children(this);\n      }), selector);\n    },\n    contents: function () {\n      return this.map(function () {\n        return this.contentDocument || slice.call(this.childNodes);\n      });\n    },\n    siblings: function (selector) {\n      return filtered(this.map(function (i, el) {\n        return filter.call(children(el.parentNode), function (child) {\n          return child !== el;\n        });\n      }), selector);\n    },\n    empty: function () {\n      return this.each(function () {\n        this.innerHTML = '';\n      });\n    },\n    // `pluck` is borrowed from Prototype.js\n    pluck: function (property) {\n      return $.map(this, function (el) {\n        return el[property];\n      });\n    },\n    show: function () {\n      return this.each(function () {\n        this.style.display == \"none\" && (this.style.display = '');\n        if (getComputedStyle(this, '').getPropertyValue(\"display\") == \"none\") this.style.display = defaultDisplay(this.nodeName);\n      });\n    },\n    replaceWith: function (newContent) {\n      return this.before(newContent).remove();\n    },\n    wrap: function (structure) {\n      var func = isFunction(structure);\n      if (this[0] && !func) var dom = $(structure).get(0),\n          clone = dom.parentNode || this.length > 1;\n      return this.each(function (index) {\n        $(this).wrapAll(func ? structure.call(this, index) : clone ? dom.cloneNode(true) : dom);\n      });\n    },\n    wrapAll: function (structure) {\n      if (this[0]) {\n        $(this[0]).before(structure = $(structure));\n        var children; // drill down to the inmost element\n\n        while ((children = structure.children()).length) structure = children.first();\n\n        $(structure).append(this);\n      }\n\n      return this;\n    },\n    wrapInner: function (structure) {\n      var func = isFunction(structure);\n      return this.each(function (index) {\n        var self = $(this),\n            contents = self.contents(),\n            dom = func ? structure.call(this, index) : structure;\n        contents.length ? contents.wrapAll(dom) : self.append(dom);\n      });\n    },\n    unwrap: function () {\n      this.parent().each(function () {\n        $(this).replaceWith($(this).children());\n      });\n      return this;\n    },\n    clone: function () {\n      return this.map(function () {\n        return this.cloneNode(true);\n      });\n    },\n    hide: function () {\n      return this.css(\"display\", \"none\");\n    },\n    toggle: function (setting) {\n      return this.each(function () {\n        var el = $(this);\n        (setting === undefined$1 ? el.css(\"display\") == \"none\" : setting) ? el.show() : el.hide();\n      });\n    },\n    prev: function (selector) {\n      return $(this.pluck('previousElementSibling')).filter(selector || '*');\n    },\n    next: function (selector) {\n      return $(this.pluck('nextElementSibling')).filter(selector || '*');\n    },\n    html: function (html) {\n      return 0 in arguments ? this.each(function (idx) {\n        var originHtml = this.innerHTML;\n        $(this).empty().append(funcArg(this, html, idx, originHtml));\n      }) : 0 in this ? this[0].innerHTML : null;\n    },\n    text: function (text) {\n      return 0 in arguments ? this.each(function (idx) {\n        var newText = funcArg(this, text, idx, this.textContent);\n        this.textContent = newText == null ? '' : '' + newText;\n      }) : 0 in this ? this.pluck('textContent').join(\"\") : null;\n    },\n    attr: function (name, value) {\n      var result;\n      return typeof name == 'string' && !(1 in arguments) ? 0 in this && this[0].nodeType == 1 && (result = this[0].getAttribute(name)) != null ? result : undefined$1 : this.each(function (idx) {\n        if (this.nodeType !== 1) return;\n        if (isObject(name)) for (key in name) setAttribute(this, key, name[key]);else setAttribute(this, name, funcArg(this, value, idx, this.getAttribute(name)));\n      });\n    },\n    removeAttr: function (name) {\n      return this.each(function () {\n        this.nodeType === 1 && name.split(' ').forEach(function (attribute) {\n          setAttribute(this, attribute);\n        }, this);\n      });\n    },\n    prop: function (name, value) {\n      name = propMap[name] || name;\n      return 1 in arguments ? this.each(function (idx) {\n        this[name] = funcArg(this, value, idx, this[name]);\n      }) : this[0] && this[0][name];\n    },\n    removeProp: function (name) {\n      name = propMap[name] || name;\n      return this.each(function () {\n        delete this[name];\n      });\n    },\n    data: function (name, value) {\n      var attrName = 'data-' + name.replace(capitalRE, '-$1').toLowerCase();\n      var data = 1 in arguments ? this.attr(attrName, value) : this.attr(attrName);\n      return data !== null ? deserializeValue(data) : undefined$1;\n    },\n    val: function (value) {\n      if (0 in arguments) {\n        if (value == null) value = \"\";\n        return this.each(function (idx) {\n          this.value = funcArg(this, value, idx, this.value);\n        });\n      } else {\n        return this[0] && (this[0].multiple ? $(this[0]).find('option').filter(function () {\n          return this.selected;\n        }).pluck('value') : this[0].value);\n      }\n    },\n    offset: function (coordinates) {\n      if (coordinates) return this.each(function (index) {\n        var $this = $(this),\n            coords = funcArg(this, coordinates, index, $this.offset()),\n            parentOffset = $this.offsetParent().offset(),\n            props = {\n          top: coords.top - parentOffset.top,\n          left: coords.left - parentOffset.left\n        };\n        if ($this.css('position') == 'static') props['position'] = 'relative';\n        $this.css(props);\n      });\n      if (!this.length) return null;\n      if (document.documentElement !== this[0] && !$.contains(document.documentElement, this[0])) return {\n        top: 0,\n        left: 0\n      };\n      var obj = this[0].getBoundingClientRect();\n      return {\n        left: obj.left + window.pageXOffset,\n        top: obj.top + window.pageYOffset,\n        width: Math.round(obj.width),\n        height: Math.round(obj.height)\n      };\n    },\n    css: function (property, value) {\n      if (arguments.length < 2) {\n        var element = this[0];\n\n        if (typeof property == 'string') {\n          if (!element) return;\n          return element.style[camelize(property)] || getComputedStyle(element, '').getPropertyValue(property);\n        } else if (isArray(property)) {\n          if (!element) return;\n          var props = {};\n          var computedStyle = getComputedStyle(element, '');\n          $.each(property, function (_, prop) {\n            props[prop] = element.style[camelize(prop)] || computedStyle.getPropertyValue(prop);\n          });\n          return props;\n        }\n      }\n\n      var css = '';\n\n      if (type(property) == 'string') {\n        if (!value && value !== 0) this.each(function () {\n          this.style.removeProperty(dasherize(property));\n        });else css = dasherize(property) + \":\" + maybeAddPx(property, value);\n      } else {\n        for (key in property) if (!property[key] && property[key] !== 0) this.each(function () {\n          this.style.removeProperty(dasherize(key));\n        });else css += dasherize(key) + ':' + maybeAddPx(key, property[key]) + ';';\n      }\n\n      return this.each(function () {\n        this.style.cssText += ';' + css;\n      });\n    },\n    index: function (element) {\n      return element ? this.indexOf($(element)[0]) : this.parent().children().indexOf(this[0]);\n    },\n    hasClass: function (name) {\n      if (!name) return false;\n      return emptyArray.some.call(this, function (el) {\n        return this.test(className(el));\n      }, classRE(name));\n    },\n    addClass: function (name) {\n      if (!name) return this;\n      return this.each(function (idx) {\n        if (!('className' in this)) return;\n        classList = [];\n        var cls = className(this),\n            newName = funcArg(this, name, idx, cls);\n        newName.split(/\\s+/g).forEach(function (klass) {\n          if (!$(this).hasClass(klass)) classList.push(klass);\n        }, this);\n        classList.length && className(this, cls + (cls ? \" \" : \"\") + classList.join(\" \"));\n      });\n    },\n    removeClass: function (name) {\n      return this.each(function (idx) {\n        if (!('className' in this)) return;\n        if (name === undefined$1) return className(this, '');\n        classList = className(this);\n        funcArg(this, name, idx, classList).split(/\\s+/g).forEach(function (klass) {\n          classList = classList.replace(classRE(klass), \" \");\n        });\n        className(this, classList.trim());\n      });\n    },\n    toggleClass: function (name, when) {\n      if (!name) return this;\n      return this.each(function (idx) {\n        var $this = $(this),\n            names = funcArg(this, name, idx, className(this));\n        names.split(/\\s+/g).forEach(function (klass) {\n          (when === undefined$1 ? !$this.hasClass(klass) : when) ? $this.addClass(klass) : $this.removeClass(klass);\n        });\n      });\n    },\n    scrollTop: function (value) {\n      if (!this.length) return;\n      var hasScrollTop = 'scrollTop' in this[0];\n      if (value === undefined$1) return hasScrollTop ? this[0].scrollTop : this[0].pageYOffset;\n      return this.each(hasScrollTop ? function () {\n        this.scrollTop = value;\n      } : function () {\n        this.scrollTo(this.scrollX, value);\n      });\n    },\n    scrollLeft: function (value) {\n      if (!this.length) return;\n      var hasScrollLeft = 'scrollLeft' in this[0];\n      if (value === undefined$1) return hasScrollLeft ? this[0].scrollLeft : this[0].pageXOffset;\n      return this.each(hasScrollLeft ? function () {\n        this.scrollLeft = value;\n      } : function () {\n        this.scrollTo(value, this.scrollY);\n      });\n    },\n    position: function () {\n      if (!this.length) return;\n      var elem = this[0],\n          // Get *real* offsetParent\n      offsetParent = this.offsetParent(),\n          // Get correct offsets\n      offset = this.offset(),\n          parentOffset = rootNodeRE.test(offsetParent[0].nodeName) ? {\n        top: 0,\n        left: 0\n      } : offsetParent.offset(); // Subtract element margins\n      // note: when an element has margin: auto the offsetLeft and marginLeft\n      // are the same in Safari causing offset.left to incorrectly be 0\n\n      offset.top -= parseFloat($(elem).css('margin-top')) || 0;\n      offset.left -= parseFloat($(elem).css('margin-left')) || 0; // Add offsetParent borders\n\n      parentOffset.top += parseFloat($(offsetParent[0]).css('border-top-width')) || 0;\n      parentOffset.left += parseFloat($(offsetParent[0]).css('border-left-width')) || 0; // Subtract the two offsets\n\n      return {\n        top: offset.top - parentOffset.top,\n        left: offset.left - parentOffset.left\n      };\n    },\n    offsetParent: function () {\n      return this.map(function () {\n        var parent = this.offsetParent || document.body;\n\n        while (parent && !rootNodeRE.test(parent.nodeName) && $(parent).css(\"position\") == \"static\") parent = parent.offsetParent;\n\n        return parent;\n      });\n    }\n  }; // for now\n\n  $.fn.detach = $.fn.remove // Generate the `width` and `height` functions\n  ;\n  ['width', 'height'].forEach(function (dimension) {\n    var dimensionProperty = dimension.replace(/./, function (m) {\n      return m[0].toUpperCase();\n    });\n\n    $.fn[dimension] = function (value) {\n      var offset,\n          el = this[0];\n      if (value === undefined$1) return isWindow(el) ? el['inner' + dimensionProperty] : isDocument(el) ? el.documentElement['scroll' + dimensionProperty] : (offset = this.offset()) && offset[dimension];else return this.each(function (idx) {\n        el = $(this);\n        el.css(dimension, funcArg(this, value, idx, el[dimension]()));\n      });\n    };\n  });\n\n  function traverseNode(node, fun) {\n    fun(node);\n\n    for (var i = 0, len = node.childNodes.length; i < len; i++) traverseNode(node.childNodes[i], fun);\n  } // Generate the `after`, `prepend`, `before`, `append`,\n  // `insertAfter`, `insertBefore`, `appendTo`, and `prependTo` methods.\n\n\n  adjacencyOperators.forEach(function (operator, operatorIndex) {\n    var inside = operatorIndex % 2; //=> prepend, append\n\n    $.fn[operator] = function () {\n      // arguments can be nodes, arrays of nodes, Zepto objects and HTML strings\n      var argType,\n          nodes = $.map(arguments, function (arg) {\n        var arr = [];\n        argType = type(arg);\n\n        if (argType == \"array\") {\n          arg.forEach(function (el) {\n            if (el.nodeType !== undefined$1) return arr.push(el);else if ($.zepto.isZ(el)) return arr = arr.concat(el.get());\n            arr = arr.concat(zepto.fragment(el));\n          });\n          return arr;\n        }\n\n        return argType == \"object\" || arg == null ? arg : zepto.fragment(arg);\n      }),\n          parent,\n          copyByClone = this.length > 1;\n      if (nodes.length < 1) return this;\n      return this.each(function (_, target) {\n        parent = inside ? target : target.parentNode; // convert all methods to a \"before\" operation\n\n        target = operatorIndex == 0 ? target.nextSibling : operatorIndex == 1 ? target.firstChild : operatorIndex == 2 ? target : null;\n        var parentInDocument = $.contains(document.documentElement, parent);\n        nodes.forEach(function (node) {\n          if (copyByClone) node = node.cloneNode(true);else if (!parent) return $(node).remove();\n          parent.insertBefore(node, target);\n          if (parentInDocument) traverseNode(node, function (el) {\n            if (el.nodeName != null && el.nodeName.toUpperCase() === 'SCRIPT' && (!el.type || el.type === 'text/javascript') && !el.src) {\n              var target = el.ownerDocument ? el.ownerDocument.defaultView : window;\n              target['eval'].call(target, el.innerHTML);\n            }\n          });\n        });\n      });\n    }; // after    => insertAfter\n    // prepend  => prependTo\n    // before   => insertBefore\n    // append   => appendTo\n\n\n    $.fn[inside ? operator + 'To' : 'insert' + (operatorIndex ? 'Before' : 'After')] = function (html) {\n      $(html)[operator](this);\n      return this;\n    };\n  });\n  zepto.Z.prototype = Z.prototype = $.fn; // Export internal API functions in the `$.zepto` namespace\n\n  zepto.uniq = uniq;\n  zepto.deserializeValue = deserializeValue;\n  $.zepto = zepto;\n  return $;\n}();\n\nwindow.Zepto = Zepto;\nwindow.$ === undefined && (window.$ = Zepto);\n\n(function ($) {\n  var jsonpID = +new Date(),\n      document = window.document,\n      key,\n      name,\n      rscript = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\n      scriptTypeRE = /^(?:text|application)\\/javascript/i,\n      xmlTypeRE = /^(?:text|application)\\/xml/i,\n      jsonType = 'application/json',\n      htmlType = 'text/html',\n      blankRE = /^\\s*$/,\n      originAnchor = document.createElement('a');\n  originAnchor.href = window.location.href; // trigger a custom event and return false if it was cancelled\n\n  function triggerAndReturn(context, eventName, data) {\n    var event = $.Event(eventName);\n    $(context).trigger(event, data);\n    return !event.isDefaultPrevented();\n  } // trigger an Ajax \"global\" event\n\n\n  function triggerGlobal(settings, context, eventName, data) {\n    if (settings.global) return triggerAndReturn(context || document, eventName, data);\n  } // Number of active Ajax requests\n\n\n  $.active = 0;\n\n  function ajaxStart(settings) {\n    if (settings.global && $.active++ === 0) triggerGlobal(settings, null, 'ajaxStart');\n  }\n\n  function ajaxStop(settings) {\n    if (settings.global && ! --$.active) triggerGlobal(settings, null, 'ajaxStop');\n  } // triggers an extra global event \"ajaxBeforeSend\" that's like \"ajaxSend\" but cancelable\n\n\n  function ajaxBeforeSend(xhr, settings) {\n    var context = settings.context;\n    if (settings.beforeSend.call(context, xhr, settings) === false || triggerGlobal(settings, context, 'ajaxBeforeSend', [xhr, settings]) === false) return false;\n    triggerGlobal(settings, context, 'ajaxSend', [xhr, settings]);\n  }\n\n  function ajaxSuccess(data, xhr, settings, deferred) {\n    var context = settings.context,\n        status = 'success';\n    settings.success.call(context, data, status, xhr);\n    if (deferred) deferred.resolveWith(context, [data, status, xhr]);\n    triggerGlobal(settings, context, 'ajaxSuccess', [xhr, settings, data]);\n    ajaxComplete(status, xhr, settings);\n  } // type: \"timeout\", \"error\", \"abort\", \"parsererror\"\n\n\n  function ajaxError(error, type, xhr, settings, deferred) {\n    var context = settings.context;\n    settings.error.call(context, xhr, type, error);\n    if (deferred) deferred.rejectWith(context, [xhr, type, error]);\n    triggerGlobal(settings, context, 'ajaxError', [xhr, settings, error || type]);\n    ajaxComplete(type, xhr, settings);\n  } // status: \"success\", \"notmodified\", \"error\", \"timeout\", \"abort\", \"parsererror\"\n\n\n  function ajaxComplete(status, xhr, settings) {\n    var context = settings.context;\n    settings.complete.call(context, xhr, status);\n    triggerGlobal(settings, context, 'ajaxComplete', [xhr, settings]);\n    ajaxStop(settings);\n  }\n\n  function ajaxDataFilter(data, type, settings) {\n    if (settings.dataFilter == empty) return data;\n    var context = settings.context;\n    return settings.dataFilter.call(context, data, type);\n  } // Empty function, used as default callback\n\n\n  function empty() {}\n\n  $.ajaxJSONP = function (options, deferred) {\n    if (!('type' in options)) return $.ajax(options);\n\n    var _callbackName = options.jsonpCallback,\n        callbackName = ($.isFunction(_callbackName) ? _callbackName() : _callbackName) || 'Zepto' + jsonpID++,\n        script = document.createElement('script'),\n        originalCallback = window[callbackName],\n        responseData,\n        abort = function (errorType) {\n      $(script).triggerHandler('error', errorType || 'abort');\n    },\n        xhr = {\n      abort: abort\n    },\n        abortTimeout;\n\n    if (deferred) deferred.promise(xhr);\n    $(script).on('load error', function (e, errorType) {\n      clearTimeout(abortTimeout);\n      $(script).off().remove();\n\n      if (e.type == 'error' || !responseData) {\n        ajaxError(null, errorType || 'error', xhr, options, deferred);\n      } else {\n        ajaxSuccess(responseData[0], xhr, options, deferred);\n      }\n\n      window[callbackName] = originalCallback;\n      if (responseData && $.isFunction(originalCallback)) originalCallback(responseData[0]);\n      originalCallback = responseData = undefined;\n    });\n\n    if (ajaxBeforeSend(xhr, options) === false) {\n      abort('abort');\n      return xhr;\n    }\n\n    window[callbackName] = function () {\n      responseData = arguments;\n    };\n\n    script.src = options.url.replace(/\\?(.+)=\\?/, '?$1=' + callbackName);\n    document.head.appendChild(script);\n    if (options.timeout > 0) abortTimeout = setTimeout(function () {\n      abort('timeout');\n    }, options.timeout);\n    return xhr;\n  };\n\n  $.ajaxSettings = {\n    // Default type of request\n    type: 'GET',\n    // Callback that is executed before request\n    beforeSend: empty,\n    // Callback that is executed if the request succeeds\n    success: empty,\n    // Callback that is executed the the server drops error\n    error: empty,\n    // Callback that is executed on request complete (both: error and success)\n    complete: empty,\n    // The context for the callbacks\n    context: null,\n    // Whether to trigger \"global\" Ajax events\n    global: true,\n    // Transport\n    xhr: function () {\n      return new window.XMLHttpRequest();\n    },\n    // MIME types mapping\n    // IIS returns Javascript as \"application/x-javascript\"\n    accepts: {\n      script: 'text/javascript, application/javascript, application/x-javascript',\n      json: jsonType,\n      xml: 'application/xml, text/xml',\n      html: htmlType,\n      text: 'text/plain'\n    },\n    // Whether the request is to another domain\n    crossDomain: false,\n    // Default timeout\n    timeout: 0,\n    // Whether data should be serialized to string\n    processData: true,\n    // Whether the browser should be allowed to cache GET responses\n    cache: true,\n    //Used to handle the raw response data of XMLHttpRequest.\n    //This is a pre-filtering function to sanitize the response.\n    //The sanitized response should be returned\n    dataFilter: empty\n  };\n\n  function mimeToDataType(mime) {\n    if (mime) mime = mime.split(';', 2)[0];\n    return mime && (mime == htmlType ? 'html' : mime == jsonType ? 'json' : scriptTypeRE.test(mime) ? 'script' : xmlTypeRE.test(mime) && 'xml') || 'text';\n  }\n\n  function appendQuery(url, query) {\n    if (query == '') return url;\n    return (url + '&' + query).replace(/[&?]{1,2}/, '?');\n  } // serialize payload and append it to the URL for GET requests\n\n\n  function serializeData(options) {\n    if (options.processData && options.data && $.type(options.data) != \"string\") options.data = $.param(options.data, options.traditional);\n    if (options.data && (!options.type || options.type.toUpperCase() == 'GET' || 'jsonp' == options.dataType)) options.url = appendQuery(options.url, options.data), options.data = undefined;\n  }\n\n  $.ajax = function (options) {\n    var settings = $.extend({}, options || {}),\n        deferred = $.Deferred && $.Deferred(),\n        urlAnchor,\n        hashIndex;\n\n    for (key in $.ajaxSettings) if (settings[key] === undefined) settings[key] = $.ajaxSettings[key];\n\n    ajaxStart(settings);\n\n    if (!settings.crossDomain) {\n      urlAnchor = document.createElement('a');\n      urlAnchor.href = settings.url; // cleans up URL for .href (IE only), see https://github.com/madrobby/zepto/pull/1049\n\n      urlAnchor.href = urlAnchor.href;\n      settings.crossDomain = originAnchor.protocol + '//' + originAnchor.host !== urlAnchor.protocol + '//' + urlAnchor.host;\n    }\n\n    if (!settings.url) settings.url = window.location.toString();\n    if ((hashIndex = settings.url.indexOf('#')) > -1) settings.url = settings.url.slice(0, hashIndex);\n    serializeData(settings);\n    var dataType = settings.dataType,\n        hasPlaceholder = /\\?.+=\\?/.test(settings.url);\n    if (hasPlaceholder) dataType = 'jsonp';\n    if (settings.cache === false || (!options || options.cache !== true) && ('script' == dataType || 'jsonp' == dataType)) settings.url = appendQuery(settings.url, '_=' + Date.now());\n\n    if ('jsonp' == dataType) {\n      if (!hasPlaceholder) settings.url = appendQuery(settings.url, settings.jsonp ? settings.jsonp + '=?' : settings.jsonp === false ? '' : 'callback=?');\n      return $.ajaxJSONP(settings, deferred);\n    }\n\n    var mime = settings.accepts[dataType],\n        headers = {},\n        setHeader = function (name, value) {\n      headers[name.toLowerCase()] = [name, value];\n    },\n        protocol = /^([\\w-]+:)\\/\\//.test(settings.url) ? RegExp.$1 : window.location.protocol,\n        xhr = settings.xhr(),\n        nativeSetHeader = xhr.setRequestHeader,\n        abortTimeout;\n\n    if (deferred) deferred.promise(xhr);\n    if (!settings.crossDomain) setHeader('X-Requested-With', 'XMLHttpRequest');\n    setHeader('Accept', mime || '*/*');\n\n    if (mime = settings.mimeType || mime) {\n      if (mime.indexOf(',') > -1) mime = mime.split(',', 2)[0];\n      xhr.overrideMimeType && xhr.overrideMimeType(mime);\n    }\n\n    if (settings.contentType || settings.contentType !== false && settings.data && settings.type.toUpperCase() != 'GET') setHeader('Content-Type', settings.contentType || 'application/x-www-form-urlencoded');\n    if (settings.headers) for (name in settings.headers) setHeader(name, settings.headers[name]);\n    xhr.setRequestHeader = setHeader;\n\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState == 4) {\n        xhr.onreadystatechange = empty;\n        clearTimeout(abortTimeout);\n        var result,\n            error = false;\n\n        if (xhr.status >= 200 && xhr.status < 300 || xhr.status == 304 || xhr.status == 0 && protocol == 'file:') {\n          dataType = dataType || mimeToDataType(settings.mimeType || xhr.getResponseHeader('content-type'));\n          if (xhr.responseType == 'arraybuffer' || xhr.responseType == 'blob') result = xhr.response;else {\n            result = xhr.responseText;\n\n            try {\n              // http://perfectionkills.com/global-eval-what-are-the-options/\n              // sanitize response accordingly if data filter callback provided\n              result = ajaxDataFilter(result, dataType, settings);\n              if (dataType == 'script') (1, eval)(result);else if (dataType == 'xml') result = xhr.responseXML;else if (dataType == 'json') result = blankRE.test(result) ? null : $.parseJSON(result);\n            } catch (e) {\n              error = e;\n            }\n\n            if (error) return ajaxError(error, 'parsererror', xhr, settings, deferred);\n          }\n          ajaxSuccess(result, xhr, settings, deferred);\n        } else {\n          ajaxError(xhr.statusText || null, xhr.status ? 'error' : 'abort', xhr, settings, deferred);\n        }\n      }\n    };\n\n    if (ajaxBeforeSend(xhr, settings) === false) {\n      xhr.abort();\n      ajaxError(null, 'abort', xhr, settings, deferred);\n      return xhr;\n    }\n\n    var async = 'async' in settings ? settings.async : true;\n    xhr.open(settings.type, settings.url, async, settings.username, settings.password);\n    if (settings.xhrFields) for (name in settings.xhrFields) xhr[name] = settings.xhrFields[name];\n\n    for (name in headers) nativeSetHeader.apply(xhr, headers[name]);\n\n    if (settings.timeout > 0) abortTimeout = setTimeout(function () {\n      xhr.onreadystatechange = empty;\n      xhr.abort();\n      ajaxError(null, 'timeout', xhr, settings, deferred);\n    }, settings.timeout); // avoid sending empty string (#319)\n\n    xhr.send(settings.data ? settings.data : null);\n    return xhr;\n  }; // handle optional data/success arguments\n\n\n  function parseArguments(url, data, success, dataType) {\n    if ($.isFunction(data)) dataType = success, success = data, data = undefined;\n    if (!$.isFunction(success)) dataType = success, success = undefined;\n    return {\n      url: url,\n      data: data,\n      success: success,\n      dataType: dataType\n    };\n  }\n\n  $.get = function ()\n  /* url, data, success, dataType */\n  {\n    return $.ajax(parseArguments.apply(null, arguments));\n  };\n\n  $.post = function ()\n  /* url, data, success, dataType */\n  {\n    var options = parseArguments.apply(null, arguments);\n    options.type = 'POST';\n    return $.ajax(options);\n  };\n\n  $.getJSON = function ()\n  /* url, data, success */\n  {\n    var options = parseArguments.apply(null, arguments);\n    options.dataType = 'json';\n    return $.ajax(options);\n  };\n\n  $.fn.load = function (url, data, success) {\n    if (!this.length) return this;\n    var self = this,\n        parts = url.split(/\\s/),\n        selector,\n        options = parseArguments(url, data, success),\n        callback = options.success;\n    if (parts.length > 1) options.url = parts[0], selector = parts[1];\n\n    options.success = function (response) {\n      self.html(selector ? $('<div>').html(response.replace(rscript, \"\")).find(selector) : response);\n      callback && callback.apply(self, arguments);\n    };\n\n    $.ajax(options);\n    return this;\n  };\n\n  var escape = encodeURIComponent;\n\n  function serialize(params, obj, traditional, scope) {\n    var type,\n        array = $.isArray(obj),\n        hash = $.isPlainObject(obj);\n    $.each(obj, function (key, value) {\n      type = $.type(value);\n      if (scope) key = traditional ? scope : scope + '[' + (hash || type == 'object' || type == 'array' ? key : '') + ']'; // handle data in serializeArray() format\n\n      if (!scope && array) params.add(value.name, value.value); // recurse into nested objects\n      else if (type == \"array\" || !traditional && type == \"object\") serialize(params, value, traditional, key);else params.add(key, value);\n    });\n  }\n\n  $.param = function (obj, traditional) {\n    var params = [];\n\n    params.add = function (key, value) {\n      if ($.isFunction(value)) value = value();\n      if (value == null) value = \"\";\n      this.push(escape(key) + '=' + escape(value));\n    };\n\n    serialize(params, obj, traditional);\n    return params.join('&').replace(/%20/g, '+');\n  };\n})(Zepto);\n\n(function ($) {\n  // Create a collection of callbacks to be fired in a sequence, with configurable behaviour\n  // Option flags:\n  //   - once: Callbacks fired at most one time.\n  //   - memory: Remember the most recent context and arguments\n  //   - stopOnFalse: Cease iterating over callback list\n  //   - unique: Permit adding at most one instance of the same callback\n  $.Callbacks = function (options) {\n    options = $.extend({}, options);\n\n    var memory,\n        // Last fire value (for non-forgettable lists)\n    fired,\n        // Flag to know if list was already fired\n    firing,\n        // Flag to know if list is currently firing\n    firingStart,\n        // First callback to fire (used internally by add and fireWith)\n    firingLength,\n        // End of the loop when firing\n    firingIndex,\n        // Index of currently firing callback (modified by remove if needed)\n    list = [],\n        // Actual callback list\n    stack = !options.once && [],\n        // Stack of fire calls for repeatable lists\n    fire = function (data) {\n      memory = options.memory && data;\n      fired = true;\n      firingIndex = firingStart || 0;\n      firingStart = 0;\n      firingLength = list.length;\n      firing = true;\n\n      for (; list && firingIndex < firingLength; ++firingIndex) {\n        if (list[firingIndex].apply(data[0], data[1]) === false && options.stopOnFalse) {\n          memory = false;\n          break;\n        }\n      }\n\n      firing = false;\n\n      if (list) {\n        if (stack) stack.length && fire(stack.shift());else if (memory) list.length = 0;else Callbacks.disable();\n      }\n    },\n        Callbacks = {\n      add: function () {\n        if (list) {\n          var start = list.length,\n              add = function (args) {\n            $.each(args, function (_, arg) {\n              if (typeof arg === \"function\") {\n                if (!options.unique || !Callbacks.has(arg)) list.push(arg);\n              } else if (arg && arg.length && typeof arg !== 'string') add(arg);\n            });\n          };\n\n          add(arguments);\n          if (firing) firingLength = list.length;else if (memory) {\n            firingStart = start;\n            fire(memory);\n          }\n        }\n\n        return this;\n      },\n      remove: function () {\n        if (list) {\n          $.each(arguments, function (_, arg) {\n            var index;\n\n            while ((index = $.inArray(arg, list, index)) > -1) {\n              list.splice(index, 1); // Handle firing indexes\n\n              if (firing) {\n                if (index <= firingLength) --firingLength;\n                if (index <= firingIndex) --firingIndex;\n              }\n            }\n          });\n        }\n\n        return this;\n      },\n      has: function (fn) {\n        return !!(list && (fn ? $.inArray(fn, list) > -1 : list.length));\n      },\n      empty: function () {\n        firingLength = list.length = 0;\n        return this;\n      },\n      disable: function () {\n        list = stack = memory = undefined;\n        return this;\n      },\n      disabled: function () {\n        return !list;\n      },\n      lock: function () {\n        stack = undefined;\n        if (!memory) Callbacks.disable();\n        return this;\n      },\n      locked: function () {\n        return !stack;\n      },\n      fireWith: function (context, args) {\n        if (list && (!fired || stack)) {\n          args = args || [];\n          args = [context, args.slice ? args.slice() : args];\n          if (firing) stack.push(args);else fire(args);\n        }\n\n        return this;\n      },\n      fire: function () {\n        return Callbacks.fireWith(this, arguments);\n      },\n      fired: function () {\n        return !!fired;\n      }\n    };\n\n    return Callbacks;\n  };\n})(Zepto);\n\n(function ($) {\n  var slice = Array.prototype.slice;\n\n  function Deferred(func) {\n    var tuples = [// action, add listener, listener list, final state\n    [\"resolve\", \"done\", $.Callbacks({\n      once: 1,\n      memory: 1\n    }), \"resolved\"], [\"reject\", \"fail\", $.Callbacks({\n      once: 1,\n      memory: 1\n    }), \"rejected\"], [\"notify\", \"progress\", $.Callbacks({\n      memory: 1\n    })]],\n        state = \"pending\",\n        promise = {\n      state: function () {\n        return state;\n      },\n      always: function () {\n        deferred.done(arguments).fail(arguments);\n        return this;\n      },\n      then: function ()\n      /* fnDone [, fnFailed [, fnProgress]] */\n      {\n        var fns = arguments;\n        return Deferred(function (defer) {\n          $.each(tuples, function (i, tuple) {\n            var fn = $.isFunction(fns[i]) && fns[i];\n            deferred[tuple[1]](function () {\n              var returned = fn && fn.apply(this, arguments);\n\n              if (returned && $.isFunction(returned.promise)) {\n                returned.promise().done(defer.resolve).fail(defer.reject).progress(defer.notify);\n              } else {\n                var context = this === promise ? defer.promise() : this,\n                    values = fn ? [returned] : arguments;\n                defer[tuple[0] + \"With\"](context, values);\n              }\n            });\n          });\n          fns = null;\n        }).promise();\n      },\n      promise: function (obj) {\n        return obj != null ? $.extend(obj, promise) : promise;\n      }\n    },\n        deferred = {};\n    $.each(tuples, function (i, tuple) {\n      var list = tuple[2],\n          stateString = tuple[3];\n      promise[tuple[1]] = list.add;\n\n      if (stateString) {\n        list.add(function () {\n          state = stateString;\n        }, tuples[i ^ 1][2].disable, tuples[2][2].lock);\n      }\n\n      deferred[tuple[0]] = function () {\n        deferred[tuple[0] + \"With\"](this === deferred ? promise : this, arguments);\n        return this;\n      };\n\n      deferred[tuple[0] + \"With\"] = list.fireWith;\n    });\n    promise.promise(deferred);\n    if (func) func.call(deferred, deferred);\n    return deferred;\n  }\n\n  $.when = function (sub) {\n    var resolveValues = slice.call(arguments),\n        len = resolveValues.length,\n        i = 0,\n        remain = len !== 1 || sub && $.isFunction(sub.promise) ? len : 0,\n        deferred = remain === 1 ? sub : Deferred(),\n        progressValues,\n        progressContexts,\n        resolveContexts,\n        updateFn = function (i, ctx, val) {\n      return function (value) {\n        ctx[i] = this;\n        val[i] = arguments.length > 1 ? slice.call(arguments) : value;\n\n        if (val === progressValues) {\n          deferred.notifyWith(ctx, val);\n        } else if (! --remain) {\n          deferred.resolveWith(ctx, val);\n        }\n      };\n    };\n\n    if (len > 1) {\n      progressValues = new Array(len);\n      progressContexts = new Array(len);\n      resolveContexts = new Array(len);\n\n      for (; i < len; ++i) {\n        if (resolveValues[i] && $.isFunction(resolveValues[i].promise)) {\n          resolveValues[i].promise().done(updateFn(i, resolveContexts, resolveValues)).fail(deferred.reject).progress(updateFn(i, progressContexts, progressValues));\n        } else {\n          --remain;\n        }\n      }\n    }\n\n    if (!remain) deferred.resolveWith(resolveContexts, resolveValues);\n    return deferred.promise();\n  };\n\n  $.Deferred = Deferred;\n})(Zepto);\n\n(function ($) {\n  var _zid = 1,\n      undefined$1,\n      slice = Array.prototype.slice,\n      isFunction = $.isFunction,\n      isString = function (obj) {\n    return typeof obj == 'string';\n  },\n      handlers = {},\n      specialEvents = {},\n      focusinSupported = 'onfocusin' in window,\n      focus = {\n    focus: 'focusin',\n    blur: 'focusout'\n  },\n      hover = {\n    mouseenter: 'mouseover',\n    mouseleave: 'mouseout'\n  };\n\n  specialEvents.click = specialEvents.mousedown = specialEvents.mouseup = specialEvents.mousemove = 'MouseEvents';\n\n  function zid(element) {\n    return element._zid || (element._zid = _zid++);\n  }\n\n  function findHandlers(element, event, fn, selector) {\n    event = parse(event);\n    if (event.ns) var matcher = matcherFor(event.ns);\n    return (handlers[zid(element)] || []).filter(function (handler) {\n      return handler && (!event.e || handler.e == event.e) && (!event.ns || matcher.test(handler.ns)) && (!fn || zid(handler.fn) === zid(fn)) && (!selector || handler.sel == selector);\n    });\n  }\n\n  function parse(event) {\n    var parts = ('' + event).split('.');\n    return {\n      e: parts[0],\n      ns: parts.slice(1).sort().join(' ')\n    };\n  }\n\n  function matcherFor(ns) {\n    return new RegExp('(?:^| )' + ns.replace(' ', ' .* ?') + '(?: |$)');\n  }\n\n  function eventCapture(handler, captureSetting) {\n    return handler.del && !focusinSupported && handler.e in focus || !!captureSetting;\n  }\n\n  function realEvent(type) {\n    return hover[type] || focusinSupported && focus[type] || type;\n  }\n\n  function add(element, events, fn, data, selector, delegator, capture) {\n    var id = zid(element),\n        set = handlers[id] || (handlers[id] = []);\n    events.split(/\\s/).forEach(function (event) {\n      if (event == 'ready') return $(document).ready(fn);\n      var handler = parse(event);\n      handler.fn = fn;\n      handler.sel = selector; // emulate mouseenter, mouseleave\n\n      if (handler.e in hover) fn = function (e) {\n        var related = e.relatedTarget;\n        if (!related || related !== this && !$.contains(this, related)) return handler.fn.apply(this, arguments);\n      };\n      handler.del = delegator;\n      var callback = delegator || fn;\n\n      handler.proxy = function (e) {\n        e = compatible(e);\n        if (e.isImmediatePropagationStopped()) return;\n        e.data = data;\n        var result = callback.apply(element, e._args == undefined$1 ? [e] : [e].concat(e._args));\n        if (result === false) e.preventDefault(), e.stopPropagation();\n        return result;\n      };\n\n      handler.i = set.length;\n      set.push(handler);\n      if ('addEventListener' in element) element.addEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture));\n    });\n  }\n\n  function remove(element, events, fn, selector, capture) {\n    var id = zid(element);\n    (events || '').split(/\\s/).forEach(function (event) {\n      findHandlers(element, event, fn, selector).forEach(function (handler) {\n        delete handlers[id][handler.i];\n        if ('removeEventListener' in element) element.removeEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture));\n      });\n    });\n  }\n\n  $.event = {\n    add: add,\n    remove: remove\n  };\n\n  $.proxy = function (fn, context) {\n    var args = 2 in arguments && slice.call(arguments, 2);\n\n    if (isFunction(fn)) {\n      var proxyFn = function () {\n        return fn.apply(context, args ? args.concat(slice.call(arguments)) : arguments);\n      };\n\n      proxyFn._zid = zid(fn);\n      return proxyFn;\n    } else if (isString(context)) {\n      if (args) {\n        args.unshift(fn[context], fn);\n        return $.proxy.apply(null, args);\n      } else {\n        return $.proxy(fn[context], fn);\n      }\n    } else {\n      throw new TypeError(\"expected function\");\n    }\n  };\n\n  $.fn.bind = function (event, data, callback) {\n    return this.on(event, data, callback);\n  };\n\n  $.fn.unbind = function (event, callback) {\n    return this.off(event, callback);\n  };\n\n  $.fn.one = function (event, selector, data, callback) {\n    return this.on(event, selector, data, callback, 1);\n  };\n\n  var returnTrue = function () {\n    return true;\n  },\n      returnFalse = function () {\n    return false;\n  },\n      ignoreProperties = /^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,\n      eventMethods = {\n    preventDefault: 'isDefaultPrevented',\n    stopImmediatePropagation: 'isImmediatePropagationStopped',\n    stopPropagation: 'isPropagationStopped'\n  };\n\n  function compatible(event, source) {\n    if (source || !event.isDefaultPrevented) {\n      source || (source = event);\n      $.each(eventMethods, function (name, predicate) {\n        var sourceMethod = source[name];\n\n        event[name] = function () {\n          this[predicate] = returnTrue;\n          return sourceMethod && sourceMethod.apply(source, arguments);\n        };\n\n        event[predicate] = returnFalse;\n      });\n      event.timeStamp || (event.timeStamp = Date.now());\n      if (source.defaultPrevented !== undefined$1 ? source.defaultPrevented : 'returnValue' in source ? source.returnValue === false : source.getPreventDefault && source.getPreventDefault()) event.isDefaultPrevented = returnTrue;\n    }\n\n    return event;\n  }\n\n  function createProxy(event) {\n    var key,\n        proxy = {\n      originalEvent: event\n    };\n\n    for (key in event) if (!ignoreProperties.test(key) && event[key] !== undefined$1) proxy[key] = event[key];\n\n    return compatible(proxy, event);\n  }\n\n  $.fn.delegate = function (selector, event, callback) {\n    return this.on(event, selector, callback);\n  };\n\n  $.fn.undelegate = function (selector, event, callback) {\n    return this.off(event, selector, callback);\n  };\n\n  $.fn.live = function (event, callback) {\n    $(document.body).delegate(this.selector, event, callback);\n    return this;\n  };\n\n  $.fn.die = function (event, callback) {\n    $(document.body).undelegate(this.selector, event, callback);\n    return this;\n  };\n\n  $.fn.on = function (event, selector, data, callback, one) {\n    var autoRemove,\n        delegator,\n        $this = this;\n\n    if (event && !isString(event)) {\n      $.each(event, function (type, fn) {\n        $this.on(type, selector, data, fn, one);\n      });\n      return $this;\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false) callback = data, data = selector, selector = undefined$1;\n    if (callback === undefined$1 || data === false) callback = data, data = undefined$1;\n    if (callback === false) callback = returnFalse;\n    return $this.each(function (_, element) {\n      if (one) autoRemove = function (e) {\n        remove(element, e.type, callback);\n        return callback.apply(this, arguments);\n      };\n      if (selector) delegator = function (e) {\n        var evt,\n            match = $(e.target).closest(selector, element).get(0);\n\n        if (match && match !== element) {\n          evt = $.extend(createProxy(e), {\n            currentTarget: match,\n            liveFired: element\n          });\n          return (autoRemove || callback).apply(match, [evt].concat(slice.call(arguments, 1)));\n        }\n      };\n      add(element, event, callback, data, selector, delegator || autoRemove);\n    });\n  };\n\n  $.fn.off = function (event, selector, callback) {\n    var $this = this;\n\n    if (event && !isString(event)) {\n      $.each(event, function (type, fn) {\n        $this.off(type, selector, fn);\n      });\n      return $this;\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false) callback = selector, selector = undefined$1;\n    if (callback === false) callback = returnFalse;\n    return $this.each(function () {\n      remove(this, event, callback, selector);\n    });\n  };\n\n  $.fn.trigger = function (event, args) {\n    event = isString(event) || $.isPlainObject(event) ? $.Event(event) : compatible(event);\n    event._args = args;\n    return this.each(function () {\n      // handle focus(), blur() by calling them directly\n      if (event.type in focus && typeof this[event.type] == \"function\") this[event.type](); // items in the collection might not be DOM elements\n      else if ('dispatchEvent' in this) this.dispatchEvent(event);else $(this).triggerHandler(event, args);\n    });\n  }; // triggers event handlers on current element just as if an event occurred,\n  // doesn't trigger an actual event, doesn't bubble\n\n\n  $.fn.triggerHandler = function (event, args) {\n    var e, result;\n    this.each(function (i, element) {\n      e = createProxy(isString(event) ? $.Event(event) : event);\n      e._args = args;\n      e.target = element;\n      $.each(findHandlers(element, event.type || event), function (i, handler) {\n        result = handler.proxy(e);\n        if (e.isImmediatePropagationStopped()) return false;\n      });\n    });\n    return result;\n  } // shortcut methods for `.bind(event, fn)` for each event type\n  ;\n\n  ('focusin focusout focus blur load resize scroll unload click dblclick ' + 'mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave ' + 'change select keydown keypress keyup error').split(' ').forEach(function (event) {\n    $.fn[event] = function (callback) {\n      return 0 in arguments ? this.bind(event, callback) : this.trigger(event);\n    };\n  });\n\n  $.Event = function (type, props) {\n    if (!isString(type)) props = type, type = props.type;\n    var event = document.createEvent(specialEvents[type] || 'Events'),\n        bubbles = true;\n    if (props) for (var name in props) name == 'bubbles' ? bubbles = !!props[name] : event[name] = props[name];\n    event.initEvent(type, bubbles, true);\n    return compatible(event);\n  };\n})(Zepto);\n\n(function () {\n  // getComputedStyle shouldn't freak out when called\n  // without a valid element as argument\n  try {\n    getComputedStyle(undefined);\n  } catch (e) {\n    var nativeGetComputedStyle = getComputedStyle;\n\n    window.getComputedStyle = function (element, pseudoElement) {\n      try {\n        return nativeGetComputedStyle(element, pseudoElement);\n      } catch (e) {\n        return null;\n      }\n    };\n  }\n})();\n\n(function ($) {\n  var zepto = $.zepto,\n      oldQsa = zepto.qsa,\n      oldMatches = zepto.matches;\n\n  function visible(elem) {\n    elem = $(elem);\n    return !!(elem.width() || elem.height()) && elem.css(\"display\") !== \"none\";\n  } // Implements a subset from:\n  // http://api.jquery.com/category/selectors/jquery-selector-extensions/\n  //\n  // Each filter function receives the current index, all nodes in the\n  // considered set, and a value if there were parentheses. The value\n  // of `this` is the node currently being considered. The function returns the\n  // resulting node(s), null, or undefined.\n  //\n  // Complex selectors are not supported:\n  //   li:has(label:contains(\"foo\")) + li:has(label:contains(\"bar\"))\n  //   ul.inner:first > li\n\n\n  var filters = $.expr[':'] = {\n    visible: function () {\n      if (visible(this)) return this;\n    },\n    hidden: function () {\n      if (!visible(this)) return this;\n    },\n    selected: function () {\n      if (this.selected) return this;\n    },\n    checked: function () {\n      if (this.checked) return this;\n    },\n    parent: function () {\n      return this.parentNode;\n    },\n    first: function (idx) {\n      if (idx === 0) return this;\n    },\n    last: function (idx, nodes) {\n      if (idx === nodes.length - 1) return this;\n    },\n    eq: function (idx, _, value) {\n      if (idx === value) return this;\n    },\n    contains: function (idx, _, text) {\n      if ($(this).text().indexOf(text) > -1) return this;\n    },\n    has: function (idx, _, sel) {\n      if (zepto.qsa(this, sel).length) return this;\n    }\n  };\n  var filterRe = new RegExp('(.*):(\\\\w+)(?:\\\\(([^)]+)\\\\))?$\\\\s*'),\n      childRe = /^\\s*>/,\n      classTag = 'Zepto' + +new Date();\n\n  function process(sel, fn) {\n    // quote the hash in `a[href^=#]` expression\n    sel = sel.replace(/=#\\]/g, '=\"#\"]');\n    var filter,\n        arg,\n        match = filterRe.exec(sel);\n\n    if (match && match[2] in filters) {\n      filter = filters[match[2]], arg = match[3];\n      sel = match[1];\n\n      if (arg) {\n        var num = Number(arg);\n        if (isNaN(num)) arg = arg.replace(/^[\"']|[\"']$/g, '');else arg = num;\n      }\n    }\n\n    return fn(sel, filter, arg);\n  }\n\n  zepto.qsa = function (node, selector) {\n    return process(selector, function (sel, filter, arg) {\n      try {\n        var taggedParent;\n        if (!sel && filter) sel = '*';else if (childRe.test(sel)) // support \"> *\" child queries by tagging the parent node with a\n          // unique class and prepending that classname onto the selector\n          taggedParent = $(node).addClass(classTag), sel = '.' + classTag + ' ' + sel;\n        var nodes = oldQsa(node, sel);\n      } catch (e) {\n        console.error('error performing selector: %o', selector);\n        throw e;\n      } finally {\n        if (taggedParent) taggedParent.removeClass(classTag);\n      }\n\n      return !filter ? nodes : zepto.uniq($.map(nodes, function (n, i) {\n        return filter.call(n, i, nodes, arg);\n      }));\n    });\n  };\n\n  zepto.matches = function (node, selector) {\n    return process(selector, function (sel, filter, arg) {\n      return (!sel || oldMatches(node, sel)) && (!filter || filter.call(node, null, arg) === node);\n    });\n  };\n})(Zepto);\n\nvar zepto = Zepto;\n\n/* eslint-disable no-useless-escape */\n// The order of the following arrays is important, be careful if you change it.\nvar BROWSER_DATA = [{\n  name: 'Chromium',\n  group: 'Chrome',\n  identifier: 'Chromium/([0-9\\.]*)'\n}, {\n  name: 'Chrome Mobile',\n  group: 'Chrome',\n  identifier: 'Chrome/([0-9\\.]*) Mobile',\n  versionIdentifier: 'Chrome/([0-9\\.]*)'\n}, {\n  name: 'Chrome',\n  group: 'Chrome',\n  identifier: 'Chrome/([0-9\\.]*)'\n}, {\n  name: 'Chrome for iOS',\n  group: 'Chrome',\n  identifier: 'CriOS/([0-9\\.]*)'\n}, {\n  name: 'Android Browser',\n  group: 'Chrome',\n  identifier: 'CrMo/([0-9\\.]*)'\n}, {\n  name: 'Firefox',\n  group: 'Firefox',\n  identifier: 'Firefox/([0-9\\.]*)'\n}, {\n  name: 'Opera Mini',\n  group: 'Opera',\n  identifier: 'Opera Mini/([0-9\\.]*)'\n}, {\n  name: 'Opera',\n  group: 'Opera',\n  identifier: 'Opera ([0-9\\.]*)'\n}, {\n  name: 'Opera',\n  group: 'Opera',\n  identifier: 'Opera/([0-9\\.]*)',\n  versionIdentifier: 'Version/([0-9\\.]*)'\n}, {\n  name: 'IEMobile',\n  group: 'Explorer',\n  identifier: 'IEMobile/([0-9\\.]*)'\n}, {\n  name: 'Internet Explorer',\n  group: 'Explorer',\n  identifier: 'MSIE ([a-zA-Z0-9\\.]*)'\n}, {\n  name: 'Internet Explorer',\n  group: 'Explorer',\n  identifier: 'Trident/([0-9\\.]*)',\n  versionIdentifier: 'rv:([0-9\\.]*)'\n}, {\n  name: 'Spartan',\n  group: 'Spartan',\n  identifier: 'Edge/([0-9\\.]*)',\n  versionIdentifier: 'Edge/([0-9\\.]*)'\n}, {\n  name: 'Safari',\n  group: 'Safari',\n  identifier: 'Safari/([0-9\\.]*)',\n  versionIdentifier: 'Version/([0-9\\.]*)'\n}];\n\n/* eslint-disable no-useless-escape */\n// The order of the following arrays is important, be careful if you change it.\nvar OS_DATA = [{\n  name: 'Windows 2000',\n  group: 'Windows',\n  identifier: 'Windows NT 5.0',\n  version: '5.0'\n}, {\n  name: 'Windows XP',\n  group: 'Windows',\n  identifier: 'Windows NT 5.1',\n  version: '5.1'\n}, {\n  name: 'Windows Vista',\n  group: 'Windows',\n  identifier: 'Windows NT 6.0',\n  version: '6.0'\n}, {\n  name: 'Windows 7',\n  group: 'Windows',\n  identifier: 'Windows NT 6.1',\n  version: '7.0'\n}, {\n  name: 'Windows 8',\n  group: 'Windows',\n  identifier: 'Windows NT 6.2',\n  version: '8.0'\n}, {\n  name: 'Windows 8.1',\n  group: 'Windows',\n  identifier: 'Windows NT 6.3',\n  version: '8.1'\n}, {\n  name: 'Windows 10',\n  group: 'Windows',\n  identifier: 'Windows NT 10.0',\n  version: '10.0'\n}, {\n  name: 'Windows Phone',\n  group: 'Windows Phone',\n  identifier: 'Windows Phone ([0-9\\.]*)'\n}, {\n  name: 'Windows Phone',\n  group: 'Windows Phone',\n  identifier: 'Windows Phone OS ([0-9\\.]*)'\n}, {\n  name: 'Windows',\n  group: 'Windows',\n  identifier: 'Windows'\n}, {\n  name: 'Chrome OS',\n  group: 'Chrome OS',\n  identifier: 'CrOS'\n}, {\n  name: 'Android',\n  group: 'Android',\n  identifier: 'Android',\n  versionIdentifier: 'Android ([a-zA-Z0-9\\.-]*)'\n}, {\n  name: 'iPad',\n  group: 'iOS',\n  identifier: 'iPad',\n  versionIdentifier: 'OS ([0-9_]*)',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'iPod',\n  group: 'iOS',\n  identifier: 'iPod',\n  versionIdentifier: 'OS ([0-9_]*)',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'iPhone',\n  group: 'iOS',\n  identifier: 'iPhone OS',\n  versionIdentifier: 'OS ([0-9_]*)',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X High Sierra',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])13([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Sierra',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])12([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X El Capitan',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])11([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Yosemite',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])10([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Mavericks',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])9([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Mountain Lion',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])8([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Lion',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])7([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Snow Leopard',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])6([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Leopard',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])5([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Tiger',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])4([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Panther',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])3([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Jaguar',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])2([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Puma',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])1([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS X Cheetah',\n  group: 'Mac OS',\n  identifier: 'Mac OS X (10([_|\\.])0([0-9_\\.]*))',\n  versionSeparator: '[_|\\.]'\n}, {\n  name: 'Mac OS',\n  group: 'Mac OS',\n  identifier: 'Mac OS'\n}, {\n  name: 'Ubuntu',\n  group: 'Linux',\n  identifier: 'Ubuntu',\n  versionIdentifier: 'Ubuntu/([0-9\\.]*)'\n}, {\n  name: 'Debian',\n  group: 'Linux',\n  identifier: 'Debian'\n}, {\n  name: 'Gentoo',\n  group: 'Linux',\n  identifier: 'Gentoo'\n}, {\n  name: 'Linux',\n  group: 'Linux',\n  identifier: 'Linux'\n}, {\n  name: 'BlackBerry',\n  group: 'BlackBerry',\n  identifier: 'BlackBerry'\n}];\n\nvar Browser = {};\n\nvar hasLocalstorage = function hasLocalstorage() {\n  try {\n    localStorage.setItem('clappr', 'clappr');\n    localStorage.removeItem('clappr');\n    return true;\n  } catch (e) {\n    return false;\n  }\n};\n\nvar hasFlash = function hasFlash() {\n  try {\n    var fo = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');\n    return !!fo;\n  } catch (e) {\n    return !!(navigator.mimeTypes && navigator.mimeTypes['application/x-shockwave-flash'] !== undefined && navigator.mimeTypes['application/x-shockwave-flash'].enabledPlugin);\n  }\n};\n\nvar getBrowserInfo = function getBrowserInfo(ua) {\n  var parts = ua.match(/\\b(playstation 4|nx|opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i) || [],\n      extra;\n\n  if (/trident/i.test(parts[1])) {\n    extra = /\\brv[ :]+(\\d+)/g.exec(ua) || [];\n    return {\n      name: 'IE',\n      version: parseInt(extra[1] || '')\n    };\n  } else if (parts[1] === 'Chrome') {\n    extra = ua.match(/\\bOPR\\/(\\d+)/);\n    if (extra != null) return {\n      name: 'Opera',\n      version: parseInt(extra[1])\n    };\n    extra = ua.match(/\\bEdge\\/(\\d+)/);\n    if (extra != null) return {\n      name: 'Edge',\n      version: parseInt(extra[1])\n    };\n  } else if (/android/i.test(ua) && (extra = ua.match(/version\\/(\\d+)/i))) {\n    parts.splice(1, 1, 'Android WebView');\n    parts.splice(2, 1, extra[1]);\n  }\n\n  parts = parts[2] ? [parts[1], parts[2]] : [navigator.appName, navigator.appVersion, '-?'];\n  return {\n    name: parts[0],\n    version: parseInt(parts[1])\n  };\n}; //  Get browser data\n\nvar getBrowserData = function getBrowserData() {\n  var browserObject = {};\n  var userAgent = Browser.userAgent.toLowerCase(); // Check browser type\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = BROWSER_DATA[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var browser = _step.value;\n      var browserRegExp = new RegExp(browser.identifier.toLowerCase());\n      var browserRegExpResult = browserRegExp.exec(userAgent);\n\n      if (browserRegExpResult != null && browserRegExpResult[1]) {\n        browserObject.name = browser.name;\n        browserObject.group = browser.group; // Check version\n\n        if (browser.versionIdentifier) {\n          var versionRegExp = new RegExp(browser.versionIdentifier.toLowerCase());\n          var versionRegExpResult = versionRegExp.exec(userAgent);\n          if (versionRegExpResult != null && versionRegExpResult[1]) setBrowserVersion(versionRegExpResult[1], browserObject);\n        } else {\n          setBrowserVersion(browserRegExpResult[1], browserObject);\n        }\n\n        break;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return browserObject;\n}; // Set browser version\n\nvar setBrowserVersion = function setBrowserVersion(version, browserObject) {\n  var splitVersion = version.split('.', 2);\n  browserObject.fullVersion = version; // Major version\n\n  if (splitVersion[0]) browserObject.majorVersion = parseInt(splitVersion[0]); // Minor version\n\n  if (splitVersion[1]) browserObject.minorVersion = parseInt(splitVersion[1]);\n}; //  Get OS data\n\n\nvar getOsData = function getOsData() {\n  var osObject = {};\n  var userAgent = Browser.userAgent.toLowerCase(); // Check browser type\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = OS_DATA[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var os = _step2.value;\n      var osRegExp = new RegExp(os.identifier.toLowerCase());\n      var osRegExpResult = osRegExp.exec(userAgent);\n\n      if (osRegExpResult != null) {\n        osObject.name = os.name;\n        osObject.group = os.group; // Version defined\n\n        if (os.version) {\n          setOsVersion(os.version, os.versionSeparator ? os.versionSeparator : '.', osObject); // Version detected\n        } else if (osRegExpResult[1]) {\n          setOsVersion(osRegExpResult[1], os.versionSeparator ? os.versionSeparator : '.', osObject); // Version identifier\n        } else if (os.versionIdentifier) {\n          var versionRegExp = new RegExp(os.versionIdentifier.toLowerCase());\n          var versionRegExpResult = versionRegExp.exec(userAgent);\n          if (versionRegExpResult != null && versionRegExpResult[1]) setOsVersion(versionRegExpResult[1], os.versionSeparator ? os.versionSeparator : '.', osObject);\n        }\n\n        break;\n      }\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n        _iterator2[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return osObject;\n}; // Set OS version\n\nvar setOsVersion = function setOsVersion(version, separator, osObject) {\n  var finalSeparator = separator.substr(0, 1) == '[' ? new RegExp(separator, 'g') : separator;\n  var splitVersion = version.split(finalSeparator, 2);\n  if (separator != '.') version = version.replace(new RegExp(separator, 'g'), '.');\n  osObject.fullVersion = version; // Major version\n\n  if (splitVersion && splitVersion[0]) osObject.majorVersion = parseInt(splitVersion[0]); // Minor version\n\n  if (splitVersion && splitVersion[1]) osObject.minorVersion = parseInt(splitVersion[1]);\n}; // Set viewport size\n\n\nvar getViewportSize = function getViewportSize() {\n  var viewportObject = {};\n  viewportObject.width = zepto(window).width();\n  viewportObject.height = zepto(window).height();\n  return viewportObject;\n}; // Set viewport orientation\n\nvar setViewportOrientation = function setViewportOrientation() {\n  switch (window.orientation) {\n    case -90:\n    case 90:\n      Browser.viewport.orientation = 'landscape';\n      break;\n\n    default:\n      Browser.viewport.orientation = 'portrait';\n      break;\n  }\n};\n\nvar getDevice = function getDevice(ua) {\n  var platformRegExp = /\\((iP(?:hone|ad|od))?(?:[^;]*; ){0,2}([^)]+(?=\\)))/;\n  var matches = platformRegExp.exec(ua);\n  var device = matches && (matches[1] || matches[2]) || '';\n  return device;\n};\nvar browserInfo = getBrowserInfo(navigator.userAgent);\nBrowser.isEdge = /edge/i.test(navigator.userAgent);\nBrowser.isChrome = /chrome|CriOS/i.test(navigator.userAgent) && !Browser.isEdge;\nBrowser.isSafari = /safari/i.test(navigator.userAgent) && !Browser.isChrome && !Browser.isEdge;\nBrowser.isFirefox = /firefox/i.test(navigator.userAgent);\nBrowser.isLegacyIE = !!window.ActiveXObject;\nBrowser.isIE = Browser.isLegacyIE || /trident.*rv:1\\d/i.test(navigator.userAgent);\nBrowser.isIE11 = /trident.*rv:11/i.test(navigator.userAgent);\nBrowser.isChromecast = Browser.isChrome && /CrKey/i.test(navigator.userAgent);\nBrowser.isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone|IEMobile|Mobile Safari|Opera Mini/i.test(navigator.userAgent);\nBrowser.isiOS = /iPad|iPhone|iPod/i.test(navigator.userAgent);\nBrowser.isAndroid = /Android/i.test(navigator.userAgent);\nBrowser.isWindowsPhone = /Windows Phone/i.test(navigator.userAgent);\nBrowser.isWin8App = /MSAppHost/i.test(navigator.userAgent);\nBrowser.isWiiU = /WiiU/i.test(navigator.userAgent);\nBrowser.isPS4 = /PlayStation 4/i.test(navigator.userAgent);\nBrowser.hasLocalstorage = hasLocalstorage();\nBrowser.hasFlash = hasFlash();\n/**\n* @deprecated\n* This parameter currently exists for retrocompatibility reasons.\n* Use Browser.data.name instead.\n*/\n\nBrowser.name = browserInfo.name;\n/**\n* @deprecated\n* This parameter currently exists for retrocompatibility reasons.\n* Use Browser.data.fullVersion instead.\n*/\n\nBrowser.version = browserInfo.version;\nBrowser.userAgent = navigator.userAgent;\nBrowser.data = getBrowserData();\nBrowser.os = getOsData();\nBrowser.viewport = getViewportSize();\nBrowser.device = getDevice(Browser.userAgent);\ntypeof window.orientation !== 'undefined' && setViewportOrientation();\n\nfunction assign(obj, source) {\n  if (source) {\n    for (var prop in source) {\n      var propDescriptor = Object.getOwnPropertyDescriptor(source, prop);\n      propDescriptor ? Object.defineProperty(obj, prop, propDescriptor) : obj[prop] = source[prop];\n    }\n  }\n\n  return obj;\n}\nfunction extend(parent, properties) {\n  var Surrogate =\n  /*#__PURE__*/\n  function (_parent) {\n    _inherits(Surrogate, _parent);\n\n    function Surrogate() {\n      var _getPrototypeOf2;\n\n      var _this;\n\n      _classCallCheck(this, Surrogate);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Surrogate)).call.apply(_getPrototypeOf2, [this].concat(args)));\n      if (properties.initialize) properties.initialize.apply(_assertThisInitialized(_this), args);\n      return _this;\n    }\n\n    return Surrogate;\n  }(parent);\n\n  assign(Surrogate.prototype, properties);\n  return Surrogate;\n}\nfunction formatTime(time, paddedHours) {\n  if (!isFinite(time)) return '--:--';\n  time = time * 1000;\n  time = parseInt(time / 1000);\n  var seconds = time % 60;\n  time = parseInt(time / 60);\n  var minutes = time % 60;\n  time = parseInt(time / 60);\n  var hours = time % 24;\n  var days = parseInt(time / 24);\n  var out = '';\n\n  if (days && days > 0) {\n    out += days + ':';\n    if (hours < 1) out += '00:';\n  }\n\n  if (hours && hours > 0 || paddedHours) out += ('0' + hours).slice(-2) + ':';\n  out += ('0' + minutes).slice(-2) + ':';\n  out += ('0' + seconds).slice(-2);\n  return out.trim();\n}\nvar Fullscreen = {\n  fullscreenElement: function fullscreenElement() {\n    return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;\n  },\n  requestFullscreen: function requestFullscreen(el) {\n    if (el.requestFullscreen) el.requestFullscreen();else if (el.webkitRequestFullscreen) el.webkitRequestFullscreen();else if (el.mozRequestFullScreen) el.mozRequestFullScreen();else if (el.msRequestFullscreen) el.msRequestFullscreen();else if (el.querySelector && el.querySelector('video') && el.querySelector('video').webkitEnterFullScreen) el.querySelector('video').webkitEnterFullScreen();else if (el.webkitEnterFullScreen) el.webkitEnterFullScreen();\n  },\n  cancelFullscreen: function cancelFullscreen() {\n    var el = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n    if (el.exitFullscreen) el.exitFullscreen();else if (el.webkitCancelFullScreen) el.webkitCancelFullScreen();else if (el.webkitExitFullscreen) el.webkitExitFullscreen();else if (el.mozCancelFullScreen) el.mozCancelFullScreen();else if (el.msExitFullscreen) el.msExitFullscreen();\n  },\n  fullscreenEnabled: function fullscreenEnabled() {\n    return !!(document.fullscreenEnabled || document.webkitFullscreenEnabled || document.mozFullScreenEnabled || document.msFullscreenEnabled);\n  }\n};\nvar Config =\n/*#__PURE__*/\nfunction () {\n  function Config() {\n    _classCallCheck(this, Config);\n  }\n\n  _createClass(Config, null, [{\n    key: \"_defaultConfig\",\n    value: function _defaultConfig() {\n      return {\n        volume: {\n          value: 100,\n          parse: parseInt\n        }\n      };\n    }\n  }, {\n    key: \"_defaultValueFor\",\n    value: function _defaultValueFor(key) {\n      try {\n        return this._defaultConfig()[key].parse(this._defaultConfig()[key].value);\n      } catch (e) {\n        return undefined;\n      }\n    }\n  }, {\n    key: \"_createKeyspace\",\n    value: function _createKeyspace(key) {\n      return \"clappr.\".concat(document.domain, \".\").concat(key);\n    }\n  }, {\n    key: \"restore\",\n    value: function restore(key) {\n      if (Browser.hasLocalstorage && localStorage[this._createKeyspace(key)]) return this._defaultConfig()[key].parse(localStorage[this._createKeyspace(key)]);\n      return this._defaultValueFor(key);\n    }\n  }, {\n    key: \"persist\",\n    value: function persist(key, value) {\n      if (Browser.hasLocalstorage) {\n        try {\n          localStorage[this._createKeyspace(key)] = value;\n          return true;\n        } catch (e) {\n          return false;\n        }\n      }\n    }\n  }]);\n\n  return Config;\n}();\nvar QueryString =\n/*#__PURE__*/\nfunction () {\n  function QueryString() {\n    _classCallCheck(this, QueryString);\n  }\n\n  _createClass(QueryString, null, [{\n    key: \"parse\",\n    value: function parse(paramsString) {\n      var match;\n\n      var pl = /\\+/g,\n          // Regex for replacing addition symbol with a space\n      search = /([^&=]+)=?([^&]*)/g,\n          decode = function decode(s) {\n        return decodeURIComponent(s.replace(pl, ' '));\n      },\n          params = {};\n\n      while (match = search.exec(paramsString)) {\n        // eslint-disable-line no-cond-assign\n        params[decode(match[1]).toLowerCase()] = decode(match[2]);\n      }\n\n      return params;\n    }\n  }, {\n    key: \"params\",\n    get: function get() {\n      var query = window.location.search.substring(1);\n\n      if (query !== this.query) {\n        this._urlParams = this.parse(query);\n        this.query = query;\n      }\n\n      return this._urlParams;\n    }\n  }, {\n    key: \"hashParams\",\n    get: function get() {\n      var hash = window.location.hash.substring(1);\n\n      if (hash !== this.hash) {\n        this._hashParams = this.parse(hash);\n        this.hash = hash;\n      }\n\n      return this._hashParams;\n    }\n  }]);\n\n  return QueryString;\n}();\nfunction seekStringToSeconds() {\n  var paramName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 't';\n  var seconds = 0;\n  var seekString = QueryString.params[paramName] || QueryString.hashParams[paramName] || '';\n  var parts = seekString.match(/[0-9]+[hms]+/g) || [];\n\n  if (parts.length > 0) {\n    var factor = {\n      'h': 3600,\n      'm': 60,\n      's': 1\n    };\n    parts.forEach(function (el) {\n      if (el) {\n        var suffix = el[el.length - 1];\n        var time = parseInt(el.slice(0, el.length - 1), 10);\n        seconds += time * factor[suffix];\n      }\n    });\n  } else if (seekString) {\n    seconds = parseInt(seekString, 10);\n  }\n\n  return seconds;\n}\nvar idsCounter = {};\nfunction uniqueId(prefix) {\n  idsCounter[prefix] || (idsCounter[prefix] = 0);\n  var id = ++idsCounter[prefix];\n  return prefix + id;\n}\nfunction isNumber(value) {\n  return value - parseFloat(value) + 1 >= 0;\n}\nfunction currentScriptUrl() {\n  var scripts = document.getElementsByTagName('script');\n  return scripts.length ? scripts[scripts.length - 1].src : '';\n}\nvar requestAnimationFrame = (window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || function (fn) {\n  window.setTimeout(fn, 1000 / 60);\n}).bind(window);\nvar cancelAnimationFrame = (window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.clearTimeout).bind(window);\nfunction getBrowserLanguage() {\n  return window.navigator && window.navigator.language;\n}\nfunction now() {\n  if (window.performance && window.performance.now) return performance.now();\n  return Date.now();\n} // remove the item from the array if it exists in the array\n\nfunction removeArrayItem(arr, item) {\n  var i = arr.indexOf(item);\n  if (i >= 0) arr.splice(i, 1);\n} // find an item regardless of its letter case\n\nfunction listContainsIgnoreCase(item, items) {\n  if (item === undefined || items === undefined) return false;\n  return items.find(function (itemEach) {\n    return item.toLowerCase() === itemEach.toLowerCase();\n  }) !== undefined;\n} // https://github.com/video-dev/can-autoplay\n\nfunction canAutoPlayMedia(cb, options) {\n  options = Object.assign({\n    inline: false,\n    muted: false,\n    timeout: 250,\n    type: 'video',\n    source: Media.mp4,\n    element: null\n  }, options);\n  var element = options.element ? options.element : document.createElement(options.type);\n  element.muted = options.muted;\n  if (options.muted === true) element.setAttribute('muted', 'muted');\n  if (options.inline === true) element.setAttribute('playsinline', 'playsinline');\n  element.src = options.source;\n  var promise = element.play();\n  var timeoutId = setTimeout(function () {\n    setResult(false, new Error(\"Timeout \".concat(options.timeout, \" ms has been reached\")));\n  }, options.timeout);\n\n  var setResult = function setResult(result) {\n    var error = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    clearTimeout(timeoutId);\n    cb(result, error);\n  };\n\n  if (promise !== undefined) {\n    promise.then(function () {\n      return setResult(true);\n    })[\"catch\"](function (err) {\n      return setResult(false, err);\n    });\n  } else {\n    setResult(true);\n  }\n} // Simple element factory with video recycle feature.\n\nvar videoStack = [];\nvar DomRecycler =\n/*#__PURE__*/\nfunction () {\n  function DomRecycler() {\n    _classCallCheck(this, DomRecycler);\n  }\n\n  _createClass(DomRecycler, null, [{\n    key: \"configure\",\n    value: function configure(options) {\n      this.options = zepto.extend(this.options, options);\n    }\n  }, {\n    key: \"create\",\n    value: function create(name) {\n      if (this.options.recycleVideo && name === 'video' && videoStack.length > 0) return videoStack.shift();\n      return document.createElement(name);\n    }\n  }, {\n    key: \"garbage\",\n    value: function garbage(el) {\n      if (!this.options.recycleVideo || el.tagName.toUpperCase() !== 'VIDEO') return;\n      zepto(el).children().remove();\n      Object.values(el.attributes).forEach(function (attr) {\n        return el.removeAttribute(attr.name);\n      });\n      videoStack.push(el);\n    }\n  }]);\n\n  return DomRecycler;\n}();\nDomRecycler.options = {\n  recycleVideo: false\n};\nvar DoubleEventHandler =\n/*#__PURE__*/\nfunction () {\n  function DoubleEventHandler() {\n    var delay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 500;\n\n    _classCallCheck(this, DoubleEventHandler);\n\n    this.delay = delay;\n    this.lastTime = 0;\n  }\n\n  _createClass(DoubleEventHandler, [{\n    key: \"handle\",\n    value: function handle(event, cb) {\n      var prevented = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      // Based on http://jsfiddle.net/brettwp/J4djY/\n      var currentTime = new Date().getTime();\n      var diffTime = currentTime - this.lastTime;\n\n      if (diffTime < this.delay && diffTime > 0) {\n        cb();\n        prevented && event.preventDefault();\n      }\n\n      this.lastTime = currentTime;\n    }\n  }]);\n\n  return DoubleEventHandler;\n}();\nvar Utils = {\n  Config: Config,\n  Fullscreen: Fullscreen,\n  QueryString: QueryString,\n  DomRecycler: DomRecycler,\n  assign: assign,\n  extend: extend,\n  formatTime: formatTime,\n  seekStringToSeconds: seekStringToSeconds,\n  uniqueId: uniqueId,\n  currentScriptUrl: currentScriptUrl,\n  isNumber: isNumber,\n  requestAnimationFrame: requestAnimationFrame,\n  cancelAnimationFrame: cancelAnimationFrame,\n  getBrowserLanguage: getBrowserLanguage,\n  now: now,\n  removeArrayItem: removeArrayItem,\n  listContainsIgnoreCase: listContainsIgnoreCase,\n  canAutoPlayMedia: canAutoPlayMedia,\n  Media: Media,\n  DoubleEventHandler: DoubleEventHandler\n};\n\n// Use of this source code is governed by a BSD-style\n// license that can be found in the LICENSE file.\nvar BOLD = 'font-weight: bold; font-size: 13px;';\nvar INFO = 'color: #006600;' + BOLD;\nvar DEBUG = 'color: #0000ff;' + BOLD;\nvar WARN = 'color: #ff8000;' + BOLD;\nvar ERROR = 'color: #ff0000;' + BOLD;\nvar LEVEL_DEBUG = 0;\nvar LEVEL_INFO = 1;\nvar LEVEL_WARN = 2;\nvar LEVEL_ERROR = 3;\nvar LEVEL_DISABLED = LEVEL_ERROR;\nvar COLORS = [DEBUG, INFO, WARN, ERROR, ERROR];\nvar DESCRIPTIONS = ['debug', 'info', 'warn', 'error', 'disabled'];\n\nvar Log =\n/*#__PURE__*/\nfunction () {\n  function Log() {\n    var level = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : LEVEL_INFO;\n    var offLevel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : LEVEL_DISABLED;\n\n    _classCallCheck(this, Log);\n\n    this.BLACKLIST = ['timeupdate', 'playback:timeupdate', 'playback:progress', 'container:hover', 'container:timeupdate', 'container:progress'];\n    this.level = level;\n    this.offLevel = offLevel;\n  }\n\n  _createClass(Log, [{\n    key: \"debug\",\n    value: function debug(klass) {\n      this.log(klass, LEVEL_DEBUG, Array.prototype.slice.call(arguments, 1));\n    }\n  }, {\n    key: \"info\",\n    value: function info(klass) {\n      this.log(klass, LEVEL_INFO, Array.prototype.slice.call(arguments, 1));\n    }\n  }, {\n    key: \"warn\",\n    value: function warn(klass) {\n      this.log(klass, LEVEL_WARN, Array.prototype.slice.call(arguments, 1));\n    }\n  }, {\n    key: \"error\",\n    value: function error(klass) {\n      this.log(klass, LEVEL_ERROR, Array.prototype.slice.call(arguments, 1));\n    }\n  }, {\n    key: \"onOff\",\n    value: function onOff() {\n      if (this.level === this.offLevel) {\n        this.level = this.previousLevel;\n      } else {\n        this.previousLevel = this.level;\n        this.level = this.offLevel;\n      } // handle instances where console.log is unavailable\n\n\n      if (window.console && window.console.log) window.console.log('%c[Clappr.Log] set log level to ' + DESCRIPTIONS[this.level], WARN);\n    }\n  }, {\n    key: \"level\",\n    value: function level(newLevel) {\n      this.level = newLevel;\n    }\n  }, {\n    key: \"log\",\n    value: function log(klass, level, message) {\n      if (this.BLACKLIST.indexOf(message[0]) >= 0) return;\n      if (level < this.level) return;\n\n      if (!message) {\n        message = klass;\n        klass = null;\n      }\n\n      var color = COLORS[level];\n      var klassDescription = '';\n      if (klass) klassDescription = '[' + klass + ']';\n      if (window.console && window.console.log) window.console.log.apply(console, ['%c[' + DESCRIPTIONS[level] + ']' + klassDescription, color].concat(message));\n    }\n  }]);\n\n  return Log;\n}();\nLog.LEVEL_DEBUG = LEVEL_DEBUG;\nLog.LEVEL_INFO = LEVEL_INFO;\nLog.LEVEL_WARN = LEVEL_WARN;\nLog.LEVEL_ERROR = LEVEL_ERROR;\n\nLog.getInstance = function () {\n  if (this._instance === undefined) this._instance = new this();\n  return this._instance;\n};\n\nLog.setLevel = function (level) {\n  this.getInstance().level = level;\n};\n\nLog.debug = function () {\n  this.getInstance().debug.apply(this.getInstance(), arguments);\n};\n\nLog.info = function () {\n  this.getInstance().info.apply(this.getInstance(), arguments);\n};\n\nLog.warn = function () {\n  this.getInstance().warn.apply(this.getInstance(), arguments);\n};\n\nLog.error = function () {\n  this.getInstance().error.apply(this.getInstance(), arguments);\n};\n\nvar slice = Array.prototype.slice;\nvar eventSplitter = /\\s+/;\n\nvar eventsApi = function eventsApi(obj, action, name, rest) {\n  if (!name) return true; // Handle event maps.\n\n  if (_typeof(name) === 'object') {\n    for (var key in name) {\n      obj[action].apply(obj, [key, name[key]].concat(rest));\n    }\n\n    return false;\n  } // Handle space separated event names.\n\n\n  if (eventSplitter.test(name)) {\n    var names = name.split(eventSplitter);\n\n    for (var i = 0, l = names.length; i < l; i++) {\n      obj[action].apply(obj, [names[i]].concat(rest));\n    }\n\n    return false;\n  }\n\n  return true;\n};\n\nvar triggerEvents = function triggerEvents(events, args, klass, name) {\n  var ev,\n      i = -1;\n  var l = events.length,\n      a1 = args[0],\n      a2 = args[1],\n      a3 = args[2];\n  run();\n\n  function run() {\n    try {\n      switch (args.length) {\n        /* eslint-disable curly */\n        case 0:\n          while (++i < l) {\n            (ev = events[i]).callback.call(ev.ctx);\n          }\n\n          return;\n\n        case 1:\n          while (++i < l) {\n            (ev = events[i]).callback.call(ev.ctx, a1);\n          }\n\n          return;\n\n        case 2:\n          while (++i < l) {\n            (ev = events[i]).callback.call(ev.ctx, a1, a2);\n          }\n\n          return;\n\n        case 3:\n          while (++i < l) {\n            (ev = events[i]).callback.call(ev.ctx, a1, a2, a3);\n          }\n\n          return;\n\n        default:\n          while (++i < l) {\n            (ev = events[i]).callback.apply(ev.ctx, args);\n          }\n\n          return;\n      }\n    } catch (exception) {\n      Log.error.apply(Log, [klass, 'error on event', name, 'trigger', '-', exception]);\n      run();\n    }\n  }\n};\n/**\n * @class Events\n * @constructor\n * @module base\n */\n\n\nvar Events =\n/*#__PURE__*/\nfunction () {\n  function Events() {\n    _classCallCheck(this, Events);\n  }\n\n  _createClass(Events, [{\n    key: \"on\",\n\n    /**\n     * listen to an event indefinitely, if you want to stop you need to call `off`\n     * @method on\n     * @param {String} name\n     * @param {Function} callback\n     * @param {Object} context\n     */\n    value: function on(name, callback, context) {\n      if (!eventsApi(this, 'on', name, [callback, context]) || !callback) return this;\n      this._events || (this._events = {});\n      var events = this._events[name] || (this._events[name] = []);\n      events.push({\n        callback: callback,\n        context: context,\n        ctx: context || this\n      });\n      return this;\n    }\n    /**\n     * listen to an event only once\n     * @method once\n     * @param {String} name\n     * @param {Function} callback\n     * @param {Object} context\n     */\n\n  }, {\n    key: \"once\",\n    value: function once(name, callback, context) {\n      var _this = this;\n\n      var _once;\n\n      if (!eventsApi(this, 'once', name, [callback, context]) || !callback) return this;\n\n      var off = function off() {\n        return _this.off(name, _once);\n      };\n\n      _once = function once() {\n        off();\n        callback.apply(this, arguments);\n      };\n\n      return this.on(name, _once, context);\n    }\n    /**\n     * stop listening to an event\n     * @method off\n     * @param {String} name\n     * @param {Function} callback\n     * @param {Object} context\n     */\n\n  }, {\n    key: \"off\",\n    value: function off(name, callback, context) {\n      var retain, ev, events, names, i, l, j, k;\n      if (!this._events || !eventsApi(this, 'off', name, [callback, context])) return this;\n\n      if (!name && !callback && !context) {\n        this._events = void 0;\n        return this;\n      }\n\n      names = name ? [name] : Object.keys(this._events); // jshint maxdepth:5\n\n      for (i = 0, l = names.length; i < l; i++) {\n        name = names[i];\n        events = this._events[name];\n\n        if (events) {\n          this._events[name] = retain = [];\n\n          if (callback || context) {\n            for (j = 0, k = events.length; j < k; j++) {\n              ev = events[j];\n              if (callback && callback !== ev.callback && callback !== ev.callback._callback || context && context !== ev.context) retain.push(ev);\n            }\n          }\n\n          if (!retain.length) delete this._events[name];\n        }\n      }\n\n      return this;\n    }\n    /**\n     * triggers an event given its `name`\n     * @method trigger\n     * @param {String} name\n     */\n\n  }, {\n    key: \"trigger\",\n    value: function trigger(name) {\n      var klass = this.name || this.constructor.name;\n      Log.debug.apply(Log, [klass].concat(Array.prototype.slice.call(arguments)));\n      if (!this._events) return this;\n      var args = slice.call(arguments, 1);\n      if (!eventsApi(this, 'trigger', name, args)) return this;\n      var events = this._events[name];\n      var allEvents = this._events.all;\n      if (events) triggerEvents(events, args, klass, name);\n      if (allEvents) triggerEvents(allEvents, arguments, klass, name);\n      return this;\n    }\n    /**\n     * stop listening an event for a given object\n     * @method stopListening\n     * @param {Object} obj\n     * @param {String} name\n     * @param {Function} callback\n     */\n\n  }, {\n    key: \"stopListening\",\n    value: function stopListening(obj, name, callback) {\n      var listeningTo = this._listeningTo;\n      if (!listeningTo) return this;\n      var remove = !name && !callback;\n      if (!callback && _typeof(name) === 'object') callback = this;\n      if (obj) (listeningTo = {})[obj._listenId] = obj;\n\n      for (var id in listeningTo) {\n        obj = listeningTo[id];\n        obj.off(name, callback, this);\n        if (remove || Object.keys(obj._events).length === 0) delete this._listeningTo[id];\n      }\n\n      return this;\n    }\n  }], [{\n    key: \"register\",\n    value: function register(eventName) {\n      Events.Custom || (Events.Custom = {});\n      var property = typeof eventName === 'string' && eventName.toUpperCase().trim();\n\n      if (property && !Events.Custom[property]) {\n        Events.Custom[property] = property.toLowerCase().split('_').map(function (value, index) {\n          return index === 0 ? value : value = value[0].toUpperCase() + value.slice(1);\n        }).join('');\n      } else Log.error('Events', 'Error when register event: ' + eventName);\n    }\n  }, {\n    key: \"listAvailableCustomEvents\",\n    value: function listAvailableCustomEvents() {\n      Events.Custom || (Events.Custom = {});\n      return Object.keys(Events.Custom).filter(function (property) {\n        return typeof Events.Custom[property] === 'string';\n      });\n    }\n  }]);\n\n  return Events;\n}();\nvar listenMethods = {\n  listenTo: 'on',\n  listenToOnce: 'once'\n};\nObject.keys(listenMethods).forEach(function (method) {\n  Events.prototype[method] = function (obj, name, callback) {\n    var listeningTo = this._listeningTo || (this._listeningTo = {});\n    var id = obj._listenId || (obj._listenId = uniqueId('l'));\n    listeningTo[id] = obj;\n    if (!callback && _typeof(name) === 'object') callback = this;\n    obj[listenMethods[method]](name, callback, this);\n    return this;\n  };\n}); // PLAYER EVENTS\n\n/**\n * Fired when the player is ready on startup\n *\n * @event PLAYER_READY\n */\n\nEvents.PLAYER_READY = 'ready';\n/**\n * Fired when player resizes\n *\n * @event PLAYER_RESIZE\n * @param {Object} currentSize an object with the current size\n */\n\nEvents.PLAYER_RESIZE = 'resize';\n/**\n * Fired when player changes its fullscreen state\n *\n * @event PLAYER_FULLSCREEN\n * @param {Boolean} whether or not the player is on fullscreen mode\n */\n\nEvents.PLAYER_FULLSCREEN = 'fullscreen';\n/**\n * Fired when player starts to play\n *\n * @event PLAYER_PLAY\n */\n\nEvents.PLAYER_PLAY = 'play';\n/**\n * Fired when player pauses\n *\n * @event PLAYER_PAUSE\n */\n\nEvents.PLAYER_PAUSE = 'pause';\n/**\n * Fired when player stops\n *\n * @event PLAYER_STOP\n */\n\nEvents.PLAYER_STOP = 'stop';\n/**\n * Fired when player ends the video\n *\n * @event PLAYER_ENDED\n */\n\nEvents.PLAYER_ENDED = 'ended';\n/**\n * Fired when player seeks the video\n *\n * @event PLAYER_SEEK\n * @param {Number} time the current time in seconds\n */\n\nEvents.PLAYER_SEEK = 'seek';\n/**\n * Fired when player receives an error\n *\n * @event PLAYER_ERROR\n * @param {Object} error the error\n */\n\nEvents.PLAYER_ERROR = 'playererror';\n/**\n * Fired when there is an error\n *\n * @event ERROR\n * @param {Object} error\n * the error with the following format `{code, description, level, raw, origin, scope}`\n * @param {String} [options.code]\n * error's code: code to identify error in the following format: origin:code\n * @param {String} [options.description]\n * error's description: description of the error\n * @param {String} [options.level]\n * error's level: FATAL or WARN.\n * @param {String} [options.origin]\n * error's origin. Example: hls, html5, etc\n * @param {String} [options.scope]\n * error's scope. Example: playback, container, etc\n * @param {String} [options.raw]\n * raw error: the initial error received\n */\n\nEvents.ERROR = 'error';\n/**\n * Fired when the time is updated on player\n *\n * @event PLAYER_TIMEUPDATE\n * @param {Object} progress Data\n * progress object\n * @param {Number} [progress.current]\n * current time (in seconds)\n * @param {Number} [progress.total]\n * total time (in seconds)\n */\n\nEvents.PLAYER_TIMEUPDATE = 'timeupdate';\n/**\n * Fired when player updates its volume\n *\n * @event PLAYER_VOLUMEUPDATE\n * @param {Number} volume the current volume\n */\n\nEvents.PLAYER_VOLUMEUPDATE = 'volumeupdate';\n/**\n * Fired when subtitle is available\n *\n * @event PLAYER_SUBTITLE_AVAILABLE\n */\n\nEvents.PLAYER_SUBTITLE_AVAILABLE = 'subtitleavailable'; // Playback Events\n\n/**\n * Fired when the playback is downloading the media\n *\n * @event PLAYBACK_PROGRESS\n * @param progress {Object}\n * Data progress object\n * @param [progress.start] {Number}\n * start position of buffered content at current position\n * @param [progress.current] {Number}\n * end position of buffered content at current position\n * @param [progress.total] {Number}\n * total content to be downloaded\n * @param buffered {Array}\n * array of buffered segments ({start, end}). [Only for supported playbacks]\n */\n\nEvents.PLAYBACK_PROGRESS = 'playback:progress';\n/**\n * Fired when the time is updated on playback\n *\n * @event PLAYBACK_TIMEUPDATE\n * @param {Object} progress Data\n * progress object\n * @param {Number} [progress.current]\n * current time (in seconds)\n * @param {Number} [progress.total]\n * total time (in seconds)\n */\n\nEvents.PLAYBACK_TIMEUPDATE = 'playback:timeupdate';\n/**\n * Fired when playback is ready\n *\n * @event PLAYBACK_READY\n */\n\nEvents.PLAYBACK_READY = 'playback:ready';\n/**\n * Fired when the playback starts having to buffer because\n * playback can currently not be smooth.\n *\n * This corresponds to the playback `buffering` property being\n * `true`.\n *\n * @event PLAYBACK_BUFFERING\n */\n\nEvents.PLAYBACK_BUFFERING = 'playback:buffering';\n/**\n * Fired when the playback has enough in the buffer to be\n * able to play smoothly, after previously being unable to\n * do this.\n *\n * This corresponds to the playback `buffering` property being\n * `false`.\n *\n * @event PLAYBACK_BUFFERFULL\n */\n\nEvents.PLAYBACK_BUFFERFULL = 'playback:bufferfull';\n/**\n * Fired when playback changes any settings (volume, seek and etc)\n *\n * @event PLAYBACK_SETTINGSUPDATE\n */\n\nEvents.PLAYBACK_SETTINGSUPDATE = 'playback:settingsupdate';\n/**\n * Fired when playback loaded its metadata\n *\n * @event PLAYBACK_LOADEDMETADATA\n * @param {Object} metadata Data\n * settings object\n * @param {Number} [metadata.duration]\n * the playback duration\n * @param {Object} [metadata.data]\n * extra meta data\n */\n\nEvents.PLAYBACK_LOADEDMETADATA = 'playback:loadedmetadata';\n/**\n * Fired when playback updates its video quality\n *\n * @event PLAYBACK_HIGHDEFINITIONUPDATE\n * @param {Boolean} isHD\n * true when is on HD, false otherwise\n */\n\nEvents.PLAYBACK_HIGHDEFINITIONUPDATE = 'playback:highdefinitionupdate';\n/**\n * Fired when playback updates its bitrate\n *\n * @event PLAYBACK_BITRATE\n * @param {Object} bitrate Data\n * bitrate object\n * @param {Number} [bitrate.bandwidth]\n * bitrate bandwidth when it's available\n * @param {Number} [bitrate.width]\n * playback width (ex: 720, 640, 1080)\n * @param {Number} [bitrate.height]\n * playback height (ex: 240, 480, 720)\n * @param {Number} [bitrate.level]\n * playback level when it's available, it could be just a map for width (0 => 240, 1 => 480, 2 => 720)\n */\n\nEvents.PLAYBACK_BITRATE = 'playback:bitrate';\n/**\n * Fired when the playback has its levels\n *\n * @event PLAYBACK_LEVELS_AVAILABLE\n * @param {Array} levels\n * the ordered levels, each one with the following format `{id: 1, label: '500kbps'}` ps: id should be a number >= 0\n * @param {Number} initial\n * the initial level otherwise -1 (AUTO)\n */\n\nEvents.PLAYBACK_LEVELS_AVAILABLE = 'playback:levels:available';\n/**\n * Fired when the playback starts to switch level\n *\n * @event PLAYBACK_LEVEL_SWITCH_START\n *\n */\n\nEvents.PLAYBACK_LEVEL_SWITCH_START = 'playback:levels:switch:start';\n/**\n * Fired when the playback ends the level switch\n *\n * @event PLAYBACK_LEVEL_SWITCH_END\n *\n */\n\nEvents.PLAYBACK_LEVEL_SWITCH_END = 'playback:levels:switch:end';\n/**\n * Fired when playback internal state changes\n *\n * @event PLAYBACK_PLAYBACKSTATE\n * @param {Object} state Data\n * state object\n * @param {String} [state.type]\n * the playback type\n */\n\nEvents.PLAYBACK_PLAYBACKSTATE = 'playback:playbackstate';\n/**\n * Fired when DVR becomes enabled/disabled.\n *\n * @event PLAYBACK_DVR\n * @param {boolean} state true if dvr enabled\n */\n\nEvents.PLAYBACK_DVR = 'playback:dvr'; // TODO doc\n\nEvents.PLAYBACK_MEDIACONTROL_DISABLE = 'playback:mediacontrol:disable'; // TODO doc\n\nEvents.PLAYBACK_MEDIACONTROL_ENABLE = 'playback:mediacontrol:enable';\n/**\n * Fired when the media for a playback ends.\n *\n * @event PLAYBACK_ENDED\n * @param {String} name the name of the playback\n */\n\nEvents.PLAYBACK_ENDED = 'playback:ended';\n/**\n * Fired when user requests `play()`\n *\n * @event PLAYBACK_PLAY_INTENT\n */\n\nEvents.PLAYBACK_PLAY_INTENT = 'playback:play:intent';\n/**\n * Fired when the media for a playback starts playing.\n * This is not necessarily when the user requests `play()`\n * The media may have to buffer first.\n * I.e. `isPlaying()` might return `true` before this event is fired,\n * because `isPlaying()` represents the intended state.\n *\n * @event PLAYBACK_PLAY\n */\n\nEvents.PLAYBACK_PLAY = 'playback:play';\n/**\n * Fired when the media for a playback pauses.\n *\n * @event PLAYBACK_PAUSE\n */\n\nEvents.PLAYBACK_PAUSE = 'playback:pause';\n/**\n * Fired when the media for a playback is seeking.\n *\n * @event PLAYBACK_SEEK\n */\n\nEvents.PLAYBACK_SEEK = 'playback:seek';\n/**\n * Fired when the media for a playback is seeked.\n *\n * @event PLAYBACK_SEEKED\n */\n\nEvents.PLAYBACK_SEEKED = 'playback:seeked';\n/**\n * Fired when the media for a playback is stopped.\n *\n * @event PLAYBACK_STOP\n */\n\nEvents.PLAYBACK_STOP = 'playback:stop';\n/**\n * Fired if an error occurs in the playback.\n *\n * @event PLAYBACK_ERROR\n * @param {Object} error An object containing the error details\n * @param {String} name Playback name\n */\n\nEvents.PLAYBACK_ERROR = 'playback:error'; // TODO doc\n\nEvents.PLAYBACK_STATS_ADD = 'playback:stats:add'; // TODO doc\n\nEvents.PLAYBACK_FRAGMENT_LOADED = 'playback:fragment:loaded'; // TODO doc\n\nEvents.PLAYBACK_LEVEL_SWITCH = 'playback:level:switch';\n/**\n * Fired when subtitle is available on playback for display\n *\n * @event PLAYBACK_SUBTITLE_AVAILABLE\n */\n\nEvents.PLAYBACK_SUBTITLE_AVAILABLE = 'playback:subtitle:available';\n/**\n * Fired when playback subtitle track has changed\n *\n * @event CONTAINER_SUBTITLE_CHANGED\n * @param {Object} track Data\n * track object\n * @param {Number} [track.id]\n * selected track id\n */\n\nEvents.PLAYBACK_SUBTITLE_CHANGED = 'playback:subtitle:changed'; // Core Events\n\n/**\n * Fired when the containers are created\n *\n * @event CORE_CONTAINERS_CREATED\n */\n\nEvents.CORE_CONTAINERS_CREATED = 'core:containers:created';\n/**\n * Fired when the active container changed\n *\n * @event CORE_ACTIVE_CONTAINER_CHANGED\n */\n\nEvents.CORE_ACTIVE_CONTAINER_CHANGED = 'core:active:container:changed';\n/**\n * Fired when the options were changed for the core\n *\n * @event CORE_OPTIONS_CHANGE\n * @param {Object} new options provided to configure() method\n */\n\nEvents.CORE_OPTIONS_CHANGE = 'core:options:change';\n/**\n * Fired after creating containers, when the core is ready\n *\n * @event CORE_READY\n */\n\nEvents.CORE_READY = 'core:ready';\n/**\n * Fired when the fullscreen state change\n *\n * @event CORE_FULLSCREEN\n * @param {Boolean} whether or not the player is on fullscreen mode\n */\n\nEvents.CORE_FULLSCREEN = 'core:fullscreen';\n/**\n * Fired when core updates size\n *\n * @event CORE_RESIZE\n * @param {Object} currentSize an object with the current size\n */\n\nEvents.CORE_RESIZE = 'core:resize';\n/**\n * Fired when the screen orientation has changed.\n * This event is trigger only for mobile devices.\n *\n * @event CORE_SCREEN_ORIENTATION_CHANGED\n * @param {Object} screen An object with screen orientation\n * screen object\n * @param {Object} [screen.event]\n * window resize event object\n * @param {String} [screen.orientation]\n * screen orientation (ie: 'landscape' or 'portrait')\n */\n\nEvents.CORE_SCREEN_ORIENTATION_CHANGED = 'core:screen:orientation:changed';\n/**\n * Fired when occurs mouse move event on core element\n *\n * @event CORE_MOUSE_MOVE\n * @param {Object} event a DOM event\n */\n\nEvents.CORE_MOUSE_MOVE = 'core:mousemove';\n/**\n * Fired when occurs mouse leave event on core element\n *\n * @event CORE_MOUSE_LEAVE\n * @param {Object} event a DOM event\n */\n\nEvents.CORE_MOUSE_LEAVE = 'core:mouseleave'; // Container Events\n\n/**\n * Fired when the container internal state changes\n *\n * @event CONTAINER_PLAYBACKSTATE\n * @param {Object} state Data\n * state object\n * @param {String} [state.type]\n * the playback type\n */\n\nEvents.CONTAINER_PLAYBACKSTATE = 'container:playbackstate';\nEvents.CONTAINER_PLAYBACKDVRSTATECHANGED = 'container:dvr';\n/**\n * Fired when the container updates its bitrate\n *\n * @event CONTAINER_BITRATE\n * @param {Object} bitrate Data\n * bitrate object\n * @param {Number} [bitrate.bandwidth]\n * bitrate bandwidth when it's available\n * @param {Number} [bitrate.width]\n * playback width (ex: 720, 640, 1080)\n * @param {Number} [bitrate.height]\n * playback height (ex: 240, 480, 720)\n * @param {Number} [bitrate.level]\n * playback level when it's available, it could be just a map for width (0 => 240, 1 => 480, 2 => 720)\n */\n\nEvents.CONTAINER_BITRATE = 'container:bitrate';\nEvents.CONTAINER_STATS_REPORT = 'container:stats:report';\nEvents.CONTAINER_DESTROYED = 'container:destroyed';\n/**\n * Fired when the container is ready\n *\n * @event CONTAINER_READY\n */\n\nEvents.CONTAINER_READY = 'container:ready';\n/**\n * Fired when the container was resized.\n *\n * Some fullscreen modes won't trigger this resize since they don't affect the container, only the playback contents.\n *\n * @event CONTAINER_RESIZE\n */\n\nEvents.CONTAINER_RESIZE = 'container:resize';\nEvents.CONTAINER_ERROR = 'container:error';\n/**\n * Fired when the container loaded its metadata\n *\n * @event CONTAINER_LOADEDMETADATA\n * @param {Object} metadata Data\n * settings object\n * @param {Number} [metadata.duration]\n * the playback duration\n * @param {Object} [metadata.data]\n * extra meta data\n */\n\nEvents.CONTAINER_LOADEDMETADATA = 'container:loadedmetadata';\n/**\n * Fired when subtitle is available on container for display\n *\n * @event CONTAINER_SUBTITLE_AVAILABLE\n */\n\nEvents.CONTAINER_SUBTITLE_AVAILABLE = 'container:subtitle:available';\n/**\n * Fired when subtitle track has changed\n *\n * @event CONTAINER_SUBTITLE_CHANGED\n * @param {Object} track Data\n * track object\n * @param {Number} [track.id]\n * selected track id\n */\n\nEvents.CONTAINER_SUBTITLE_CHANGED = 'container:subtitle:changed';\n/**\n * Fired when the time is updated on container\n *\n * @event CONTAINER_TIMEUPDATE\n * @param {Object} progress Data\n * progress object\n * @param {Number} [progress.current]\n * current time (in seconds)\n * @param {Number} [progress.total]\n * total time (in seconds)\n */\n\nEvents.CONTAINER_TIMEUPDATE = 'container:timeupdate';\n/**\n * Fired when the container is downloading the media\n *\n * @event CONTAINER_PROGRESS\n * @param {Object} progress Data\n * progress object\n * @param {Number} [progress.start]\n * initial downloaded content\n * @param {Number} [progress.current]\n * current dowloaded content\n * @param {Number} [progress.total]\n * total content to be downloaded\n */\n\nEvents.CONTAINER_PROGRESS = 'container:progress';\nEvents.CONTAINER_PLAY = 'container:play';\nEvents.CONTAINER_STOP = 'container:stop';\nEvents.CONTAINER_PAUSE = 'container:pause';\nEvents.CONTAINER_ENDED = 'container:ended';\nEvents.CONTAINER_CLICK = 'container:click';\nEvents.CONTAINER_DBLCLICK = 'container:dblclick';\nEvents.CONTAINER_CONTEXTMENU = 'container:contextmenu';\nEvents.CONTAINER_MOUSE_ENTER = 'container:mouseenter';\nEvents.CONTAINER_MOUSE_LEAVE = 'container:mouseleave';\n/**\n * Fired when the container seeks the video\n *\n * @event CONTAINER_SEEK\n * @param {Number} time the current time in seconds\n */\n\nEvents.CONTAINER_SEEK = 'container:seek';\n/**\n * Fired when the container was finished the seek video\n *\n * @event CONTAINER_SEEKED\n * @param {Number} time the current time in seconds\n */\n\nEvents.CONTAINER_SEEKED = 'container:seeked';\nEvents.CONTAINER_VOLUME = 'container:volume';\nEvents.CONTAINER_FULLSCREEN = 'container:fullscreen';\n/**\n * Fired when container is buffering\n *\n * @event CONTAINER_STATE_BUFFERING\n */\n\nEvents.CONTAINER_STATE_BUFFERING = 'container:state:buffering';\n/**\n * Fired when the container filled the buffer\n *\n * @event CONTAINER_STATE_BUFFERFULL\n */\n\nEvents.CONTAINER_STATE_BUFFERFULL = 'container:state:bufferfull';\n/**\n * Fired when the container changes any settings (volume, seek and etc)\n *\n * @event CONTAINER_SETTINGSUPDATE\n */\n\nEvents.CONTAINER_SETTINGSUPDATE = 'container:settingsupdate';\n/**\n * Fired when container updates its video quality\n *\n * @event CONTAINER_HIGHDEFINITIONUPDATE\n * @param {Boolean} isHD\n * true when is on HD, false otherwise\n */\n\nEvents.CONTAINER_HIGHDEFINITIONUPDATE = 'container:highdefinitionupdate';\n/**\n * Fired when the media control shows\n *\n * @event CONTAINER_MEDIACONTROL_SHOW\n */\n\nEvents.CONTAINER_MEDIACONTROL_SHOW = 'container:mediacontrol:show';\n/**\n * Fired when the media control hides\n *\n * @event CONTAINER_MEDIACONTROL_HIDE\n */\n\nEvents.CONTAINER_MEDIACONTROL_HIDE = 'container:mediacontrol:hide';\nEvents.CONTAINER_MEDIACONTROL_DISABLE = 'container:mediacontrol:disable';\nEvents.CONTAINER_MEDIACONTROL_ENABLE = 'container:mediacontrol:enable';\nEvents.CONTAINER_STATS_ADD = 'container:stats:add';\n/**\n * Fired when the options were changed for the container\n *\n * @event CONTAINER_OPTIONS_CHANGE\n */\n\nEvents.CONTAINER_OPTIONS_CHANGE = 'container:options:change'; // MediaControl Events\n\nEvents.MEDIACONTROL_RENDERED = 'mediacontrol:rendered';\n/**\n * Fired when the player enters/exit on fullscreen\n *\n * @event MEDIACONTROL_FULLSCREEN\n */\n\nEvents.MEDIACONTROL_FULLSCREEN = 'mediacontrol:fullscreen';\n/**\n * Fired when the media control shows\n *\n * @event MEDIACONTROL_SHOW\n */\n\nEvents.MEDIACONTROL_SHOW = 'mediacontrol:show';\n/**\n * Fired when the media control hides\n *\n * @event MEDIACONTROL_HIDE\n */\n\nEvents.MEDIACONTROL_HIDE = 'mediacontrol:hide';\n/**\n * Fired when mouse enters on the seekbar\n *\n * @event MEDIACONTROL_MOUSEMOVE_SEEKBAR\n * @param {Object} event\n * the javascript event\n */\n\nEvents.MEDIACONTROL_MOUSEMOVE_SEEKBAR = 'mediacontrol:mousemove:seekbar';\n/**\n * Fired when mouse leaves the seekbar\n *\n * @event MEDIACONTROL_MOUSELEAVE_SEEKBAR\n * @param {Object} event\n * the javascript event\n */\n\nEvents.MEDIACONTROL_MOUSELEAVE_SEEKBAR = 'mediacontrol:mouseleave:seekbar';\n/**\n * Fired when the media is being played\n *\n * @event MEDIACONTROL_PLAYING\n */\n\nEvents.MEDIACONTROL_PLAYING = 'mediacontrol:playing';\n/**\n * Fired when the media is not being played\n *\n * @event MEDIACONTROL_NOTPLAYING\n */\n\nEvents.MEDIACONTROL_NOTPLAYING = 'mediacontrol:notplaying';\n/**\n * Fired when the container was changed\n *\n * @event MEDIACONTROL_CONTAINERCHANGED\n */\n\nEvents.MEDIACONTROL_CONTAINERCHANGED = 'mediacontrol:containerchanged';\n/**\n * Fired when the options were changed for the mediacontrol\n *\n * @event MEDIACONTROL_OPTIONS_CHANGE\n */\n\nEvents.MEDIACONTROL_OPTIONS_CHANGE = 'mediacontrol:options:change';\n\n/**\n * @class BaseObject\n * @constructor\n * @extends Events\n * @module base\n */\n\nvar BaseObject =\n/*#__PURE__*/\nfunction (_Events) {\n  _inherits(BaseObject, _Events);\n\n  _createClass(BaseObject, [{\n    key: \"options\",\n\n    /**\n     * returns the object options\n     * @property options\n     * @type Object\n     */\n    get: function get() {\n      return this._options;\n    }\n    /**\n     * @method constructor\n     * @param {Object} options\n     */\n\n  }]);\n\n  function BaseObject() {\n    var _this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, BaseObject);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BaseObject).call(this, options));\n    _this._options = options;\n    _this.uniqueId = uniqueId('o');\n    return _this;\n  }\n  /**\n  * a unique id prefixed with `'o'`, `o1, o232`\n  *\n  * @property uniqueId\n  * @type String\n  */\n\n\n  return BaseObject;\n}(Events);\n\nvar delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n/**\n * A base class to create ui object.\n * @class UIObject\n * @constructor\n * @extends BaseObject\n * @module base\n */\n\nvar UIObject =\n/*#__PURE__*/\nfunction (_BaseObject) {\n  _inherits(UIObject, _BaseObject);\n\n  _createClass(UIObject, [{\n    key: \"tagName\",\n\n    /**\n     * a unique id prefixed with `'c'`, `c1, c232`\n     *\n     * @property cid\n     * @type String\n     */\n\n    /**\n     * the dom element itself\n     *\n     * @property el\n     * @type HTMLElement\n     */\n\n    /**\n     * the dom element wrapped by `$`\n     *\n     * @property $el\n     * @type HTMLElement\n     */\n\n    /**\n     * gets the tag name for the ui component\n     * @method tagName\n     * @default div\n     * @return {String} tag's name\n     */\n    get: function get() {\n      return 'div';\n    }\n    /**\n     * a literal object mapping element's events to methods\n     * @property events\n     * @type Object\n     * @example\n     *\n     *```javascript\n     *\n     * class MyButton extends UIObject {\n     *   constructor(options) {\n     *     super(options)\n     *     this.myId = 0\n     *   }\n     *   get events() { return { 'click': 'myClick' } }\n     *   myClick(){ this.myId = 42 }\n     * }\n     *\n     * // when you click on MyButton the method `myClick` will be called\n     *```\n     */\n\n  }, {\n    key: \"events\",\n    get: function get() {\n      return {};\n    }\n    /**\n     * a literal object mapping attributes and values to the element\n     * element's attribute name and the value the attribute value\n     * @property attributes\n     * @type Object\n     * @example\n     *\n     *```javascript\n     *\n     * class MyButton extends UIObject {\n     *    constructor(options) { super(options) }\n     *    get attributes() { return { class: 'my-button'} }\n     * }\n     *\n     * // MyButton.el.className will be 'my-button'\n     * ```\n     */\n\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {};\n    }\n    /**\n     * it builds an ui component by:\n     *  * creating an id for the component `cid`\n     *  * making sure the element is created `$el`\n     *  * delegating all `events` to the element\n     * @method constructor\n     * @param {Object} options the options object\n     */\n\n  }]);\n\n  function UIObject(options) {\n    var _this;\n\n    _classCallCheck(this, UIObject);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UIObject).call(this, options));\n    _this.cid = uniqueId('c');\n\n    _this._ensureElement();\n\n    _this.delegateEvents();\n\n    return _this;\n  }\n  /**\n   * selects within the component.\n   * @method $\n   * @param {String} selector a selector to find within the component.\n   * @return {HTMLElement} an element, if it exists.\n   * @example\n   * ```javascript\n   * fullScreenBarUIComponent.$('.button-full') //will return only `.button-full` within the component\n   * ```\n   */\n\n\n  _createClass(UIObject, [{\n    key: \"$\",\n    value: function $(selector) {\n      return this.$el.find(selector);\n    }\n    /**\n     * render the component, usually attach it to a real existent `element`\n     * @method render\n     * @return {UIObject} itself\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this;\n    }\n    /**\n     * removes the ui component from DOM\n     * @method destroy\n     * @return {UIObject} itself\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.$el.remove();\n      this.stopListening();\n      this.undelegateEvents();\n      return this;\n    }\n    /**\n     * set element to `el` and `$el`\n     * @method setElement\n     * @param {HTMLElement} element\n     * @param {Boolean} delegate whether is delegate or not\n     * @return {UIObject} itself\n     */\n\n  }, {\n    key: \"setElement\",\n    value: function setElement(element, delegate) {\n      if (this.$el) this.undelegateEvents();\n      this.$el = zepto.zepto.isZ(element) ? element : zepto(element);\n      this.el = this.$el[0];\n      if (delegate !== false) this.delegateEvents();\n      return this;\n    }\n    /**\n     * delegates all the original `events` on `element` to its callbacks\n     * @method delegateEvents\n     * @param {Object} events\n     * @return {UIObject} itself\n     */\n\n  }, {\n    key: \"delegateEvents\",\n    value: function delegateEvents(events) {\n      if (!(events || (events = this.events))) return this;\n      this.undelegateEvents();\n\n      for (var key in events) {\n        var method = events[key];\n        if (method && method.constructor !== Function) method = this[events[key]];\n        if (!method) continue;\n        var match = key.match(delegateEventSplitter);\n        var eventName = match[1],\n            selector = match[2];\n        eventName += '.delegateEvents' + this.cid;\n        if (selector === '') this.$el.on(eventName, method.bind(this));else this.$el.on(eventName, selector, method.bind(this));\n      }\n\n      return this;\n    }\n    /**\n     * undelegats all the `events`\n     * @method undelegateEvents\n     * @return {UIObject} itself\n     */\n\n  }, {\n    key: \"undelegateEvents\",\n    value: function undelegateEvents() {\n      this.$el.off('.delegateEvents' + this.cid);\n      return this;\n    }\n    /**\n     * ensures the creation of this ui component\n     * @method _ensureElement\n     * @private\n     */\n\n  }, {\n    key: \"_ensureElement\",\n    value: function _ensureElement() {\n      if (!this.el) {\n        var attrs = zepto.extend({}, this.attributes);\n        if (this.id) attrs.id = this.id;\n        if (this.className) attrs['class'] = this.className;\n        var $el = zepto(DomRecycler.create(this.tagName)).attr(attrs);\n        this.setElement($el, false);\n      } else {\n        this.setElement(this.el, false);\n      }\n    }\n  }]);\n\n  return UIObject;\n}(BaseObject);\n\n/**\n * The PlayerError is responsible to receive and propagate errors.\n * @class PlayerError\n * @constructor\n * @extends BaseObject\n * @module components\n */\n\nvar PlayerError =\n/*#__PURE__*/\nfunction (_BaseObject) {\n  _inherits(PlayerError, _BaseObject);\n\n  _createClass(PlayerError, [{\n    key: \"name\",\n    get: function get() {\n      return 'error';\n    }\n    /**\n     * @property Levels\n     * @type {Object} object with error levels\n     */\n\n  }], [{\n    key: \"Levels\",\n    get: function get() {\n      return {\n        FATAL: 'FATAL',\n        WARN: 'WARN',\n        INFO: 'INFO'\n      };\n    }\n  }]);\n\n  function PlayerError() {\n    var _this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var core = arguments.length > 1 ? arguments[1] : undefined;\n\n    _classCallCheck(this, PlayerError);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PlayerError).call(this, options));\n    _this.core = core;\n    return _this;\n  }\n  /**\n   * creates and trigger an error.\n   * @method createError\n   * @param {Object} err should be an object with code, description, level, origin, scope and raw error.\n   */\n\n\n  _createClass(PlayerError, [{\n    key: \"createError\",\n    value: function createError(err) {\n      if (!this.core) {\n        Log.warn(this.name, 'Core is not set. Error: ', err);\n        return;\n      }\n\n      this.core.trigger(Events.ERROR, err);\n    }\n  }]);\n\n  return PlayerError;\n}(BaseObject);\n\nvar ErrorMixin = {\n  /**\n   * creates an error.\n   * @method createError\n   * @param {Object} error should be an object with code, description, level and raw error.\n   * @return {Object} Object with formatted error data including origin and scope\n   */\n  createError: function createError(error) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      useCodePrefix: true\n    };\n    var scope = this.constructor && this.constructor.type || '';\n    var origin = this.name || scope;\n    var i18n = this.i18n || this.core && this.core.i18n || this.container && this.container.i18n;\n    var prefixedCode = \"\".concat(origin, \":\").concat(error && error.code || 'unknown');\n    var defaultError = {\n      description: '',\n      level: PlayerError.Levels.FATAL,\n      origin: origin,\n      scope: scope,\n      raw: {}\n    };\n    var errorData = Object.assign({}, defaultError, error, {\n      code: options.useCodePrefix ? prefixedCode : error.code\n    });\n\n    if (i18n && errorData.level == PlayerError.Levels.FATAL && !errorData.UI) {\n      var defaultUI = {\n        title: i18n.t('default_error_title'),\n        message: i18n.t('default_error_message')\n      };\n      errorData.UI = defaultUI;\n    }\n\n    if (this.playerError) this.playerError.createError(errorData);else Log.warn(origin, 'PlayerError is not defined. Error: ', errorData);\n    return errorData;\n  }\n};\n\nvar UICorePlugin =\n/*#__PURE__*/\nfunction (_UIObject) {\n  _inherits(UICorePlugin, _UIObject);\n\n  _createClass(UICorePlugin, [{\n    key: \"playerError\",\n    get: function get() {\n      return this.core.playerError;\n    }\n  }]);\n\n  function UICorePlugin(core) {\n    var _this;\n\n    _classCallCheck(this, UICorePlugin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UICorePlugin).call(this, core.options));\n    _this.core = core;\n    _this.enabled = true;\n\n    _this.bindEvents();\n\n    _this.render();\n\n    return _this;\n  }\n\n  _createClass(UICorePlugin, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {}\n  }, {\n    key: \"getExternalInterface\",\n    value: function getExternalInterface() {\n      return {};\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      if (!this.enabled) {\n        this.bindEvents();\n        this.$el.show();\n        this.enabled = true;\n      }\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.stopListening();\n      this.$el.hide();\n      this.enabled = false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this;\n    }\n  }]);\n\n  return UICorePlugin;\n}(UIObject);\nObject.assign(UICorePlugin.prototype, ErrorMixin);\n\nUICorePlugin.extend = function (properties) {\n  return extend(UICorePlugin, properties);\n};\n\nUICorePlugin.type = 'core';\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = \".container[data-container] {\\n  position: absolute;\\n  background-color: black;\\n  height: 100%;\\n  width: 100%;\\n  max-width: 100%; }\\n  .container[data-container] .chromeless {\\n    cursor: default; }\\n\\n[data-player]:not(.nocursor) .container[data-container]:not(.chromeless).pointer-enabled {\\n  cursor: pointer; }\\n\";\nstyleInject(css);\n\n/**\n * An abstraction to represent a container for a given playback\n * TODO: describe its responsabilities\n * @class Container\n * @constructor\n * @extends UIObject\n * @module base\n */\n\nvar Container =\n/*#__PURE__*/\nfunction (_UIObject) {\n  _inherits(Container, _UIObject);\n\n  _createClass(Container, [{\n    key: \"name\",\n\n    /**\n     * container's name\n     * @method name\n     * @default Container\n     * @return {String} container's name\n     */\n    get: function get() {\n      return 'Container';\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        \"class\": 'container',\n        'data-container': ''\n      };\n    }\n  }, {\n    key: \"events\",\n    get: function get() {\n      return {\n        'click': 'clicked',\n        'dblclick': 'dblClicked',\n        'touchend': 'dblTap',\n        'contextmenu': 'onContextMenu',\n        'mouseenter': 'mouseEnter',\n        'mouseleave': 'mouseLeave'\n      };\n    }\n    /**\n     * Determine if the playback has ended.\n     * @property ended\n     * @type Boolean\n     */\n\n  }, {\n    key: \"ended\",\n    get: function get() {\n      return this.playback.ended;\n    }\n    /**\n     * Determine if the playback is having to buffer in order for\n     * playback to be smooth.\n     * (i.e if a live stream is playing smoothly, this will be false)\n     * @property buffering\n     * @type Boolean\n     */\n\n  }, {\n    key: \"buffering\",\n    get: function get() {\n      return this.playback.buffering;\n    }\n    /**\n     * The internationalization plugin.\n     * @property i18n\n     * @type {Strings}\n     */\n\n  }, {\n    key: \"i18n\",\n    get: function get() {\n      return this._i18n;\n    }\n    /**\n     * checks if has closed caption tracks.\n     * @property hasClosedCaptionsTracks\n     * @type {Boolean}\n     */\n\n  }, {\n    key: \"hasClosedCaptionsTracks\",\n    get: function get() {\n      return this.playback.hasClosedCaptionsTracks;\n    }\n    /**\n     * gets the available closed caption tracks.\n     * @property closedCaptionsTracks\n     * @type {Array} an array of objects with at least 'id' and 'name' properties\n     */\n\n  }, {\n    key: \"closedCaptionsTracks\",\n    get: function get() {\n      return this.playback.closedCaptionsTracks;\n    }\n    /**\n     * gets the selected closed caption track index. (-1 is disabled)\n     * @property closedCaptionsTrackId\n     * @type {Number}\n     */\n\n  }, {\n    key: \"closedCaptionsTrackId\",\n    get: function get() {\n      return this.playback.closedCaptionsTrackId;\n    }\n    /**\n     * sets the selected closed caption track index. (-1 is disabled)\n     * @property closedCaptionsTrackId\n     * @type {Number}\n     */\n    ,\n    set: function set(trackId) {\n      this.playback.closedCaptionsTrackId = trackId;\n    }\n    /**\n     * it builds a container\n     * @method constructor\n     * @param {Object} options the options object\n     * @param {Strings} i18n the internationalization component\n     */\n\n  }]);\n\n  function Container(options, i18n, playerError) {\n    var _this;\n\n    _classCallCheck(this, Container);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Container).call(this, options));\n    _this._i18n = i18n;\n    _this.currentTime = 0;\n    _this.volume = 100;\n    _this.playback = options.playback;\n    _this.playerError = playerError;\n    _this.settings = zepto.extend({}, _this.playback.settings);\n    _this.isReady = false;\n    _this.mediaControlDisabled = false;\n    _this.plugins = [_this.playback];\n    _this.dblTapHandler = new DoubleEventHandler(500);\n    _this.clickTimer = null;\n    _this.clickDelay = 200; // FIXME: could be a player option\n\n    _this.bindEvents();\n\n    return _this;\n  }\n  /**\n   * binds playback events to the methods of the container.\n   * it listens to playback's events and triggers them as container events.\n   *\n   * | Playback |\n   * |----------|\n   * | progress |\n   * | timeupdate |\n   * | ready |\n   * | buffering |\n   * | bufferfull |\n   * | settingsupdate |\n   * | loadedmetadata |\n   * | highdefinitionupdate |\n   * | bitrate |\n   * | playbackstate |\n   * | dvr |\n   * | mediacontrol_disable |\n   * | mediacontrol_enable |\n   * | ended |\n   * | play |\n   * | pause |\n   * | error |\n   *\n   * ps: the events usually translate from PLABACK_x to CONTAINER_x, you can check all the events at `Event` class.\n   *\n   * @method bindEvents\n   */\n\n\n  _createClass(Container, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.playback, Events.PLAYBACK_PROGRESS, this.onProgress);\n      this.listenTo(this.playback, Events.PLAYBACK_TIMEUPDATE, this.timeUpdated);\n      this.listenTo(this.playback, Events.PLAYBACK_READY, this.ready);\n      this.listenTo(this.playback, Events.PLAYBACK_BUFFERING, this.onBuffering);\n      this.listenTo(this.playback, Events.PLAYBACK_BUFFERFULL, this.bufferfull);\n      this.listenTo(this.playback, Events.PLAYBACK_SETTINGSUPDATE, this.settingsUpdate);\n      this.listenTo(this.playback, Events.PLAYBACK_LOADEDMETADATA, this.loadedMetadata);\n      this.listenTo(this.playback, Events.PLAYBACK_HIGHDEFINITIONUPDATE, this.highDefinitionUpdate);\n      this.listenTo(this.playback, Events.PLAYBACK_BITRATE, this.updateBitrate);\n      this.listenTo(this.playback, Events.PLAYBACK_PLAYBACKSTATE, this.playbackStateChanged);\n      this.listenTo(this.playback, Events.PLAYBACK_DVR, this.playbackDvrStateChanged);\n      this.listenTo(this.playback, Events.PLAYBACK_MEDIACONTROL_DISABLE, this.disableMediaControl);\n      this.listenTo(this.playback, Events.PLAYBACK_MEDIACONTROL_ENABLE, this.enableMediaControl);\n      this.listenTo(this.playback, Events.PLAYBACK_SEEKED, this.onSeeked);\n      this.listenTo(this.playback, Events.PLAYBACK_ENDED, this.onEnded);\n      this.listenTo(this.playback, Events.PLAYBACK_PLAY, this.playing);\n      this.listenTo(this.playback, Events.PLAYBACK_PAUSE, this.paused);\n      this.listenTo(this.playback, Events.PLAYBACK_STOP, this.stopped);\n      this.listenTo(this.playback, Events.PLAYBACK_ERROR, this.error);\n      this.listenTo(this.playback, Events.PLAYBACK_SUBTITLE_AVAILABLE, this.subtitleAvailable);\n      this.listenTo(this.playback, Events.PLAYBACK_SUBTITLE_CHANGED, this.subtitleChanged);\n    }\n  }, {\n    key: \"subtitleAvailable\",\n    value: function subtitleAvailable() {\n      this.trigger(Events.CONTAINER_SUBTITLE_AVAILABLE);\n    }\n  }, {\n    key: \"subtitleChanged\",\n    value: function subtitleChanged(track) {\n      this.trigger(Events.CONTAINER_SUBTITLE_CHANGED, track);\n    }\n  }, {\n    key: \"playbackStateChanged\",\n    value: function playbackStateChanged(state) {\n      this.trigger(Events.CONTAINER_PLAYBACKSTATE, state);\n    }\n  }, {\n    key: \"playbackDvrStateChanged\",\n    value: function playbackDvrStateChanged(dvrInUse) {\n      this.settings = this.playback.settings;\n      this.dvrInUse = dvrInUse;\n      this.trigger(Events.CONTAINER_PLAYBACKDVRSTATECHANGED, dvrInUse);\n    }\n  }, {\n    key: \"updateBitrate\",\n    value: function updateBitrate(newBitrate) {\n      this.trigger(Events.CONTAINER_BITRATE, newBitrate);\n    }\n  }, {\n    key: \"statsReport\",\n    value: function statsReport(metrics) {\n      this.trigger(Events.CONTAINER_STATS_REPORT, metrics);\n    }\n  }, {\n    key: \"getPlaybackType\",\n    value: function getPlaybackType() {\n      return this.playback.getPlaybackType();\n    }\n    /**\n     * returns `true` if DVR is enable otherwise `false`.\n     * @method isDvrEnabled\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"isDvrEnabled\",\n    value: function isDvrEnabled() {\n      return !!this.playback.dvrEnabled;\n    }\n    /**\n     * returns `true` if DVR is in use otherwise `false`.\n     * @method isDvrInUse\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"isDvrInUse\",\n    value: function isDvrInUse() {\n      return !!this.dvrInUse;\n    }\n    /**\n     * destroys the container\n     * @method destroy\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.disableResizeObserver();\n      this.trigger(Events.CONTAINER_DESTROYED, this, this.name);\n      this.stopListening();\n      this.plugins.forEach(function (plugin) {\n        return plugin.destroy();\n      });\n      this.$el.remove();\n    }\n  }, {\n    key: \"setStyle\",\n    value: function setStyle(style) {\n      this.$el.css(style);\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(style, duration) {\n      return this.$el.animate(style, duration).promise();\n    }\n  }, {\n    key: \"ready\",\n    value: function ready() {\n      this.isReady = true;\n      this.trigger(Events.CONTAINER_READY, this.name);\n    }\n  }, {\n    key: \"isPlaying\",\n    value: function isPlaying() {\n      return this.playback.isPlaying();\n    }\n  }, {\n    key: \"getStartTimeOffset\",\n    value: function getStartTimeOffset() {\n      return this.playback.getStartTimeOffset();\n    }\n  }, {\n    key: \"getCurrentTime\",\n    value: function getCurrentTime() {\n      return this.currentTime;\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration() {\n      return this.playback.getDuration();\n    }\n  }, {\n    key: \"error\",\n    value: function error(_error) {\n      if (!this.isReady) this.ready();\n      this.trigger(Events.CONTAINER_ERROR, _error, this.name);\n    }\n  }, {\n    key: \"loadedMetadata\",\n    value: function loadedMetadata(metadata) {\n      this.trigger(Events.CONTAINER_LOADEDMETADATA, metadata);\n    }\n  }, {\n    key: \"timeUpdated\",\n    value: function timeUpdated(timeProgress) {\n      this.currentTime = timeProgress.current;\n      this.trigger(Events.CONTAINER_TIMEUPDATE, timeProgress, this.name);\n    }\n  }, {\n    key: \"onProgress\",\n    value: function onProgress() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      this.trigger.apply(this, [Events.CONTAINER_PROGRESS].concat(args, [this.name]));\n    }\n  }, {\n    key: \"playing\",\n    value: function playing() {\n      this.trigger(Events.CONTAINER_PLAY, this.name);\n    }\n  }, {\n    key: \"paused\",\n    value: function paused() {\n      this.trigger(Events.CONTAINER_PAUSE, this.name);\n    }\n    /**\n     * plays the playback\n     * @method play\n     */\n\n  }, {\n    key: \"play\",\n    value: function play() {\n      this.playback.play();\n    }\n    /**\n     * stops the playback\n     * @method stop\n     */\n\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.playback.stop();\n      this.currentTime = 0;\n    }\n    /**\n     * pauses the playback\n     * @method pause\n     */\n\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.playback.pause();\n    }\n  }, {\n    key: \"onEnded\",\n    value: function onEnded() {\n      this.trigger(Events.CONTAINER_ENDED, this, this.name);\n      this.currentTime = 0;\n    }\n  }, {\n    key: \"stopped\",\n    value: function stopped() {\n      this.trigger(Events.CONTAINER_STOP);\n    }\n  }, {\n    key: \"clicked\",\n    value: function clicked() {\n      var _this2 = this;\n\n      if (!this.options.chromeless || this.options.allowUserInteraction) {\n        // The event is delayed because it can be canceled by a double-click event\n        // An example of use is to prevent playback from pausing when switching to full screen\n        this.clickTimer = setTimeout(function () {\n          _this2.clickTimer && _this2.trigger(Events.CONTAINER_CLICK, _this2, _this2.name);\n        }, this.clickDelay);\n      }\n    }\n  }, {\n    key: \"cancelClicked\",\n    value: function cancelClicked() {\n      clearTimeout(this.clickTimer);\n      this.clickTimer = null;\n    }\n  }, {\n    key: \"dblClicked\",\n    value: function dblClicked() {\n      if (!this.options.chromeless || this.options.allowUserInteraction) {\n        this.cancelClicked();\n        this.trigger(Events.CONTAINER_DBLCLICK, this, this.name);\n      }\n    }\n  }, {\n    key: \"dblTap\",\n    value: function dblTap(evt) {\n      var _this3 = this;\n\n      if (!this.options.chromeless || this.options.allowUserInteraction) {\n        this.dblTapHandler.handle(evt, function () {\n          _this3.cancelClicked();\n\n          _this3.trigger(Events.CONTAINER_DBLCLICK, _this3, _this3.name);\n        });\n      }\n    }\n  }, {\n    key: \"onContextMenu\",\n    value: function onContextMenu(event) {\n      if (!this.options.chromeless || this.options.allowUserInteraction) this.trigger(Events.CONTAINER_CONTEXTMENU, event, this.name);\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(time) {\n      this.trigger(Events.CONTAINER_SEEK, time, this.name);\n      this.playback.seek(time);\n    }\n  }, {\n    key: \"onSeeked\",\n    value: function onSeeked() {\n      this.trigger(Events.CONTAINER_SEEKED, this.name);\n    }\n  }, {\n    key: \"seekPercentage\",\n    value: function seekPercentage(percentage) {\n      var duration = this.getDuration();\n\n      if (percentage >= 0 && percentage <= 100) {\n        var time = duration * (percentage / 100);\n        this.seek(time);\n      }\n    }\n  }, {\n    key: \"setVolume\",\n    value: function setVolume(value) {\n      this.volume = parseFloat(value);\n      this.trigger(Events.CONTAINER_VOLUME, this.volume, this.name);\n      this.playback.volume(this.volume);\n    }\n  }, {\n    key: \"fullscreen\",\n    value: function fullscreen() {\n      this.trigger(Events.CONTAINER_FULLSCREEN, this.name);\n    }\n  }, {\n    key: \"onBuffering\",\n    value: function onBuffering() {\n      this.trigger(Events.CONTAINER_STATE_BUFFERING, this.name);\n    }\n  }, {\n    key: \"bufferfull\",\n    value: function bufferfull() {\n      this.trigger(Events.CONTAINER_STATE_BUFFERFULL, this.name);\n    }\n    /**\n     * adds plugin to the container\n     * @method addPlugin\n     * @param {Object} plugin\n     */\n\n  }, {\n    key: \"addPlugin\",\n    value: function addPlugin(plugin) {\n      this.plugins.push(plugin);\n    }\n    /**\n     * checks if a plugin, given its name, exist\n     * @method hasPlugin\n     * @param {String} name\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"hasPlugin\",\n    value: function hasPlugin(name) {\n      return !!this.getPlugin(name);\n    }\n    /**\n     * get the plugin given its name\n     * @method getPlugin\n     * @param {String} name\n     */\n\n  }, {\n    key: \"getPlugin\",\n    value: function getPlugin(name) {\n      return this.plugins.filter(function (plugin) {\n        return plugin.name === name;\n      })[0];\n    }\n  }, {\n    key: \"mouseEnter\",\n    value: function mouseEnter() {\n      if (!this.options.chromeless || this.options.allowUserInteraction) this.trigger(Events.CONTAINER_MOUSE_ENTER);\n    }\n  }, {\n    key: \"mouseLeave\",\n    value: function mouseLeave() {\n      if (!this.options.chromeless || this.options.allowUserInteraction) this.trigger(Events.CONTAINER_MOUSE_LEAVE);\n    }\n  }, {\n    key: \"settingsUpdate\",\n    value: function settingsUpdate() {\n      this.settings = this.playback.settings;\n      this.trigger(Events.CONTAINER_SETTINGSUPDATE);\n    }\n  }, {\n    key: \"highDefinitionUpdate\",\n    value: function highDefinitionUpdate(isHD) {\n      this.trigger(Events.CONTAINER_HIGHDEFINITIONUPDATE, isHD);\n    }\n  }, {\n    key: \"isHighDefinitionInUse\",\n    value: function isHighDefinitionInUse() {\n      return this.playback.isHighDefinitionInUse();\n    }\n  }, {\n    key: \"disableMediaControl\",\n    value: function disableMediaControl() {\n      if (!this.mediaControlDisabled) {\n        this.mediaControlDisabled = true;\n        this.trigger(Events.CONTAINER_MEDIACONTROL_DISABLE);\n      }\n    }\n  }, {\n    key: \"enableMediaControl\",\n    value: function enableMediaControl() {\n      if (this.mediaControlDisabled) {\n        this.mediaControlDisabled = false;\n        this.trigger(Events.CONTAINER_MEDIACONTROL_ENABLE);\n      }\n    }\n  }, {\n    key: \"updateStyle\",\n    value: function updateStyle() {\n      if (!this.options.chromeless || this.options.allowUserInteraction) this.$el.removeClass('chromeless');else this.$el.addClass('chromeless');\n    }\n  }, {\n    key: \"enableResizeObserver\",\n    value: function enableResizeObserver() {\n      var _this4 = this;\n\n      this.disableResizeObserver();\n      this.resizeObserverInterval = setInterval(function () {\n        return _this4.checkResize();\n      }, 500);\n    }\n  }, {\n    key: \"disableResizeObserver\",\n    value: function disableResizeObserver() {\n      this.resizeObserverInterval && clearInterval(this.resizeObserverInterval);\n    }\n  }, {\n    key: \"checkResize\",\n    value: function checkResize() {\n      var newSize = {\n        width: this.el.clientWidth,\n        height: this.el.clientHeight\n      };\n\n      var _ref = this.currentSize || {},\n          width = _ref.width,\n          height = _ref.height;\n\n      var isResize = height !== newSize.height || width !== newSize.width;\n\n      if (isResize) {\n        this.currentSize = newSize;\n        this.trigger(Events.CONTAINER_RESIZE, newSize);\n      }\n    }\n    /**\n     * enables to configure the container after its creation\n     * @method configure\n     * @param {Object} options all the options to change in form of a javascript object\n     */\n\n  }, {\n    key: \"configure\",\n    value: function configure(options) {\n      this._options = zepto.extend(this._options, options);\n      this.updateStyle();\n      this.playback.configure(this.options);\n      this.trigger(Events.CONTAINER_OPTIONS_CHANGE);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.$el.append(this.playback.render().el);\n      this.updateStyle();\n      this.checkResize();\n      this.enableResizeObserver();\n      return this;\n    }\n  }]);\n\n  return Container;\n}(UIObject);\nObject.assign(Container.prototype, ErrorMixin);\n\n/**\n * An abstraction to represent a generic playback, it's like an interface to be implemented by subclasses.\n * @class Playback\n * @constructor\n * @extends UIObject\n * @module base\n */\n\nvar Playback =\n/*#__PURE__*/\nfunction (_UIObject) {\n  _inherits(Playback, _UIObject);\n\n  _createClass(Playback, [{\n    key: \"isAudioOnly\",\n\n    /**\n    * Determine if the playback does not contain video/has video but video should be ignored.\n    * @property isAudioOnly\n    * @type Boolean\n    */\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: \"isAdaptive\",\n    get: function get() {\n      return false;\n    }\n    /**\n     * Determine if the playback has ended.\n     * @property ended\n     * @type Boolean\n     */\n\n  }, {\n    key: \"ended\",\n    get: function get() {\n      return false;\n    }\n    /**\n     * The internationalization plugin.\n     * @property i18n\n     * @type {Strings}\n     */\n\n  }, {\n    key: \"i18n\",\n    get: function get() {\n      return this._i18n;\n    }\n    /**\n     * Determine if the playback is having to buffer in order for\n     * playback to be smooth.\n     * (i.e if a live stream is playing smoothly, this will be false)\n     * @property buffering\n     * @type Boolean\n     */\n\n  }, {\n    key: \"buffering\",\n    get: function get() {\n      return false;\n    }\n    /**\n     * @method constructor\n     * @param {Object} options the options object\n     * @param {Strings} i18n the internationalization component\n     */\n\n  }]);\n\n  function Playback(options, i18n, playerError) {\n    var _this;\n\n    _classCallCheck(this, Playback);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Playback).call(this, options));\n    _this.settings = {};\n    _this._i18n = i18n;\n    _this.playerError = playerError;\n    _this._consented = false;\n    return _this;\n  }\n  /**\n   * Gives user consent to playback (mobile devices).\n   * @method consent\n   * @param {Function} callback function called when playback is consented\n   */\n\n\n  _createClass(Playback, [{\n    key: \"consent\",\n    value: function consent(cb) {\n      if (typeof cb === 'function') cb();\n    }\n    /**\n     * plays the playback.\n     * @method play\n     */\n\n  }, {\n    key: \"play\",\n    value: function play() {}\n    /**\n     * pauses the playback.\n     * @method pause\n     */\n\n  }, {\n    key: \"pause\",\n    value: function pause() {}\n    /**\n     * stops the playback.\n     * @method stop\n     */\n\n  }, {\n    key: \"stop\",\n    value: function stop() {}\n    /**\n     * seeks the playback to a given `time` in seconds\n     * @method seek\n     * @param {Number} time should be a number between 0 and the video duration\n     */\n\n  }, {\n    key: \"seek\",\n    value: function seek(time) {} // eslint-disable-line no-unused-vars\n\n    /**\n     * seeks the playback to a given `percentage` in percentage\n     * @method seekPercentage\n     * @param {Number} time should be a number between 0 and 100\n     */\n\n  }, {\n    key: \"seekPercentage\",\n    value: function seekPercentage(percentage) {} // eslint-disable-line no-unused-vars\n\n    /**\n     * The time that \"0\" now represents relative to when playback started.\n     * For a stream with a sliding window this will increase as content is\n     * removed from the beginning.\n     * @method getStartTimeOffset\n     * @return {Number} time (in seconds) that time \"0\" represents.\n     */\n\n  }, {\n    key: \"getStartTimeOffset\",\n    value: function getStartTimeOffset() {\n      return 0;\n    }\n    /**\n     * gets the duration in seconds\n     * @method getDuration\n     * @return {Number} duration (in seconds) of the current source\n     */\n\n  }, {\n    key: \"getDuration\",\n    value: function getDuration() {\n      return 0;\n    }\n    /**\n     * checks if the playback is playing.\n     * @method isPlaying\n     * @return {Boolean} `true` if the current playback is playing, otherwise `false`\n     */\n\n  }, {\n    key: \"isPlaying\",\n    value: function isPlaying() {\n      return false;\n    }\n    /**\n     * checks if the playback is ready.\n     * @property isReady\n     * @type {Boolean} `true` if the current playback is ready, otherwise `false`\n     */\n\n  }, {\n    key: \"getPlaybackType\",\n    // eslint-disable-line no-unused-vars\n\n    /**\n     * gets the playback type (`'vod', 'live', 'aod'`)\n     * @method getPlaybackType\n     * @return {String} you should write the playback type otherwise it'll assume `'no_op'`\n     * @example\n     * ```javascript\n     * html5VideoPlayback.getPlaybackType() //vod\n     * html5AudioPlayback.getPlaybackType() //aod\n     * html5VideoPlayback.getPlaybackType() //live\n     * flashHlsPlayback.getPlaybackType() //live\n     * ```\n     */\n    value: function getPlaybackType() {\n      return Playback.NO_OP;\n    }\n    /**\n     * checks if the playback is in HD.\n     * @method isHighDefinitionInUse\n     * @return {Boolean} `true` if the playback is playing in HD, otherwise `false`\n     */\n\n  }, {\n    key: \"isHighDefinitionInUse\",\n    value: function isHighDefinitionInUse() {\n      return false;\n    }\n    /**\n     * mutes the playback\n     * @method mute\n     */\n\n  }, {\n    key: \"mute\",\n    value: function mute() {}\n    /**\n     * restores the playback volume\n     * @method unmute\n     */\n\n  }, {\n    key: \"unmute\",\n    value: function unmute() {}\n    /**\n     * sets the volume for the playback\n     * @method volume\n     * @param {Number} value a number between 0 (`muted`) to 100 (`max`)\n     */\n\n  }, {\n    key: \"volume\",\n    value: function volume(value) {} // eslint-disable-line no-unused-vars\n\n    /**\n     * enables to configure the playback after its creation\n     * @method configure\n     * @param {Object} options all the options to change in form of a javascript object\n     */\n\n  }, {\n    key: \"configure\",\n    value: function configure(options) {\n      this._options = zepto.extend(this._options, options);\n    }\n    /**\n     * attempt to autoplays the playback.\n     * @method attemptAutoPlay\n     */\n\n  }, {\n    key: \"attemptAutoPlay\",\n    value: function attemptAutoPlay() {\n      var _this2 = this;\n\n      this.canAutoPlay(function (result, error) {\n        // eslint-disable-line no-unused-vars\n        result && _this2.play();\n      });\n    }\n    /**\n     * checks if the playback can autoplay.\n     * @method canAutoPlay\n     * @param {Function} callback function where first param is Boolean and second param is playback Error or null\n     */\n\n  }, {\n    key: \"canAutoPlay\",\n    value: function canAutoPlay(cb) {\n      cb(true, null); // Assume playback can autoplay by default\n    }\n  }, {\n    key: \"isReady\",\n    get: function get() {\n      return false;\n    }\n    /**\n     * checks if the playback has closed caption tracks.\n     * @property hasClosedCaptionsTracks\n     * @type {Boolean}\n     */\n\n  }, {\n    key: \"hasClosedCaptionsTracks\",\n    get: function get() {\n      return this.closedCaptionsTracks.length > 0;\n    }\n    /**\n     * gets the playback available closed caption tracks.\n     * @property closedCaptionsTracks\n     * @type {Array} an array of objects with at least 'id' and 'name' properties\n     */\n\n  }, {\n    key: \"closedCaptionsTracks\",\n    get: function get() {\n      return [];\n    }\n    /**\n     * gets the selected closed caption track index. (-1 is disabled)\n     * @property closedCaptionsTrackId\n     * @type {Number}\n     */\n\n  }, {\n    key: \"closedCaptionsTrackId\",\n    get: function get() {\n      return -1;\n    }\n    /**\n     * sets the selected closed caption track index. (-1 is disabled)\n     * @property closedCaptionsTrackId\n     * @type {Number}\n     */\n    ,\n    set: function set(trackId) {}\n  }]);\n\n  return Playback;\n}(UIObject);\nObject.assign(Playback.prototype, ErrorMixin);\n\nPlayback.extend = function (properties) {\n  return extend(Playback, properties);\n};\n/**\n * checks if the playback can play a given `source`\n * If a mimeType is provided then this will be used instead of inferring the mimetype\n * from the source extension.\n * @method canPlay\n * @static\n * @param {String} source the given source ex: `http://example.com/play.mp4`\n * @param {String} [mimeType] the given mime type, ex: `'application/vnd.apple.mpegurl'`\n * @return {Boolean} `true` if the playback is playable, otherwise `false`\n */\n\n\nPlayback.canPlay = function (source, mimeType) {\n  // eslint-disable-line no-unused-vars\n  return false;\n};\n/**\n * a playback type for video on demand\n *\n * @property VOD\n * @static\n * @type String\n */\n\n\nPlayback.VOD = 'vod';\n/**\n * a playback type for audio on demand\n *\n * @property AOD\n * @static\n * @type String\n */\n\nPlayback.AOD = 'aod';\n/**\n * a playback type for live video\n *\n * @property LIVE\n * @static\n * @type String\n */\n\nPlayback.LIVE = 'live';\n/**\n * a default playback type\n *\n * @property NO_OP\n * @static\n * @type String\n */\n\nPlayback.NO_OP = 'no_op';\n/**\n * the plugin type\n *\n * @property type\n * @static\n * @type String\n */\n\nPlayback.type = 'playback';\n\nvar ContainerFactory =\n/*#__PURE__*/\nfunction (_BaseObject) {\n  _inherits(ContainerFactory, _BaseObject);\n\n  _createClass(ContainerFactory, [{\n    key: \"options\",\n    get: function get() {\n      return this._options;\n    },\n    set: function set(options) {\n      this._options = options;\n    }\n  }]);\n\n  function ContainerFactory(options, loader, i18n, playerError) {\n    var _this;\n\n    _classCallCheck(this, ContainerFactory);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ContainerFactory).call(this, options));\n    _this._i18n = i18n;\n    _this.loader = loader;\n    _this.playerError = playerError;\n    return _this;\n  }\n\n  _createClass(ContainerFactory, [{\n    key: \"createContainers\",\n    value: function createContainers() {\n      var _this2 = this;\n\n      return zepto.Deferred(function (promise) {\n        promise.resolve(_this2.options.sources.map(function (source) {\n          return _this2.createContainer(source);\n        }));\n      });\n    }\n  }, {\n    key: \"findPlaybackPlugin\",\n    value: function findPlaybackPlugin(source, mimeType) {\n      return this.loader.playbackPlugins.filter(function (p) {\n        return p.canPlay(source, mimeType);\n      })[0];\n    }\n  }, {\n    key: \"createContainer\",\n    value: function createContainer(source) {\n      var resolvedSource = null,\n          mimeType = this.options.mimeType;\n\n      if (_typeof(source) === 'object') {\n        resolvedSource = source.source.toString();\n        if (source.mimeType) mimeType = source.mimeType;\n      } else {\n        resolvedSource = source.toString();\n      }\n\n      if (resolvedSource.match(/^\\/\\//)) resolvedSource = window.location.protocol + resolvedSource;\n      var options = zepto.extend({}, this.options, {\n        src: resolvedSource,\n        mimeType: mimeType\n      });\n      var playbackPlugin = this.findPlaybackPlugin(resolvedSource, mimeType); // Fallback to empty playback object until we sort out unsupported sources error without NoOp playback\n\n      var playback = playbackPlugin ? new playbackPlugin(options, this._i18n, this.playerError) : new Playback();\n      options = zepto.extend({}, options, {\n        playback: playback\n      });\n      var container = new Container(options, this._i18n, this.playerError);\n      var defer = zepto.Deferred();\n      defer.promise(container);\n      this.addContainerPlugins(container);\n      this.listenToOnce(container, Events.CONTAINER_READY, function () {\n        return defer.resolve(container);\n      });\n      return container;\n    }\n  }, {\n    key: \"addContainerPlugins\",\n    value: function addContainerPlugins(container) {\n      this.loader.containerPlugins.forEach(function (Plugin) {\n        container.addPlugin(new Plugin(container));\n      });\n    }\n  }]);\n\n  return ContainerFactory;\n}(BaseObject);\n\nvar css$1 = \"[data-player] {\\n  -webkit-touch-callout: none;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  -o-user-select: none;\\n  user-select: none;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  -webkit-transform: translate3d(0, 0, 0);\\n          transform: translate3d(0, 0, 0);\\n  position: relative;\\n  margin: 0;\\n  padding: 0;\\n  border: 0;\\n  font-style: normal;\\n  font-weight: normal;\\n  text-align: center;\\n  overflow: hidden;\\n  font-size: 100%;\\n  font-family: \\\"Roboto\\\", \\\"Open Sans\\\", Arial, sans-serif;\\n  text-shadow: 0 0 0;\\n  box-sizing: border-box; }\\n  [data-player] div, [data-player] span, [data-player] applet, [data-player] object, [data-player] iframe,\\n  [data-player] h1, [data-player] h2, [data-player] h3, [data-player] h4, [data-player] h5, [data-player] h6, [data-player] p, [data-player] blockquote, [data-player] pre,\\n  [data-player] a, [data-player] abbr, [data-player] acronym, [data-player] address, [data-player] big, [data-player] cite, [data-player] code,\\n  [data-player] del, [data-player] dfn, [data-player] em, [data-player] img, [data-player] ins, [data-player] kbd, [data-player] q, [data-player] s, [data-player] samp,\\n  [data-player] small, [data-player] strike, [data-player] strong, [data-player] sub, [data-player] sup, [data-player] tt, [data-player] var,\\n  [data-player] b, [data-player] u, [data-player] i, [data-player] center,\\n  [data-player] dl, [data-player] dt, [data-player] dd, [data-player] ol, [data-player] ul, [data-player] li,\\n  [data-player] fieldset, [data-player] form, [data-player] label, [data-player] legend,\\n  [data-player] table, [data-player] caption, [data-player] tbody, [data-player] tfoot, [data-player] thead, [data-player] tr, [data-player] th, [data-player] td,\\n  [data-player] article, [data-player] aside, [data-player] canvas, [data-player] details, [data-player] embed,\\n  [data-player] figure, [data-player] figcaption, [data-player] footer, [data-player] header, [data-player] hgroup,\\n  [data-player] menu, [data-player] nav, [data-player] output, [data-player] ruby, [data-player] section, [data-player] summary,\\n  [data-player] time, [data-player] mark, [data-player] audio, [data-player] video {\\n    margin: 0;\\n    padding: 0;\\n    border: 0;\\n    font: inherit;\\n    font-size: 100%;\\n    vertical-align: baseline; }\\n  [data-player] table {\\n    border-collapse: collapse;\\n    border-spacing: 0; }\\n  [data-player] caption, [data-player] th, [data-player] td {\\n    text-align: left;\\n    font-weight: normal;\\n    vertical-align: middle; }\\n  [data-player] q, [data-player] blockquote {\\n    quotes: none; }\\n    [data-player] q:before, [data-player] q:after, [data-player] blockquote:before, [data-player] blockquote:after {\\n      content: \\\"\\\";\\n      content: none; }\\n  [data-player] a img {\\n    border: none; }\\n  [data-player]:focus {\\n    outline: 0; }\\n  [data-player] * {\\n    max-width: none;\\n    box-sizing: inherit;\\n    float: none; }\\n  [data-player] div {\\n    display: block; }\\n  [data-player].fullscreen {\\n    width: 100% !important;\\n    height: 100% !important;\\n    top: 0;\\n    left: 0; }\\n  [data-player].nocursor {\\n    cursor: none; }\\n\\n.clappr-style {\\n  display: none !important; }\\n\";\nstyleInject(css$1);\n\n/**\n * The Core is responsible to manage Containers and the player state.\n * @class Core\n * @constructor\n * @extends UIObject\n * @module components\n */\n\nvar Core =\n/*#__PURE__*/\nfunction (_UIObject) {\n  _inherits(Core, _UIObject);\n\n  _createClass(Core, [{\n    key: \"events\",\n    get: function get() {\n      return {\n        'webkitfullscreenchange': 'handleFullscreenChange',\n        'mousemove': 'onMouseMove',\n        'mouseleave': 'onMouseLeave'\n      };\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'data-player': '',\n        tabindex: 9999\n      };\n    }\n    /**\n     * checks if the core is ready.\n     * @property isReady\n     * @type {Boolean} `true` if the core is ready, otherwise `false`\n     */\n\n  }, {\n    key: \"isReady\",\n    get: function get() {\n      return !!this.ready;\n    }\n    /**\n     * The internationalization plugin.\n     * @property i18n\n     * @type {Strings}\n     */\n\n  }, {\n    key: \"i18n\",\n    get: function get() {\n      return this.getPlugin('strings') || {\n        t: function t(key) {\n          return key;\n        }\n      };\n    }\n    /**\n     * @deprecated\n     * This property currently exists for backward compatibility reasons.\n     * If you need to access the media control instance, use the method getPlugin('media_control').\n     * This approach is still not recommended.\n     */\n\n  }, {\n    key: \"mediaControl\",\n    get: function get() {\n      return this._mediaControl || (this._mediaControl = this.getPlugin('media_control')) || this.dummyMediaControl;\n    }\n  }, {\n    key: \"dummyMediaControl\",\n    get: function get() {\n      if (this._dummyMediaControl) return this._dummyMediaControl;\n      this._dummyMediaControl = new UICorePlugin(this);\n      return this._dummyMediaControl;\n    }\n    /**\n     * gets the active container reference.\n     * @property activeContainer\n     * @type {Object}\n     */\n\n  }, {\n    key: \"activeContainer\",\n    get: function get() {\n      return this._activeContainer;\n    }\n    /**\n     * sets the active container reference and trigger a event with the new reference.\n     * @property activeContainer\n     * @type {Object}\n     */\n    ,\n    set: function set(container) {\n      this._activeContainer = container;\n      this.trigger(Events.CORE_ACTIVE_CONTAINER_CHANGED, this._activeContainer);\n    }\n    /**\n     * gets the active playback reference.\n     * @property activePlayback\n     * @type {Object}\n     */\n\n  }, {\n    key: \"activePlayback\",\n    get: function get() {\n      return this.activeContainer && this.activeContainer.playback;\n    }\n  }]);\n\n  function Core(options) {\n    var _this;\n\n    _classCallCheck(this, Core);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Core).call(this, options));\n    _this.playerError = new PlayerError(options, _assertThisInitialized(_this));\n\n    _this.configureDomRecycler();\n\n    _this.firstResize = true;\n    _this.plugins = [];\n    _this.containers = []; //FIXME fullscreen api sucks\n\n    _this._boundFullscreenHandler = function () {\n      return _this.handleFullscreenChange();\n    };\n\n    zepto(document).bind('fullscreenchange', _this._boundFullscreenHandler);\n    zepto(document).bind('MSFullscreenChange', _this._boundFullscreenHandler);\n    zepto(document).bind('mozfullscreenchange', _this._boundFullscreenHandler);\n    Browser.isMobile && zepto(window).bind('resize', function (o) {\n      _this.handleWindowResize(o);\n    });\n    return _this;\n  }\n\n  _createClass(Core, [{\n    key: \"configureDomRecycler\",\n    value: function configureDomRecycler() {\n      var recycleVideo = this.options && this.options.playback && this.options.playback.recycleVideo;\n      DomRecycler.configure({\n        recycleVideo: recycleVideo\n      });\n    }\n  }, {\n    key: \"createContainers\",\n    value: function createContainers(options) {\n      this.defer = zepto.Deferred();\n      this.defer.promise(this);\n      this.containerFactory = new ContainerFactory(options, options.loader, this.i18n, this.playerError);\n      this.prepareContainers();\n    }\n  }, {\n    key: \"prepareContainers\",\n    value: function prepareContainers() {\n      var _this2 = this;\n\n      this.containerFactory.createContainers().then(function (containers) {\n        return _this2.setupContainers(containers);\n      }).then(function (containers) {\n        return _this2.resolveOnContainersReady(containers);\n      });\n    }\n  }, {\n    key: \"updateSize\",\n    value: function updateSize() {\n      this.isFullscreen() ? this.setFullscreen() : this.setPlayerSize();\n    }\n  }, {\n    key: \"setFullscreen\",\n    value: function setFullscreen() {\n      if (!Browser.isiOS) {\n        this.$el.addClass('fullscreen');\n        this.$el.removeAttr('style');\n        this.previousSize = {\n          width: this.options.width,\n          height: this.options.height\n        };\n        this.currentSize = {\n          width: zepto(window).width(),\n          height: zepto(window).height()\n        };\n      }\n    }\n  }, {\n    key: \"setPlayerSize\",\n    value: function setPlayerSize() {\n      this.$el.removeClass('fullscreen');\n      this.currentSize = this.previousSize;\n      this.previousSize = {\n        width: zepto(window).width(),\n        height: zepto(window).height()\n      };\n      this.resize(this.currentSize);\n    }\n  }, {\n    key: \"resize\",\n    value: function resize(options) {\n      if (!isNumber(options.height) && !isNumber(options.width)) {\n        this.el.style.height = \"\".concat(options.height);\n        this.el.style.width = \"\".concat(options.width);\n      } else {\n        this.el.style.height = \"\".concat(options.height, \"px\");\n        this.el.style.width = \"\".concat(options.width, \"px\");\n      }\n\n      this.previousSize = {\n        width: this.options.width,\n        height: this.options.height\n      };\n      this.options.width = options.width;\n      this.options.height = options.height;\n      this.currentSize = options;\n      this.triggerResize(this.currentSize);\n    }\n  }, {\n    key: \"enableResizeObserver\",\n    value: function enableResizeObserver() {\n      var _this3 = this;\n\n      this.disableResizeObserver();\n\n      var checkSizeCallback = function checkSizeCallback() {\n        _this3.triggerResize({\n          width: _this3.el.clientWidth,\n          height: _this3.el.clientHeight\n        });\n      };\n\n      this.resizeObserverInterval = setInterval(checkSizeCallback, 500);\n    }\n  }, {\n    key: \"triggerResize\",\n    value: function triggerResize(newSize) {\n      var thereWasChange = this.firstResize || this.oldHeight !== newSize.height || this.oldWidth !== newSize.width;\n\n      if (thereWasChange) {\n        this.oldHeight = newSize.height;\n        this.oldWidth = newSize.width;\n        this.computedSize = newSize;\n        this.firstResize = false;\n        this.trigger(Events.CORE_RESIZE, newSize);\n      }\n    }\n  }, {\n    key: \"disableResizeObserver\",\n    value: function disableResizeObserver() {\n      this.resizeObserverInterval && clearInterval(this.resizeObserverInterval);\n      this.resizeObserverInterval = null;\n    }\n  }, {\n    key: \"resolveOnContainersReady\",\n    value: function resolveOnContainersReady(containers) {\n      var _this4 = this;\n\n      zepto.when.apply(zepto, containers).done(function () {\n        _this4.defer.resolve(_this4);\n\n        _this4.ready = true;\n\n        _this4.trigger(Events.CORE_READY);\n      });\n    }\n  }, {\n    key: \"addPlugin\",\n    value: function addPlugin(plugin) {\n      this.plugins.push(plugin);\n    }\n  }, {\n    key: \"hasPlugin\",\n    value: function hasPlugin(name) {\n      return !!this.getPlugin(name);\n    }\n  }, {\n    key: \"getPlugin\",\n    value: function getPlugin(name) {\n      return this.plugins.filter(function (plugin) {\n        return plugin.name === name;\n      })[0];\n    }\n  }, {\n    key: \"load\",\n    value: function load(sources, mimeType) {\n      this.options.mimeType = mimeType;\n      sources = sources && sources.constructor === Array ? sources : [sources];\n      this.options.sources = sources;\n      this.containers.forEach(function (container) {\n        return container.destroy();\n      });\n      this.containerFactory.options = zepto.extend(this.options, {\n        sources: sources\n      });\n      this.prepareContainers();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.disableResizeObserver();\n      this.containers.forEach(function (container) {\n        return container.destroy();\n      });\n      this.plugins.forEach(function (plugin) {\n        return plugin.destroy();\n      });\n      this.$el.remove();\n      zepto(document).unbind('fullscreenchange', this._boundFullscreenHandler);\n      zepto(document).unbind('MSFullscreenChange', this._boundFullscreenHandler);\n      zepto(document).unbind('mozfullscreenchange', this._boundFullscreenHandler);\n      this.stopListening();\n    }\n  }, {\n    key: \"handleFullscreenChange\",\n    value: function handleFullscreenChange() {\n      this.trigger(Events.CORE_FULLSCREEN, this.isFullscreen());\n      this.updateSize();\n    }\n  }, {\n    key: \"handleWindowResize\",\n    value: function handleWindowResize(event) {\n      var orientation = window.innerWidth > window.innerHeight ? 'landscape' : 'portrait';\n      if (this._screenOrientation === orientation) return;\n      this._screenOrientation = orientation;\n      this.triggerResize({\n        width: this.el.clientWidth,\n        height: this.el.clientHeight\n      });\n      this.trigger(Events.CORE_SCREEN_ORIENTATION_CHANGED, {\n        event: event,\n        orientation: this._screenOrientation\n      });\n    }\n  }, {\n    key: \"removeContainer\",\n    value: function removeContainer(container) {\n      this.stopListening(container);\n      this.containers = this.containers.filter(function (c) {\n        return c !== container;\n      });\n    }\n  }, {\n    key: \"setupContainer\",\n    value: function setupContainer(container) {\n      this.listenTo(container, Events.CONTAINER_DESTROYED, this.removeContainer);\n      this.containers.push(container);\n    }\n  }, {\n    key: \"setupContainers\",\n    value: function setupContainers(containers) {\n      containers.forEach(this.setupContainer.bind(this));\n      this.trigger(Events.CORE_CONTAINERS_CREATED);\n      this.renderContainers();\n      this.activeContainer = containers[0];\n      this.render();\n      this.appendToParent();\n      return this.containers;\n    }\n  }, {\n    key: \"renderContainers\",\n    value: function renderContainers() {\n      var _this5 = this;\n\n      this.containers.forEach(function (container) {\n        return _this5.el.appendChild(container.render().el);\n      });\n    }\n  }, {\n    key: \"createContainer\",\n    value: function createContainer(source, options) {\n      var container = this.containerFactory.createContainer(source, options);\n      this.setupContainer(container);\n      this.el.appendChild(container.render().el);\n      return container;\n    }\n    /**\n     * @deprecated\n     * This method currently exists for retrocompatibility reasons.\n     * If you want the current container reference, use the activeContainer getter.\n     */\n\n  }, {\n    key: \"getCurrentContainer\",\n    value: function getCurrentContainer() {\n      return this.activeContainer;\n    }\n    /**\n     * @deprecated\n     * This method currently exists for retrocompatibility reasons.\n     * If you want the current playback reference, use the activePlayback getter.\n     */\n\n  }, {\n    key: \"getCurrentPlayback\",\n    value: function getCurrentPlayback() {\n      return this.activePlayback;\n    }\n  }, {\n    key: \"getPlaybackType\",\n    value: function getPlaybackType() {\n      return this.activeContainer && this.activeContainer.getPlaybackType();\n    }\n  }, {\n    key: \"isFullscreen\",\n    value: function isFullscreen() {\n      // Ensure current instance is in fullscreen mode by checking fullscreen element\n      var fullscreenElement = Fullscreen.fullscreenElement();\n      if (!fullscreenElement) return false;\n      var playbackEl = this.activePlayback && this.activePlayback.el;\n      return fullscreenElement === this.el || fullscreenElement === playbackEl;\n    }\n  }, {\n    key: \"toggleFullscreen\",\n    value: function toggleFullscreen() {\n      if (this.isFullscreen()) {\n        Fullscreen.cancelFullscreen();\n        !Browser.isiOS && this.$el.removeClass('fullscreen nocursor');\n      } else {\n        var fullscreenEl = Browser.isiOS ? this.activePlayback && this.activePlayback.el : this.el;\n        if (!fullscreenEl) return;\n        Fullscreen.requestFullscreen(fullscreenEl);\n        !Browser.isiOS && this.$el.addClass('fullscreen');\n      }\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(event) {\n      this.trigger(Events.CORE_MOUSE_MOVE, event);\n    }\n  }, {\n    key: \"onMouseLeave\",\n    value: function onMouseLeave(event) {\n      this.trigger(Events.CORE_MOUSE_LEAVE, event);\n    }\n    /**\n     * enables to configure the container after its creation\n     * @method configure\n     * @param {Object} options all the options to change in form of a javascript object\n     */\n\n  }, {\n    key: \"configure\",\n    value: function configure(options) {\n      var _this6 = this;\n\n      this._options = zepto.extend(this._options, options);\n      this.configureDomRecycler();\n      var sources = options.source || options.sources;\n      sources && this.load(sources, options.mimeType || this.options.mimeType);\n      this.trigger(Events.CORE_OPTIONS_CHANGE, options); // Trigger with newly provided options\n\n      this.containers.forEach(function (container) {\n        return container.configure(_this6.options);\n      });\n    }\n  }, {\n    key: \"appendToParent\",\n    value: function appendToParent() {\n      var hasCoreParent = this.$el.parent() && this.$el.parent().length;\n      !hasCoreParent && this.$el.appendTo(this.options.parentElement);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.options.width = this.options.width || this.$el.width();\n      this.options.height = this.options.height || this.$el.height();\n      var size = {\n        width: this.options.width,\n        height: this.options.height\n      };\n      this.previousSize = this.currentSize = this.computedSize = size;\n      this.updateSize();\n      this.enableResizeObserver();\n      return this;\n    }\n  }]);\n\n  return Core;\n}(UIObject);\nObject.assign(Core.prototype, ErrorMixin);\n\n/**\n * The Core Factory is responsible for instantiate the core and it's plugins.\n * @class CoreFactory\n * @constructor\n * @extends BaseObject\n * @module components\n */\n\nvar CoreFactory =\n/*#__PURE__*/\nfunction (_BaseObject) {\n  _inherits(CoreFactory, _BaseObject);\n\n  _createClass(CoreFactory, [{\n    key: \"loader\",\n    get: function get() {\n      return this.player.loader;\n    }\n    /**\n     * it builds the core factory\n     * @method constructor\n     * @param {Player} player the player object\n     */\n\n  }]);\n\n  function CoreFactory(player) {\n    var _this;\n\n    _classCallCheck(this, CoreFactory);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CoreFactory).call(this));\n    _this.player = player;\n    _this._options = player.options;\n    return _this;\n  }\n  /**\n   * creates a core and its plugins\n   * @method create\n   * @return {Core} created core\n   */\n\n\n  _createClass(CoreFactory, [{\n    key: \"create\",\n    value: function create() {\n      this.options.loader = this.loader;\n      this.core = new Core(this.options);\n      this.addCorePlugins();\n      this.core.createContainers(this.options);\n      return this.core;\n    }\n    /**\n     * given the core plugins (`loader.corePlugins`) it builds each one\n     * @method addCorePlugins\n     * @return {Core} the core with all plugins\n     */\n\n  }, {\n    key: \"addCorePlugins\",\n    value: function addCorePlugins() {\n      var _this2 = this;\n\n      this.loader.corePlugins.forEach(function (Plugin) {\n        var plugin = new Plugin(_this2.core);\n\n        _this2.core.addPlugin(plugin);\n\n        _this2.setupExternalInterface(plugin);\n      });\n      return this.core;\n    }\n  }, {\n    key: \"setupExternalInterface\",\n    value: function setupExternalInterface(plugin) {\n      var externalFunctions = plugin.getExternalInterface();\n\n      for (var key in externalFunctions) {\n        this.player[key] = externalFunctions[key].bind(plugin);\n      }\n    }\n  }]);\n\n  return CoreFactory;\n}(BaseObject);\n\nvar global$1 = (typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {});\n\n// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global$1.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global$1.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nfunction nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nvar title = 'browser';\nvar platform = 'browser';\nvar browser = true;\nvar env = {};\nvar argv = [];\nvar version = ''; // empty string to avoid regexp issues\nvar versions = {};\nvar release = {};\nvar config = {};\n\nfunction noop() {}\n\nvar on = noop;\nvar addListener = noop;\nvar once = noop;\nvar off = noop;\nvar removeListener = noop;\nvar removeAllListeners = noop;\nvar emit = noop;\n\nfunction binding(name) {\n    throw new Error('process.binding is not supported');\n}\n\nfunction cwd () { return '/' }\nfunction chdir (dir) {\n    throw new Error('process.chdir is not supported');\n}function umask() { return 0; }\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance$1 = global$1.performance || {};\nvar performanceNow =\n  performance$1.now        ||\n  performance$1.mozNow     ||\n  performance$1.msNow      ||\n  performance$1.oNow       ||\n  performance$1.webkitNow  ||\n  function(){ return (new Date()).getTime() };\n\n// generate timestamp or delta\n// see http://nodejs.org/api/process.html#process_process_hrtime\nfunction hrtime(previousTimestamp){\n  var clocktime = performanceNow.call(performance$1)*1e-3;\n  var seconds = Math.floor(clocktime);\n  var nanoseconds = Math.floor((clocktime%1)*1e9);\n  if (previousTimestamp) {\n    seconds = seconds - previousTimestamp[0];\n    nanoseconds = nanoseconds - previousTimestamp[1];\n    if (nanoseconds<0) {\n      seconds--;\n      nanoseconds += 1e9;\n    }\n  }\n  return [seconds,nanoseconds]\n}\n\nvar startTime = new Date();\nfunction uptime() {\n  var currentTime = new Date();\n  var dif = currentTime - startTime;\n  return dif / 1000;\n}\n\nvar process = {\n  nextTick: nextTick,\n  title: title,\n  browser: browser,\n  env: env,\n  argv: argv,\n  version: version,\n  versions: versions,\n  on: on,\n  addListener: addListener,\n  once: once,\n  off: off,\n  removeListener: removeListener,\n  removeAllListeners: removeAllListeners,\n  emit: emit,\n  binding: binding,\n  cwd: cwd,\n  chdir: chdir,\n  umask: umask,\n  hrtime: hrtime,\n  platform: platform,\n  release: release,\n  config: config,\n  uptime: uptime\n};\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar semver = createCommonjsModule(function (module, exports) {\nexports = module.exports = SemVer;\n\nvar debug;\n/* istanbul ignore next */\nif (typeof process === 'object' &&\n    process.env &&\n    process.env.NODE_DEBUG &&\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n  debug = function () {\n    var args = Array.prototype.slice.call(arguments, 0);\n    args.unshift('SEMVER');\n    console.log.apply(console, args);\n  };\n} else {\n  debug = function () {};\n}\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0';\n\nvar MAX_LENGTH = 256;\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991;\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16;\n\n// The actual regexps go on exports.re\nvar re = exports.re = [];\nvar src = exports.src = [];\nvar t = exports.tokens = {};\nvar R = 0;\n\nfunction tok (n) {\n  t[n] = R++;\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ntok('NUMERICIDENTIFIER');\nsrc[t.NUMERICIDENTIFIER] = '0|[1-9]\\\\d*';\ntok('NUMERICIDENTIFIERLOOSE');\nsrc[t.NUMERICIDENTIFIERLOOSE] = '[0-9]+';\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ntok('NONNUMERICIDENTIFIER');\nsrc[t.NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*';\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ntok('MAINVERSION');\nsrc[t.MAINVERSION] = '(' + src[t.NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[t.NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[t.NUMERICIDENTIFIER] + ')';\n\ntok('MAINVERSIONLOOSE');\nsrc[t.MAINVERSIONLOOSE] = '(' + src[t.NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[t.NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[t.NUMERICIDENTIFIERLOOSE] + ')';\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ntok('PRERELEASEIDENTIFIER');\nsrc[t.PRERELEASEIDENTIFIER] = '(?:' + src[t.NUMERICIDENTIFIER] +\n                            '|' + src[t.NONNUMERICIDENTIFIER] + ')';\n\ntok('PRERELEASEIDENTIFIERLOOSE');\nsrc[t.PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[t.NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[t.NONNUMERICIDENTIFIER] + ')';\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ntok('PRERELEASE');\nsrc[t.PRERELEASE] = '(?:-(' + src[t.PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[t.PRERELEASEIDENTIFIER] + ')*))';\n\ntok('PRERELEASELOOSE');\nsrc[t.PRERELEASELOOSE] = '(?:-?(' + src[t.PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[t.PRERELEASEIDENTIFIERLOOSE] + ')*))';\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ntok('BUILDIDENTIFIER');\nsrc[t.BUILDIDENTIFIER] = '[0-9A-Za-z-]+';\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ntok('BUILD');\nsrc[t.BUILD] = '(?:\\\\+(' + src[t.BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[t.BUILDIDENTIFIER] + ')*))';\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ntok('FULL');\ntok('FULLPLAIN');\nsrc[t.FULLPLAIN] = 'v?' + src[t.MAINVERSION] +\n                  src[t.PRERELEASE] + '?' +\n                  src[t.BUILD] + '?';\n\nsrc[t.FULL] = '^' + src[t.FULLPLAIN] + '$';\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ntok('LOOSEPLAIN');\nsrc[t.LOOSEPLAIN] = '[v=\\\\s]*' + src[t.MAINVERSIONLOOSE] +\n                  src[t.PRERELEASELOOSE] + '?' +\n                  src[t.BUILD] + '?';\n\ntok('LOOSE');\nsrc[t.LOOSE] = '^' + src[t.LOOSEPLAIN] + '$';\n\ntok('GTLT');\nsrc[t.GTLT] = '((?:<|>)?=?)';\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ntok('XRANGEIDENTIFIERLOOSE');\nsrc[t.XRANGEIDENTIFIERLOOSE] = src[t.NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*';\ntok('XRANGEIDENTIFIER');\nsrc[t.XRANGEIDENTIFIER] = src[t.NUMERICIDENTIFIER] + '|x|X|\\\\*';\n\ntok('XRANGEPLAIN');\nsrc[t.XRANGEPLAIN] = '[v=\\\\s]*(' + src[t.XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[t.XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[t.XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[t.PRERELEASE] + ')?' +\n                   src[t.BUILD] + '?' +\n                   ')?)?';\n\ntok('XRANGEPLAINLOOSE');\nsrc[t.XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[t.XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[t.XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[t.XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[t.PRERELEASELOOSE] + ')?' +\n                        src[t.BUILD] + '?' +\n                        ')?)?';\n\ntok('XRANGE');\nsrc[t.XRANGE] = '^' + src[t.GTLT] + '\\\\s*' + src[t.XRANGEPLAIN] + '$';\ntok('XRANGELOOSE');\nsrc[t.XRANGELOOSE] = '^' + src[t.GTLT] + '\\\\s*' + src[t.XRANGEPLAINLOOSE] + '$';\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ntok('COERCE');\nsrc[t.COERCE] = '(^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])';\ntok('COERCERTL');\nre[t.COERCERTL] = new RegExp(src[t.COERCE], 'g');\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ntok('LONETILDE');\nsrc[t.LONETILDE] = '(?:~>?)';\n\ntok('TILDETRIM');\nsrc[t.TILDETRIM] = '(\\\\s*)' + src[t.LONETILDE] + '\\\\s+';\nre[t.TILDETRIM] = new RegExp(src[t.TILDETRIM], 'g');\nvar tildeTrimReplace = '$1~';\n\ntok('TILDE');\nsrc[t.TILDE] = '^' + src[t.LONETILDE] + src[t.XRANGEPLAIN] + '$';\ntok('TILDELOOSE');\nsrc[t.TILDELOOSE] = '^' + src[t.LONETILDE] + src[t.XRANGEPLAINLOOSE] + '$';\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ntok('LONECARET');\nsrc[t.LONECARET] = '(?:\\\\^)';\n\ntok('CARETTRIM');\nsrc[t.CARETTRIM] = '(\\\\s*)' + src[t.LONECARET] + '\\\\s+';\nre[t.CARETTRIM] = new RegExp(src[t.CARETTRIM], 'g');\nvar caretTrimReplace = '$1^';\n\ntok('CARET');\nsrc[t.CARET] = '^' + src[t.LONECARET] + src[t.XRANGEPLAIN] + '$';\ntok('CARETLOOSE');\nsrc[t.CARETLOOSE] = '^' + src[t.LONECARET] + src[t.XRANGEPLAINLOOSE] + '$';\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ntok('COMPARATORLOOSE');\nsrc[t.COMPARATORLOOSE] = '^' + src[t.GTLT] + '\\\\s*(' + src[t.LOOSEPLAIN] + ')$|^$';\ntok('COMPARATOR');\nsrc[t.COMPARATOR] = '^' + src[t.GTLT] + '\\\\s*(' + src[t.FULLPLAIN] + ')$|^$';\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ntok('COMPARATORTRIM');\nsrc[t.COMPARATORTRIM] = '(\\\\s*)' + src[t.GTLT] +\n                      '\\\\s*(' + src[t.LOOSEPLAIN] + '|' + src[t.XRANGEPLAIN] + ')';\n\n// this one has to use the /g flag\nre[t.COMPARATORTRIM] = new RegExp(src[t.COMPARATORTRIM], 'g');\nvar comparatorTrimReplace = '$1$2$3';\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ntok('HYPHENRANGE');\nsrc[t.HYPHENRANGE] = '^\\\\s*(' + src[t.XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[t.XRANGEPLAIN] + ')' +\n                   '\\\\s*$';\n\ntok('HYPHENRANGELOOSE');\nsrc[t.HYPHENRANGELOOSE] = '^\\\\s*(' + src[t.XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[t.XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$';\n\n// Star ranges basically just allow anything at all.\ntok('STAR');\nsrc[t.STAR] = '(<|>)?=?\\\\s*\\\\*';\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i]);\n  if (!re[i]) {\n    re[i] = new RegExp(src[i]);\n  }\n}\n\nexports.parse = parse;\nfunction parse (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    };\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  var r = options.loose ? re[t.LOOSE] : re[t.FULL];\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nexports.valid = valid;\nfunction valid (version, options) {\n  var v = parse(version, options);\n  return v ? v.version : null\n}\n\nexports.clean = clean;\nfunction clean (version, options) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options);\n  return s ? s.version : null\n}\n\nexports.SemVer = SemVer;\n\nfunction SemVer (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    };\n  }\n  if (version instanceof SemVer) {\n    if (version.loose === options.loose) {\n      return version\n    } else {\n      version = version.version;\n    }\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  if (version.length > MAX_LENGTH) {\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n  }\n\n  if (!(this instanceof SemVer)) {\n    return new SemVer(version, options)\n  }\n\n  debug('SemVer', version, options);\n  this.options = options;\n  this.loose = !!options.loose;\n\n  var m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL]);\n\n  if (!m) {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  this.raw = version;\n\n  // these are actually numbers\n  this.major = +m[1];\n  this.minor = +m[2];\n  this.patch = +m[3];\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n    throw new TypeError('Invalid major version')\n  }\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n    throw new TypeError('Invalid minor version')\n  }\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n    throw new TypeError('Invalid patch version')\n  }\n\n  // numberify any prerelease numeric ids\n  if (!m[4]) {\n    this.prerelease = [];\n  } else {\n    this.prerelease = m[4].split('.').map(function (id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id;\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\n          return num\n        }\n      }\n      return id\n    });\n  }\n\n  this.build = m[5] ? m[5].split('.') : [];\n  this.format();\n}\n\nSemVer.prototype.format = function () {\n  this.version = this.major + '.' + this.minor + '.' + this.patch;\n  if (this.prerelease.length) {\n    this.version += '-' + this.prerelease.join('.');\n  }\n  return this.version\n};\n\nSemVer.prototype.toString = function () {\n  return this.version\n};\n\nSemVer.prototype.compare = function (other) {\n  debug('SemVer.compare', this.version, this.options, other);\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options);\n  }\n\n  return this.compareMain(other) || this.comparePre(other)\n};\n\nSemVer.prototype.compareMain = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options);\n  }\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch)\n};\n\nSemVer.prototype.comparePre = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options);\n  }\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length) {\n    return -1\n  } else if (!this.prerelease.length && other.prerelease.length) {\n    return 1\n  } else if (!this.prerelease.length && !other.prerelease.length) {\n    return 0\n  }\n\n  var i = 0;\n  do {\n    var a = this.prerelease[i];\n    var b = other.prerelease[i];\n    debug('prerelease compare', i, a, b);\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n};\n\nSemVer.prototype.compareBuild = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options);\n  }\n\n  var i = 0;\n  do {\n    var a = this.build[i];\n    var b = other.build[i];\n    debug('prerelease compare', i, a, b);\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n};\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function (release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0;\n      this.patch = 0;\n      this.minor = 0;\n      this.major++;\n      this.inc('pre', identifier);\n      break\n    case 'preminor':\n      this.prerelease.length = 0;\n      this.patch = 0;\n      this.minor++;\n      this.inc('pre', identifier);\n      break\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0;\n      this.inc('patch', identifier);\n      this.inc('pre', identifier);\n      break\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0) {\n        this.inc('patch', identifier);\n      }\n      this.inc('pre', identifier);\n      break\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0) {\n        this.major++;\n      }\n      this.minor = 0;\n      this.patch = 0;\n      this.prerelease = [];\n      break\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0) {\n        this.minor++;\n      }\n      this.patch = 0;\n      this.prerelease = [];\n      break\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0) {\n        this.patch++;\n      }\n      this.prerelease = [];\n      break\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0) {\n        this.prerelease = [0];\n      } else {\n        var i = this.prerelease.length;\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++;\n            i = -2;\n          }\n        }\n        if (i === -1) {\n          // didn't increment anything\n          this.prerelease.push(0);\n        }\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1])) {\n            this.prerelease = [identifier, 0];\n          }\n        } else {\n          this.prerelease = [identifier, 0];\n        }\n      }\n      break\n\n    default:\n      throw new Error('invalid increment argument: ' + release)\n  }\n  this.format();\n  this.raw = this.version;\n  return this\n};\n\nexports.inc = inc;\nfunction inc (version, release, loose, identifier) {\n  if (typeof (loose) === 'string') {\n    identifier = loose;\n    loose = undefined;\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\n\nexports.diff = diff;\nfunction diff (version1, version2) {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    var v1 = parse(version1);\n    var v2 = parse(version2);\n    var prefix = '';\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre';\n      var defaultResult = 'prerelease';\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers;\n\nvar numeric = /^[0-9]+$/;\nfunction compareIdentifiers (a, b) {\n  var anum = numeric.test(a);\n  var bnum = numeric.test(b);\n\n  if (anum && bnum) {\n    a = +a;\n    b = +b;\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers;\nfunction rcompareIdentifiers (a, b) {\n  return compareIdentifiers(b, a)\n}\n\nexports.major = major;\nfunction major (a, loose) {\n  return new SemVer(a, loose).major\n}\n\nexports.minor = minor;\nfunction minor (a, loose) {\n  return new SemVer(a, loose).minor\n}\n\nexports.patch = patch;\nfunction patch (a, loose) {\n  return new SemVer(a, loose).patch\n}\n\nexports.compare = compare;\nfunction compare (a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\n}\n\nexports.compareLoose = compareLoose;\nfunction compareLoose (a, b) {\n  return compare(a, b, true)\n}\n\nexports.compareBuild = compareBuild;\nfunction compareBuild (a, b, loose) {\n  var versionA = new SemVer(a, loose);\n  var versionB = new SemVer(b, loose);\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\n\nexports.rcompare = rcompare;\nfunction rcompare (a, b, loose) {\n  return compare(b, a, loose)\n}\n\nexports.sort = sort;\nfunction sort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compareBuild(a, b, loose)\n  })\n}\n\nexports.rsort = rsort;\nfunction rsort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compareBuild(b, a, loose)\n  })\n}\n\nexports.gt = gt;\nfunction gt (a, b, loose) {\n  return compare(a, b, loose) > 0\n}\n\nexports.lt = lt;\nfunction lt (a, b, loose) {\n  return compare(a, b, loose) < 0\n}\n\nexports.eq = eq;\nfunction eq (a, b, loose) {\n  return compare(a, b, loose) === 0\n}\n\nexports.neq = neq;\nfunction neq (a, b, loose) {\n  return compare(a, b, loose) !== 0\n}\n\nexports.gte = gte;\nfunction gte (a, b, loose) {\n  return compare(a, b, loose) >= 0\n}\n\nexports.lte = lte;\nfunction lte (a, b, loose) {\n  return compare(a, b, loose) <= 0\n}\n\nexports.cmp = cmp;\nfunction cmp (a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version;\n      if (typeof b === 'object')\n        b = b.version;\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version;\n      if (typeof b === 'object')\n        b = b.version;\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError('Invalid operator: ' + op)\n  }\n}\n\nexports.Comparator = Comparator;\nfunction Comparator (comp, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    };\n  }\n\n  if (comp instanceof Comparator) {\n    if (comp.loose === !!options.loose) {\n      return comp\n    } else {\n      comp = comp.value;\n    }\n  }\n\n  if (!(this instanceof Comparator)) {\n    return new Comparator(comp, options)\n  }\n\n  debug('comparator', comp, options);\n  this.options = options;\n  this.loose = !!options.loose;\n  this.parse(comp);\n\n  if (this.semver === ANY) {\n    this.value = '';\n  } else {\n    this.value = this.operator + this.semver.version;\n  }\n\n  debug('comp', this);\n}\n\nvar ANY = {};\nComparator.prototype.parse = function (comp) {\n  var r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR];\n  var m = comp.match(r);\n\n  if (!m) {\n    throw new TypeError('Invalid comparator: ' + comp)\n  }\n\n  this.operator = m[1] !== undefined ? m[1] : '';\n  if (this.operator === '=') {\n    this.operator = '';\n  }\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2]) {\n    this.semver = ANY;\n  } else {\n    this.semver = new SemVer(m[2], this.options.loose);\n  }\n};\n\nComparator.prototype.toString = function () {\n  return this.value\n};\n\nComparator.prototype.test = function (version) {\n  debug('Comparator.test', version, this.options.loose);\n\n  if (this.semver === ANY || version === ANY) {\n    return true\n  }\n\n  if (typeof version === 'string') {\n    try {\n      version = new SemVer(version, this.options);\n    } catch (er) {\n      return false\n    }\n  }\n\n  return cmp(version, this.operator, this.semver, this.options)\n};\n\nComparator.prototype.intersects = function (comp, options) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required')\n  }\n\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    };\n  }\n\n  var rangeTmp;\n\n  if (this.operator === '') {\n    if (this.value === '') {\n      return true\n    }\n    rangeTmp = new Range(comp.value, options);\n    return satisfies(this.value, rangeTmp, options)\n  } else if (comp.operator === '') {\n    if (comp.value === '') {\n      return true\n    }\n    rangeTmp = new Range(this.value, options);\n    return satisfies(comp.semver, rangeTmp, options)\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>');\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<');\n  var sameSemVer = this.semver.version === comp.semver.version;\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=');\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, options) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'));\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, options) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'));\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\n};\n\nexports.Range = Range;\nfunction Range (range, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    };\n  }\n\n  if (range instanceof Range) {\n    if (range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease) {\n      return range\n    } else {\n      return new Range(range.raw, options)\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, options)\n  }\n\n  if (!(this instanceof Range)) {\n    return new Range(range, options)\n  }\n\n  this.options = options;\n  this.loose = !!options.loose;\n  this.includePrerelease = !!options.includePrerelease;\n\n  // First, split based on boolean or ||\n  this.raw = range;\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function (range) {\n    return this.parseRange(range.trim())\n  }, this).filter(function (c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length\n  });\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + range)\n  }\n\n  this.format();\n}\n\nRange.prototype.format = function () {\n  this.range = this.set.map(function (comps) {\n    return comps.join(' ').trim()\n  }).join('||').trim();\n  return this.range\n};\n\nRange.prototype.toString = function () {\n  return this.range\n};\n\nRange.prototype.parseRange = function (range) {\n  var loose = this.options.loose;\n  range = range.trim();\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE];\n  range = range.replace(hr, hyphenReplace);\n  debug('hyphen replace', range);\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace);\n  debug('comparator trim', range, re[t.COMPARATORTRIM]);\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(re[t.TILDETRIM], tildeTrimReplace);\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(re[t.CARETTRIM], caretTrimReplace);\n\n  // normalize spaces\n  range = range.split(/\\s+/).join(' ');\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n\n  var compRe = loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR];\n  var set = range.split(' ').map(function (comp) {\n    return parseComparator(comp, this.options)\n  }, this).join(' ').split(/\\s+/);\n  if (this.options.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function (comp) {\n      return !!comp.match(compRe)\n    });\n  }\n  set = set.map(function (comp) {\n    return new Comparator(comp, this.options)\n  }, this);\n\n  return set\n};\n\nRange.prototype.intersects = function (range, options) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required')\n  }\n\n  return this.set.some(function (thisComparators) {\n    return (\n      isSatisfiable(thisComparators, options) &&\n      range.set.some(function (rangeComparators) {\n        return (\n          isSatisfiable(rangeComparators, options) &&\n          thisComparators.every(function (thisComparator) {\n            return rangeComparators.every(function (rangeComparator) {\n              return thisComparator.intersects(rangeComparator, options)\n            })\n          })\n        )\n      })\n    )\n  })\n};\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nfunction isSatisfiable (comparators, options) {\n  var result = true;\n  var remainingComparators = comparators.slice();\n  var testComparator = remainingComparators.pop();\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every(function (otherComparator) {\n      return testComparator.intersects(otherComparator, options)\n    });\n\n    testComparator = remainingComparators.pop();\n  }\n\n  return result\n}\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators;\nfunction toComparators (range, options) {\n  return new Range(range, options).set.map(function (comp) {\n    return comp.map(function (c) {\n      return c.value\n    }).join(' ').trim().split(' ')\n  })\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator (comp, options) {\n  debug('comp', comp, options);\n  comp = replaceCarets(comp, options);\n  debug('caret', comp);\n  comp = replaceTildes(comp, options);\n  debug('tildes', comp);\n  comp = replaceXRanges(comp, options);\n  debug('xrange', comp);\n  comp = replaceStars(comp, options);\n  debug('stars', comp);\n  return comp\n}\n\nfunction isX (id) {\n  return !id || id.toLowerCase() === 'x' || id === '*'\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceTilde(comp, options)\n  }).join(' ')\n}\n\nfunction replaceTilde (comp, options) {\n  var r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE];\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr);\n    var ret;\n\n    if (isX(M)) {\n      ret = '';\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0';\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0';\n    } else if (pr) {\n      debug('replaceTilde pr', pr);\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n            ' <' + M + '.' + (+m + 1) + '.0';\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0';\n    }\n\n    debug('tilde return', ret);\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceCaret(comp, options)\n  }).join(' ')\n}\n\nfunction replaceCaret (comp, options) {\n  debug('caret', comp, options);\n  var r = options.loose ? re[t.CARETLOOSE] : re[t.CARET];\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr);\n    var ret;\n\n    if (isX(M)) {\n      ret = '';\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0';\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0';\n      } else {\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0';\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr);\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1);\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + (+m + 1) + '.0';\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n              ' <' + (+M + 1) + '.0.0';\n      }\n    } else {\n      debug('no pr');\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1);\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0';\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0';\n      }\n    }\n\n    debug('caret return', ret);\n    return ret\n  })\n}\n\nfunction replaceXRanges (comp, options) {\n  debug('replaceXRanges', comp, options);\n  return comp.split(/\\s+/).map(function (comp) {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nfunction replaceXRange (comp, options) {\n  comp = comp.trim();\n  var r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE];\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr);\n    var xM = isX(M);\n    var xm = xM || isX(m);\n    var xp = xm || isX(p);\n    var anyX = xp;\n\n    if (gtlt === '=' && anyX) {\n      gtlt = '';\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : '';\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0';\n      } else {\n        // nothing is forbidden\n        ret = '*';\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0;\n      }\n      p = 0;\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>=';\n        if (xm) {\n          M = +M + 1;\n          m = 0;\n          p = 0;\n        } else {\n          m = +m + 1;\n          p = 0;\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<';\n        if (xm) {\n          M = +M + 1;\n        } else {\n          m = +m + 1;\n        }\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p + pr;\n    } else if (xm) {\n      ret = '>=' + M + '.0.0' + pr + ' <' + (+M + 1) + '.0.0' + pr;\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0' + pr +\n        ' <' + M + '.' + (+m + 1) + '.0' + pr;\n    }\n\n    debug('xRange return', ret);\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars (comp, options) {\n  debug('replaceStars', comp, options);\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[t.STAR], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) {\n  if (isX(fM)) {\n    from = '';\n  } else if (isX(fm)) {\n    from = '>=' + fM + '.0.0';\n  } else if (isX(fp)) {\n    from = '>=' + fM + '.' + fm + '.0';\n  } else {\n    from = '>=' + from;\n  }\n\n  if (isX(tM)) {\n    to = '';\n  } else if (isX(tm)) {\n    to = '<' + (+tM + 1) + '.0.0';\n  } else if (isX(tp)) {\n    to = '<' + tM + '.' + (+tm + 1) + '.0';\n  } else if (tpr) {\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr;\n  } else {\n    to = '<=' + to;\n  }\n\n  return (from + ' ' + to).trim()\n}\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function (version) {\n  if (!version) {\n    return false\n  }\n\n  if (typeof version === 'string') {\n    try {\n      version = new SemVer(version, this.options);\n    } catch (er) {\n      return false\n    }\n  }\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version, this.options)) {\n      return true\n    }\n  }\n  return false\n};\n\nfunction testSet (set, version, options) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (i = 0; i < set.length; i++) {\n      debug(set[i].semver);\n      if (set[i].semver === ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver;\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n\nexports.satisfies = satisfies;\nfunction satisfies (version, range, options) {\n  try {\n    range = new Range(range, options);\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\n\nexports.maxSatisfying = maxSatisfying;\nfunction maxSatisfying (versions, range, options) {\n  var max = null;\n  var maxSV = null;\n  try {\n    var rangeObj = new Range(range, options);\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v;\n        maxSV = new SemVer(max, options);\n      }\n    }\n  });\n  return max\n}\n\nexports.minSatisfying = minSatisfying;\nfunction minSatisfying (versions, range, options) {\n  var min = null;\n  var minSV = null;\n  try {\n    var rangeObj = new Range(range, options);\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v;\n        minSV = new SemVer(min, options);\n      }\n    }\n  });\n  return min\n}\n\nexports.minVersion = minVersion;\nfunction minVersion (range, loose) {\n  range = new Range(range, loose);\n\n  var minver = new SemVer('0.0.0');\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0');\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null;\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i];\n\n    comparators.forEach(function (comparator) {\n      // Clone to avoid manipulating the comparator's semver object.\n      var compver = new SemVer(comparator.semver.version);\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++;\n          } else {\n            compver.prerelease.push(0);\n          }\n          compver.raw = compver.format();\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!minver || gt(minver, compver)) {\n            minver = compver;\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error('Unexpected operation: ' + comparator.operator)\n      }\n    });\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\n\nexports.validRange = validRange;\nfunction validRange (range, options) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr;\nfunction ltr (version, range, options) {\n  return outside(version, range, '<', options)\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr;\nfunction gtr (version, range, options) {\n  return outside(version, range, '>', options)\n}\n\nexports.outside = outside;\nfunction outside (version, range, hilo, options) {\n  version = new SemVer(version, options);\n  range = new Range(range, options);\n\n  var gtfn, ltefn, ltfn, comp, ecomp;\n  switch (hilo) {\n    case '>':\n      gtfn = gt;\n      ltefn = lte;\n      ltfn = lt;\n      comp = '>';\n      ecomp = '>=';\n      break\n    case '<':\n      gtfn = lt;\n      ltefn = gte;\n      ltfn = gt;\n      comp = '<';\n      ecomp = '<=';\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i];\n\n    var high = null;\n    var low = null;\n\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0');\n      }\n      high = high || comparator;\n      low = low || comparator;\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator;\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator;\n      }\n    });\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nexports.prerelease = prerelease;\nfunction prerelease (version, options) {\n  var parsed = parse(version, options);\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\n\nexports.intersects = intersects;\nfunction intersects (r1, r2, options) {\n  r1 = new Range(r1, options);\n  r2 = new Range(r2, options);\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce;\nfunction coerce (version, options) {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version);\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {};\n\n  var match = null;\n  if (!options.rtl) {\n    match = version.match(re[t.COERCE]);\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    var next;\n    while ((next = re[t.COERCERTL].exec(version)) &&\n      (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n          next.index + next[0].length !== match.index + match[0].length) {\n        match = next;\n      }\n      re[t.COERCERTL].lastIndex = next.index + next[1].length + next[2].length;\n    }\n    // leave it in a clean state\n    re[t.COERCERTL].lastIndex = -1;\n  }\n\n  if (match === null) {\n    return null\n  }\n\n  return parse(match[2] +\n    '.' + (match[3] || '0') +\n    '.' + (match[4] || '0'), options)\n}\n});\nvar semver_1 = semver.SEMVER_SPEC_VERSION;\nvar semver_2 = semver.re;\nvar semver_3 = semver.src;\nvar semver_4 = semver.tokens;\nvar semver_5 = semver.parse;\nvar semver_6 = semver.valid;\nvar semver_7 = semver.clean;\nvar semver_8 = semver.SemVer;\nvar semver_9 = semver.inc;\nvar semver_10 = semver.diff;\nvar semver_11 = semver.compareIdentifiers;\nvar semver_12 = semver.rcompareIdentifiers;\nvar semver_13 = semver.major;\nvar semver_14 = semver.minor;\nvar semver_15 = semver.patch;\nvar semver_16 = semver.compare;\nvar semver_17 = semver.compareLoose;\nvar semver_18 = semver.compareBuild;\nvar semver_19 = semver.rcompare;\nvar semver_20 = semver.sort;\nvar semver_21 = semver.rsort;\nvar semver_22 = semver.gt;\nvar semver_23 = semver.lt;\nvar semver_24 = semver.eq;\nvar semver_25 = semver.neq;\nvar semver_26 = semver.gte;\nvar semver_27 = semver.lte;\nvar semver_28 = semver.cmp;\nvar semver_29 = semver.Comparator;\nvar semver_30 = semver.Range;\nvar semver_31 = semver.toComparators;\nvar semver_32 = semver.satisfies;\nvar semver_33 = semver.maxSatisfying;\nvar semver_34 = semver.minSatisfying;\nvar semver_35 = semver.minVersion;\nvar semver_36 = semver.validRange;\nvar semver_37 = semver.ltr;\nvar semver_38 = semver.gtr;\nvar semver_39 = semver.outside;\nvar semver_40 = semver.prerelease;\nvar semver_41 = semver.intersects;\nvar semver_42 = semver.coerce;\n\nvar filterPluginsByType = function filterPluginsByType(plugins, type) {\n  if (!plugins || !type) return {};\n  return Object.entries(plugins).filter(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        value = _ref2[1];\n\n    return value.type === type;\n  }).reduce(function (obj, _ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n        key = _ref4[0],\n        value = _ref4[1];\n\n    return obj[key] = value, obj;\n  }, {});\n};\n/**\n * It keeps a list of the default plugins (playback, container, core) and it merges external plugins with its internals.\n * @class Loader\n * @constructor\n * @extends BaseObject\n * @module components\n */\n\n\nvar Loader = (function () {\n  var registry = {\n    plugins: {},\n    playbacks: []\n  };\n  var currentVersion = \"0.4.8\";\n  return (\n    /*#__PURE__*/\n    function () {\n      _createClass(Loader, null, [{\n        key: \"checkVersionSupport\",\n        value: function checkVersionSupport(entry) {\n          var _entry$prototype = entry.prototype,\n              supportedVersion = _entry$prototype.supportedVersion,\n              name = _entry$prototype.name;\n\n          if (!supportedVersion || !supportedVersion.min) {\n            Log.warn('Loader', \"missing version information for \".concat(name));\n            return false;\n          }\n\n          var maxVersion = supportedVersion.max || semver.parse(supportedVersion.min).inc('minor');\n          var versionRange = \">=\".concat(supportedVersion.min, \" <\").concat(maxVersion);\n\n          if (!semver.satisfies(currentVersion, versionRange)) {\n            Log.warn('Loader', \"unsupported plugin (\".concat(currentVersion, \" does not match required range \").concat(versionRange, \"): \").concat(name));\n            return false;\n          }\n\n          return true;\n        }\n      }, {\n        key: \"registerPlugin\",\n        value: function registerPlugin(pluginEntry) {\n          if (!pluginEntry || !pluginEntry.prototype.name) {\n            Log.warn('Loader', \"missing information to register plugin: \".concat(pluginEntry));\n            return false;\n          }\n\n          Loader.checkVersionSupport(pluginEntry);\n          var pluginRegistry = registry.plugins;\n          if (!pluginRegistry) return false;\n          var previousEntry = pluginRegistry[pluginEntry.prototype.name];\n          if (previousEntry) Log.warn('Loader', \"overriding plugin entry: \".concat(pluginEntry.prototype.name, \" - \").concat(previousEntry));\n          pluginRegistry[pluginEntry.prototype.name] = pluginEntry;\n          return true;\n        }\n      }, {\n        key: \"registerPlayback\",\n        value: function registerPlayback(playbackEntry) {\n          if (!playbackEntry || !playbackEntry.prototype.name) return false;\n          Loader.checkVersionSupport(playbackEntry);\n          var playbacks = registry.playbacks;\n          var previousEntryIdx = playbacks.findIndex(function (entry) {\n            return entry.name === playbackEntry.prototype.name;\n          });\n\n          if (previousEntryIdx >= 0) {\n            var previousEntry = playbacks[previousEntryIdx];\n            playbacks.splice(previousEntryIdx, 1);\n            Log.warn('Loader', \"overriding playback entry: \".concat(previousEntry.name, \" - \").concat(previousEntry));\n          }\n\n          registry.playbacks = [playbackEntry].concat(_toConsumableArray(playbacks));\n          return true;\n        }\n      }, {\n        key: \"unregisterPlugin\",\n        value: function unregisterPlugin(name) {\n          if (!name) return false;\n          var plugins = registry.plugins;\n          var plugin = plugins[name];\n          if (!plugin) return false;\n          delete plugins[name];\n          return true;\n        }\n      }, {\n        key: \"unregisterPlayback\",\n        value: function unregisterPlayback(name) {\n          if (!name) return false;\n          var playbacks = registry.playbacks;\n          var index = playbacks.findIndex(function (entry) {\n            return entry.prototype.name === name;\n          });\n          if (index < 0) return false;\n          playbacks.splice(index, 1);\n          registry.playbacks = playbacks;\n          return true;\n        }\n      }, {\n        key: \"clearPlugins\",\n        value: function clearPlugins() {\n          registry.plugins = {};\n        }\n      }, {\n        key: \"clearPlaybacks\",\n        value: function clearPlaybacks() {\n          registry.playbacks = [];\n        }\n        /**\n         * builds the loader\n         * @method constructor\n         * @param {Object} externalPlugins the external plugins\n         * @param {Number} playerId you can embed multiple instances of clappr, therefore this is the unique id of each one.\n         */\n\n      }, {\n        key: \"registeredPlaybacks\",\n        get: function get() {\n          return _toConsumableArray(registry.playbacks);\n        }\n      }, {\n        key: \"registeredPlugins\",\n        get: function get() {\n          var plugins = registry.plugins;\n          var core = filterPluginsByType(plugins, 'core');\n          var container = filterPluginsByType(plugins, 'container');\n          return {\n            core: core,\n            container: container\n          };\n        }\n      }]);\n\n      function Loader() {\n        var externalPlugins = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n        var playerId = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n        _classCallCheck(this, Loader);\n\n        this.playerId = playerId;\n        this.playbackPlugins = _toConsumableArray(registry.playbacks);\n        var _Loader$registeredPlu = Loader.registeredPlugins,\n            core = _Loader$registeredPlu.core,\n            container = _Loader$registeredPlu.container;\n        this.containerPlugins = Object.values(container);\n        this.corePlugins = Object.values(core);\n        if (!Array.isArray(externalPlugins)) this.validateExternalPluginsType(externalPlugins);\n        this.addExternalPlugins(externalPlugins);\n      }\n      /**\n       * groups by type the external plugins that were passed through `options.plugins` it they're on a flat array\n       * @method addExternalPlugins\n       * @private\n       * @param {Object} an config object or an array of plugins\n       * @return {Object} plugins the config object with the plugins separated by type\n       */\n\n\n      _createClass(Loader, [{\n        key: \"groupPluginsByType\",\n        value: function groupPluginsByType(plugins) {\n          if (Array.isArray(plugins)) {\n            plugins = plugins.reduce(function (memo, plugin) {\n              memo[plugin.type] || (memo[plugin.type] = []);\n              memo[plugin.type].push(plugin);\n              return memo;\n            }, {});\n          }\n\n          return plugins;\n        }\n      }, {\n        key: \"removeDups\",\n        value: function removeDups(list) {\n          var groupUp = function groupUp(plugins, plugin) {\n            plugins[plugin.prototype.name] && delete plugins[plugin.prototype.name];\n            plugins[plugin.prototype.name] = plugin;\n            return plugins;\n          };\n\n          var pluginsMap = list.reduceRight(groupUp, Object.create(null));\n          var plugins = [];\n\n          for (var key in pluginsMap) {\n            plugins.unshift(pluginsMap[key]);\n          }\n\n          return plugins;\n        }\n        /**\n         * adds all the external plugins that were passed through `options.plugins`\n         * @method addExternalPlugins\n         * @private\n         * @param {Object} plugins the config object with all plugins\n         */\n\n      }, {\n        key: \"addExternalPlugins\",\n        value: function addExternalPlugins(plugins) {\n          plugins = this.groupPluginsByType(plugins);\n\n          if (plugins.playback) {\n            var playbacks = plugins.playback.filter(function (playback) {\n              return Loader.checkVersionSupport(playback), true;\n            });\n            this.playbackPlugins = this.removeDups(playbacks.concat(this.playbackPlugins));\n          }\n\n          if (plugins.container) {\n            var containerPlugins = plugins.container.filter(function (plugin) {\n              return Loader.checkVersionSupport(plugin), true;\n            });\n            this.containerPlugins = this.removeDups(containerPlugins.concat(this.containerPlugins));\n          }\n\n          if (plugins.core) {\n            var corePlugins = plugins.core.filter(function (plugin) {\n              return Loader.checkVersionSupport(plugin), true;\n            });\n            this.corePlugins = this.removeDups(corePlugins.concat(this.corePlugins));\n          }\n        }\n        /**\n         * validate if the external plugins that were passed through `options.plugins` are associated to the correct type\n         * @method validateExternalPluginsType\n         * @private\n         * @param {Object} plugins the config object with all plugins\n         */\n\n      }, {\n        key: \"validateExternalPluginsType\",\n        value: function validateExternalPluginsType(plugins) {\n          var plugintypes = ['playback', 'container', 'core'];\n          plugintypes.forEach(function (type) {\n            (plugins[type] || []).forEach(function (el) {\n              var errorMessage = 'external ' + el.type + ' plugin on ' + type + ' array';\n              if (el.type !== type) throw new ReferenceError(errorMessage);\n            });\n          });\n        }\n      }]);\n\n      return Loader;\n    }()\n  );\n})();\n\nvar baseUrl = currentScriptUrl().replace(/\\/[^/]+$/, '');\n/**\n * @class Player\n * @constructor\n * @extends BaseObject\n * @module components\n * @example\n * ### Using the Player\n *\n * Add the following script on your HTML:\n * ```html\n * <head>\n *   <script type=\"text/javascript\" src=\"http://cdn.clappr.io/latest/clappr.min.js\"></script>\n * </head>\n * ```\n * Now, create the player:\n * ```html\n * <body>\n *   <div id=\"player\"></div>\n *   <script>\n *     var player = new Clappr.Player({source: \"http://your.video/here.mp4\", parentId: \"#player\"});\n *   </script>\n * </body>\n * ```\n */\n\nvar Player =\n/*#__PURE__*/\nfunction (_BaseObject) {\n  _inherits(Player, _BaseObject);\n\n  _createClass(Player, [{\n    key: \"loader\",\n    set: function set(loader) {\n      this._loader = loader;\n    },\n    get: function get() {\n      if (!this._loader) this._loader = new Loader(this.options.plugins || {}, this.options.playerId);\n      return this._loader;\n    }\n    /**\n     * Determine if the playback has ended.\n     * @property ended\n     * @type Boolean\n     */\n\n  }, {\n    key: \"ended\",\n    get: function get() {\n      return this.core.activeContainer.ended;\n    }\n    /**\n     * Determine if the playback is having to buffer in order for\n     * playback to be smooth.\n     * (i.e if a live stream is playing smoothly, this will be false)\n     * @property buffering\n     * @type Boolean\n     */\n\n  }, {\n    key: \"buffering\",\n    get: function get() {\n      return this.core.activeContainer.buffering;\n    }\n    /*\n     * determine if the player is ready.\n     * @property isReady\n     * @type {Boolean} `true` if the player is ready. ie PLAYER_READY event has fired\n     */\n\n  }, {\n    key: \"isReady\",\n    get: function get() {\n      return !!this._ready;\n    }\n    /**\n     * An events map that allows the user to add custom callbacks in player's options.\n     * @property eventsMapping\n     * @type {Object}\n     */\n\n  }, {\n    key: \"eventsMapping\",\n    get: function get() {\n      return {\n        onReady: Events.PLAYER_READY,\n        onResize: Events.PLAYER_RESIZE,\n        onPlay: Events.PLAYER_PLAY,\n        onPause: Events.PLAYER_PAUSE,\n        onStop: Events.PLAYER_STOP,\n        onEnded: Events.PLAYER_ENDED,\n        onSeek: Events.PLAYER_SEEK,\n        onError: Events.PLAYER_ERROR,\n        onTimeUpdate: Events.PLAYER_TIMEUPDATE,\n        onVolumeUpdate: Events.PLAYER_VOLUMEUPDATE,\n        onSubtitleAvailable: Events.PLAYER_SUBTITLE_AVAILABLE\n      };\n    }\n    /**\n     * @typedef {Object} PlaybackConfig\n     * @prop {boolean} disableContextMenu\n     * disables the context menu (right click) on the video element if a HTML5Video playback is used.\n     * @prop {boolean} preload\n     * video will be preloaded according to `preload` attribute options **default**: `'metadata'`\n     * @prop {boolean} controls\n     * enabled/disables displaying controls\n     * @prop {boolean} crossOrigin\n     * enables cross-origin capability for media-resources\n     * @prop {boolean} playInline\n     * enables in-line video elements\n     * @prop {boolean} audioOnly\n     * enforce audio-only playback (when possible)\n     * @prop {Object} externalTracks\n     * pass externaly loaded track to playback\n     * @prop {Number} [maxBufferLength]\n     * The default behavior for the **HLS playback** is to keep buffering indefinitely, even on VoD.\n     * This replicates the behavior for progressive download, which continues buffering when pausing the video, thus making the video available for playback even on slow networks.\n     * To change this behavior use `maxBufferLength` where **value is in seconds**.\n     * @prop {Number} [maxBackBufferLength]\n     * After how much distance of the playhead data should be pruned from the buffer (influences memory consumption\n     * of adaptive media-engines like Hls.js or Shaka)\n     * @prop {Number} [minBufferLength]\n     * After how much data in the buffer at least we attempt to consume it (influences QoS-related behavior\n     * of adaptive media-engines like Hls.js or Shaka). If this is too low, and the available bandwidth is varying a lot\n     * and too close to the streamed bitrate, we may continuously hit under-runs.\n     * @prop {Number} [initialBandwidthEstimate]\n     * define an initial bandwidth \"guess\" (or previously stored/established value) for underlying adaptive-bitreate engines\n     * of adaptive playback implementations, like Hls.js or Shaka\n     * @prop {Number} [maxAdaptiveBitrate]\n     * Limits the streamed bitrate (for adaptive media-engines in underlying playback implementations)\n     * @prop {Object} [maxAdaptiveVideoDimensions]\n     * Limits the video dimensions in adaptive media-engines. Should be a literal object with `height` and `width`.\n     * @prop {Boolean}[enableAutomaticABR] **default**: `true`\n     * Allows to enable/disable automatic bitrate switching in adaptive media-engines\n     * @prop {String} [preferredTextLanguage] **default**: `'pt-BR'`\n     * Allows to set a preferred text language, that may be enabled by the media-engine if available.\n     * @prop {String} [preferredAudioLanguage] **default**: `'pt-BR'`\n     * Allows to set a preferred audio language, that may be enabled by the media-engine if available.\n     */\n\n    /**\n     * ## Player's constructor\n     *\n     * You might pass the options object to build the player.\n     * ```javascript\n     * var options = {source: \"http://example.com/video.mp4\", param1: \"val1\"};\n     * var player = new Clappr.Player(options);\n     * ```\n     *\n     * @method constructor\n     * @param {Object} options Data\n     * options to build a player instance\n     * @param {Number} [options.width]\n     * player's width **default**: `640`\n     * @param {Number} [options.height]\n     * player's height **default**: `360`\n     * @param {String} [options.parentId]\n     * the id of the element on the page that the player should be inserted into\n     * @param {Object} [options.parent]\n     * a reference to a dom element that the player should be inserted into\n     * @param {String} [options.source]\n     * The media source URL, or {source: <<source URL>>, mimeType: <<source mime type>>}\n     * @param {Object} [options.sources]\n     * An array of media source URL's, or an array of {source: <<source URL>>, mimeType: <<source mime type>>}\n     * @param {Boolean} [options.autoPlay]\n     * automatically play after page load **default**: `false`\n     * @param {Boolean} [options.loop]\n     * automatically replay after it ends **default**: `false`\n     * @param {Boolean} [options.chromeless]\n     * player acts in chromeless mode **default**: `false`\n     * @param {Boolean} [options.allowUserInteraction]\n     * whether or not the player should handle click events when in chromeless mode **default**: `false` on desktops browsers, `true` on mobile.\n     * @param {Boolean} [options.disableKeyboardShortcuts]\n     * disable keyboard shortcuts. **default**: `false`. `true` if `allowUserInteraction` is `false`.\n     * @param {Boolean} [options.mute]\n     * start the video muted **default**: `false`\n     * @param {String} [options.mimeType]\n     * add `mimeType: \"application/vnd.apple.mpegurl\"` if you need to use a url without extension.\n     * @param {Boolean} [options.actualLiveTime]\n     * show duration and seek time relative to actual time.\n     * @param {String} [options.actualLiveServerTime]\n     * specify server time as a string, format: \"2015/11/26 06:01:03\". This option is meant to be used with actualLiveTime.\n     * @param {Boolean} [options.persistConfig]\n     * persist player's settings (volume) through the same domain **default**: `true`\n     * @param {String} [options.preload] @deprecated\n     * video will be preloaded according to `preload` attribute options **default**: `'metadata'`\n     * @param {Number} [options.maxBufferLength] @deprecated\n     * the default behavior for the **HLS playback** is to keep buffering indefinitely, even on VoD.\n     * This replicates the behavior for progressive download, which continues buffering when pausing the video, thus making the video available for playback even on slow networks.\n     * To change this behavior use `maxBufferLength` where **value is in seconds**.\n     * @param {String} [options.gaAccount]\n     * enable Google Analytics events dispatch **(play/pause/stop/buffering/etc)** by adding your `gaAccount`\n     * @param {String} [options.gaTrackerName]\n     * besides `gaAccount` you can optionally, pass your favorite trackerName as `gaTrackerName`\n     * @param {Object} [options.mediacontrol]\n     * customize control bar colors, example: `mediacontrol: {seekbar: \"#E113D3\", buttons: \"#66B2FF\"}`\n     * @param {Boolean} [options.hideMediaControl]\n     * control media control auto hide **default**: `true`\n     * @param {Boolean} [options.hideVolumeBar]\n     * when embedded with width less than 320, volume bar will hide. You can force this behavior for all sizes by adding `true` **default**: `false`\n     * @param {String} [options.watermark]\n     * put `watermark: 'http://url/img.png'` on your embed parameters to automatically add watermark on your video.\n     * You can customize corner position by defining position parameter. Positions can be `bottom-left`, `bottom-right`, `top-left` and `top-right`.\n     * @param {String} [options.watermarkLink]\n     * `watermarkLink: 'http://example.net/'` - define URL to open when the watermark is clicked. If not provided watermark will not be clickable.\n     * @param {Boolean} [options.disableVideoTagContextMenu] @deprecated\n     * disables the context menu (right click) on the video element if a HTML5Video playback is used.\n     * @param {Boolean} [options.autoSeekFromUrl]\n     * Automatically seek to the seconds provided in the url (e.g example.com?t=100) **default**: `true`\n     * @param {Boolean} [options.exitFullscreenOnEnd]\n     * Automatically exit full screen when the media finishes. **default**: `true`\n     * @param {String} [options.poster]\n     * define a poster by adding its address `poster: 'http://url/img.png'`. It will appear after video embed, disappear on play and go back when user stops the video.\n     * @param {String} [options.playbackNotSupportedMessage]\n     * define a custom message to be displayed when a playback is not supported.\n     * @param {Object} [options.events]\n     * Specify listeners which will be registered with their corresponding player events.\n     * E.g. onReady -> \"PLAYER_READY\", onTimeUpdate -> \"PLAYER_TIMEUPDATE\"\n     * @param {PlaybackConfig} [options.playback]\n     * Generic `Playback` component related configuration\n     * @param {Boolean} [options.disableErrorScreen]\n     * disables the error screen plugin.\n     * @param {Number} [options.autoPlayTimeout]\n     * autoplay check timeout.\n     */\n\n  }]);\n\n  function Player(options) {\n    var _this;\n\n    _classCallCheck(this, Player);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Player).call(this, options));\n    var playbackDefaultOptions = {\n      recycleVideo: true\n    };\n    var defaultOptions = {\n      playerId: uniqueId(''),\n      persistConfig: true,\n      width: 640,\n      height: 360,\n      baseUrl: baseUrl,\n      allowUserInteraction: Browser.isMobile,\n      playback: playbackDefaultOptions\n    };\n    _this._options = zepto.extend(defaultOptions, options);\n    _this.options.sources = _this._normalizeSources(options);\n\n    if (!_this.options.chromeless) {\n      // \"allowUserInteraction\" cannot be false if not in chromeless mode.\n      _this.options.allowUserInteraction = true;\n    }\n\n    if (!_this.options.allowUserInteraction) {\n      // if user iteraction is not allowed ensure keyboard shortcuts are disabled\n      _this.options.disableKeyboardShortcuts = true;\n    }\n\n    _this._registerOptionEventListeners(_this.options.events);\n\n    _this._coreFactory = new CoreFactory(_assertThisInitialized(_this));\n    if (_this.options.parentId) _this.setParentId(_this.options.parentId);else if (_this.options.parent) _this.attachTo(_this.options.parent);\n    return _this;\n  }\n  /**\n   * Specify a `parentId` to the player.\n   * @method setParentId\n   * @param {String} parentId the element parent id.\n   * @return {Player} itself\n   */\n\n\n  _createClass(Player, [{\n    key: \"setParentId\",\n    value: function setParentId(parentId) {\n      var el = document.querySelector(parentId);\n      if (el) this.attachTo(el);\n      return this;\n    }\n    /**\n     * You can use this method to attach the player to a given element. You don't need to do this when you specify it during the player instantiation passing the `parentId` param.\n     * @method attachTo\n     * @param {Object} element a given element.\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"attachTo\",\n    value: function attachTo(element) {\n      this.options.parentElement = element;\n      this.core = this._coreFactory.create();\n\n      this._addEventListeners();\n\n      return this;\n    }\n  }, {\n    key: \"_addEventListeners\",\n    value: function _addEventListeners() {\n      if (!this.core.isReady) this.listenToOnce(this.core, Events.CORE_READY, this._onReady);else this._onReady();\n      this.listenTo(this.core, Events.CORE_ACTIVE_CONTAINER_CHANGED, this._containerChanged);\n      this.listenTo(this.core, Events.CORE_FULLSCREEN, this._onFullscreenChange);\n      this.listenTo(this.core, Events.CORE_RESIZE, this._onResize);\n      return this;\n    }\n  }, {\n    key: \"_addContainerEventListeners\",\n    value: function _addContainerEventListeners() {\n      var container = this.core.activeContainer;\n\n      if (container) {\n        this.listenTo(container, Events.CONTAINER_PLAY, this._onPlay);\n        this.listenTo(container, Events.CONTAINER_PAUSE, this._onPause);\n        this.listenTo(container, Events.CONTAINER_STOP, this._onStop);\n        this.listenTo(container, Events.CONTAINER_ENDED, this._onEnded);\n        this.listenTo(container, Events.CONTAINER_SEEK, this._onSeek);\n        this.listenTo(container, Events.CONTAINER_ERROR, this._onError);\n        this.listenTo(container, Events.CONTAINER_TIMEUPDATE, this._onTimeUpdate);\n        this.listenTo(container, Events.CONTAINER_VOLUME, this._onVolumeUpdate);\n        this.listenTo(container, Events.CONTAINER_SUBTITLE_AVAILABLE, this._onSubtitleAvailable);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_registerOptionEventListeners\",\n    value: function _registerOptionEventListeners() {\n      var _this2 = this;\n\n      var newEvents = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var events = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var hasNewEvents = Object.keys(newEvents).length > 0;\n      hasNewEvents && Object.keys(events).forEach(function (userEvent) {\n        var eventType = _this2.eventsMapping[userEvent];\n        eventType && _this2.off(eventType, events[userEvent]);\n      });\n      Object.keys(newEvents).forEach(function (userEvent) {\n        var eventType = _this2.eventsMapping[userEvent];\n\n        if (eventType) {\n          var eventFunction = newEvents[userEvent];\n          eventFunction = typeof eventFunction === 'function' && eventFunction;\n          eventFunction && _this2.on(eventType, eventFunction);\n        }\n      });\n      return this;\n    }\n  }, {\n    key: \"_containerChanged\",\n    value: function _containerChanged() {\n      this.stopListening();\n\n      this._addEventListeners();\n    }\n  }, {\n    key: \"_onReady\",\n    value: function _onReady() {\n      this._ready = true;\n\n      this._addContainerEventListeners();\n\n      this.trigger(Events.PLAYER_READY);\n    }\n  }, {\n    key: \"_onFullscreenChange\",\n    value: function _onFullscreenChange(fullscreen) {\n      this.trigger(Events.PLAYER_FULLSCREEN, fullscreen);\n    }\n  }, {\n    key: \"_onVolumeUpdate\",\n    value: function _onVolumeUpdate(volume) {\n      this.trigger(Events.PLAYER_VOLUMEUPDATE, volume);\n    }\n  }, {\n    key: \"_onSubtitleAvailable\",\n    value: function _onSubtitleAvailable() {\n      this.trigger(Events.PLAYER_SUBTITLE_AVAILABLE);\n    }\n  }, {\n    key: \"_onResize\",\n    value: function _onResize(size) {\n      this.trigger(Events.PLAYER_RESIZE, size);\n    }\n  }, {\n    key: \"_onPlay\",\n    value: function _onPlay() {\n      this.trigger(Events.PLAYER_PLAY);\n    }\n  }, {\n    key: \"_onPause\",\n    value: function _onPause() {\n      this.trigger(Events.PLAYER_PAUSE);\n    }\n  }, {\n    key: \"_onStop\",\n    value: function _onStop() {\n      this.trigger(Events.PLAYER_STOP, this.getCurrentTime());\n    }\n  }, {\n    key: \"_onEnded\",\n    value: function _onEnded() {\n      this.trigger(Events.PLAYER_ENDED);\n    }\n  }, {\n    key: \"_onSeek\",\n    value: function _onSeek(time) {\n      this.trigger(Events.PLAYER_SEEK, time);\n    }\n  }, {\n    key: \"_onTimeUpdate\",\n    value: function _onTimeUpdate(timeProgress) {\n      this.trigger(Events.PLAYER_TIMEUPDATE, timeProgress);\n    }\n  }, {\n    key: \"_onError\",\n    value: function _onError(error) {\n      this.trigger(Events.PLAYER_ERROR, error);\n    }\n  }, {\n    key: \"_normalizeSources\",\n    value: function _normalizeSources(options) {\n      var sources = options.sources || (options.source !== undefined ? [options.source] : []);\n      return sources.length === 0 ? [{\n        source: '',\n        mimeType: ''\n      }] : sources;\n    }\n    /**\n     * resizes the current player canvas.\n     * @method resize\n     * @param {Object} size should be a literal object with `height` and `width`.\n     * @return {Player} itself\n     * @example\n     * ```javascript\n     * player.resize({height: 360, width: 640})\n     * ```\n     */\n\n  }, {\n    key: \"resize\",\n    value: function resize(size) {\n      this.core.resize(size);\n      return this;\n    }\n    /**\n     * loads a new source.\n     * @method load\n     * @param {Array|String} sources source or sources of video.\n     * An array item can be a string or {source: <<source URL>>, mimeType: <<source mime type>>}\n     * @param {String} mimeType a mime type, example: `'application/vnd.apple.mpegurl'`\n     * @param {Boolean} [autoPlay=false] whether playing should be started immediately\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"load\",\n    value: function load(sources, mimeType, autoPlay) {\n      if (autoPlay !== undefined) this.configure({\n        autoPlay: !!autoPlay\n      });\n      this.core.load(sources, mimeType);\n      return this;\n    }\n    /**\n     * destroys the current player and removes it from the DOM.\n     * @method destroy\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.stopListening();\n      this.core.destroy();\n      return this;\n    }\n    /**\n     * Gives user consent to playback. Required by mobile device after a click event before Player.load().\n     * @method consent\n     * @param {Function} callback function called when current playback is consented\n     * @example\n     * ```javascript\n     * player.consent(function() { doSomethingNext(); });\n     * ```\n     */\n\n  }, {\n    key: \"consent\",\n    value: function consent(cb) {\n      this.core.getCurrentPlayback().consent(cb);\n    }\n    /**\n     * plays the current video (`source`).\n     * @method play\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"play\",\n    value: function play() {\n      this.core.activeContainer.play();\n      return this;\n    }\n    /**\n     * pauses the current video (`source`).\n     * @method pause\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.core.activeContainer.pause();\n      return this;\n    }\n    /**\n     * stops the current video (`source`).\n     * @method stop\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.core.activeContainer.stop();\n      return this;\n    }\n    /**\n     * seeks the current video (`source`). For example, `player.seek(120)` will seek to second 120 (2minutes) of the current video.\n     * @method seek\n     * @param {Number} time should be a number between 0 and the video duration.\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"seek\",\n    value: function seek(time) {\n      this.core.activeContainer.seek(time);\n      return this;\n    }\n    /**\n     * seeks the current video (`source`). For example, `player.seek(50)` will seek to the middle of the current video.\n     * @method seekPercentage\n     * @param {Number} time should be a number between 0 and 100.\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"seekPercentage\",\n    value: function seekPercentage(percentage) {\n      this.core.activeContainer.seekPercentage(percentage);\n      return this;\n    }\n    /**\n     * mutes the current video (`source`).\n     * @method mute\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"mute\",\n    value: function mute() {\n      this.core.activePlayback.mute();\n      return this;\n    }\n    /**\n     * unmutes the current video (`source`).\n     * @method unmute\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"unmute\",\n    value: function unmute() {\n      this.core.activePlayback.unmute();\n      return this;\n    }\n    /**\n     * checks if the player is playing.\n     * @method isPlaying\n     * @return {Boolean} `true` if the current source is playing, otherwise `false`\n     */\n\n  }, {\n    key: \"isPlaying\",\n    value: function isPlaying() {\n      return this.core.activeContainer.isPlaying();\n    }\n    /**\n     * returns `true` if DVR is enable otherwise `false`.\n     * @method isDvrEnabled\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"isDvrEnabled\",\n    value: function isDvrEnabled() {\n      return this.core.activeContainer.isDvrEnabled();\n    }\n    /**\n     * returns `true` if DVR is in use otherwise `false`.\n     * @method isDvrInUse\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"isDvrInUse\",\n    value: function isDvrInUse() {\n      return this.core.activeContainer.isDvrInUse();\n    }\n    /**\n     * enables to configure a player after its creation\n     * @method configure\n     * @param {Object} options all the options to change in form of a javascript object\n     * @return {Player} itself\n     */\n\n  }, {\n    key: \"configure\",\n    value: function configure() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this._registerOptionEventListeners(options.events, this.options.events);\n\n      this.core.configure(options);\n      return this;\n    }\n    /**\n     * get a plugin by its name.\n     * @method getPlugin\n     * @param {String} name of the plugin.\n     * @return {Object} the plugin instance\n     * @example\n     * ```javascript\n     * var poster = player.getPlugin('poster');\n     * poster.hidePlayButton();\n     * ```\n     */\n\n  }, {\n    key: \"getPlugin\",\n    value: function getPlugin(name) {\n      var plugins = this.core.plugins.concat(this.core.activeContainer.plugins);\n      return plugins.filter(function (plugin) {\n        return plugin.name === name;\n      })[0];\n    }\n    /**\n     * the current time in seconds.\n     * @method getCurrentTime\n     * @return {Number} current time (in seconds) of the current source\n     */\n\n  }, {\n    key: \"getCurrentTime\",\n    value: function getCurrentTime() {\n      return this.core.activeContainer.getCurrentTime();\n    }\n    /**\n     * The time that \"0\" now represents relative to when playback started.\n     * For a stream with a sliding window this will increase as content is\n     * removed from the beginning.\n     * @method getStartTimeOffset\n     * @return {Number} time (in seconds) that time \"0\" represents.\n     */\n\n  }, {\n    key: \"getStartTimeOffset\",\n    value: function getStartTimeOffset() {\n      return this.core.activeContainer.getStartTimeOffset();\n    }\n    /**\n     * the duration time in seconds.\n     * @method getDuration\n     * @return {Number} duration time (in seconds) of the current source\n     */\n\n  }, {\n    key: \"getDuration\",\n    value: function getDuration() {\n      return this.core.activeContainer.getDuration();\n    }\n  }]);\n\n  return Player;\n}(BaseObject);\nObject.assign(Player.prototype, ErrorMixin);\n\n/**\n * The base class for a container plugin\n * @class ContainerPlugin\n * @constructor\n * @extends BaseObject\n * @module base\n */\n\nvar ContainerPlugin =\n/*#__PURE__*/\nfunction (_BaseObject) {\n  _inherits(ContainerPlugin, _BaseObject);\n\n  _createClass(ContainerPlugin, [{\n    key: \"playerError\",\n    get: function get() {\n      return this.container.playerError;\n    }\n  }]);\n\n  function ContainerPlugin(container) {\n    var _this;\n\n    _classCallCheck(this, ContainerPlugin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ContainerPlugin).call(this, container.options));\n    _this.container = container;\n    _this.enabled = true;\n\n    _this.bindEvents();\n\n    return _this;\n  }\n\n  _createClass(ContainerPlugin, [{\n    key: \"enable\",\n    value: function enable() {\n      if (!this.enabled) {\n        this.bindEvents();\n        this.enabled = true;\n      }\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      if (this.enabled) {\n        this.stopListening();\n        this.enabled = false;\n      }\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {}\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.stopListening();\n    }\n  }]);\n\n  return ContainerPlugin;\n}(BaseObject);\nObject.assign(ContainerPlugin.prototype, ErrorMixin);\n\nContainerPlugin.extend = function (properties) {\n  return extend(ContainerPlugin, properties);\n};\n\nContainerPlugin.type = 'container';\n\nvar CorePlugin =\n/*#__PURE__*/\nfunction (_BaseObject) {\n  _inherits(CorePlugin, _BaseObject);\n\n  _createClass(CorePlugin, [{\n    key: \"playerError\",\n    get: function get() {\n      return this.core.playerError;\n    }\n  }]);\n\n  function CorePlugin(core) {\n    var _this;\n\n    _classCallCheck(this, CorePlugin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CorePlugin).call(this, core.options));\n    _this.core = core;\n    _this.enabled = true;\n\n    _this.bindEvents();\n\n    return _this;\n  }\n\n  _createClass(CorePlugin, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {}\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      if (!this.enabled) {\n        this.bindEvents();\n        this.enabled = true;\n      }\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      if (this.enabled) {\n        this.stopListening();\n        this.enabled = false;\n      }\n    }\n  }, {\n    key: \"getExternalInterface\",\n    value: function getExternalInterface() {\n      return {};\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.stopListening();\n    }\n  }]);\n\n  return CorePlugin;\n}(BaseObject);\nObject.assign(CorePlugin.prototype, ErrorMixin);\n\nCorePlugin.extend = function (properties) {\n  return extend(CorePlugin, properties);\n};\n\nCorePlugin.type = 'core';\n\n/**\n * The base class for an ui container plugin\n * @class UIContainerPlugin\n * @constructor\n * @extends UIObject\n * @module base\n */\n\nvar UIContainerPlugin =\n/*#__PURE__*/\nfunction (_UIObject) {\n  _inherits(UIContainerPlugin, _UIObject);\n\n  _createClass(UIContainerPlugin, [{\n    key: \"playerError\",\n    get: function get() {\n      return this.container.playerError;\n    }\n  }]);\n\n  function UIContainerPlugin(container) {\n    var _this;\n\n    _classCallCheck(this, UIContainerPlugin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UIContainerPlugin).call(this, container.options));\n    _this.container = container;\n    _this.enabled = true;\n\n    _this.bindEvents();\n\n    return _this;\n  }\n\n  _createClass(UIContainerPlugin, [{\n    key: \"enable\",\n    value: function enable() {\n      if (!this.enabled) {\n        this.bindEvents();\n        this.$el.show();\n        this.enabled = true;\n      }\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.stopListening();\n      this.$el.hide();\n      this.enabled = false;\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {}\n  }]);\n\n  return UIContainerPlugin;\n}(UIObject);\nObject.assign(UIContainerPlugin.prototype, ErrorMixin);\n\nUIContainerPlugin.extend = function (properties) {\n  return extend(UIContainerPlugin, properties);\n};\n\nUIContainerPlugin.type = 'container';\n\n/* eslint-disable no-var */\n// Simple JavaScript Templating\n// Paul Miller (http://paulmillr.com)\n// http://underscorejs.org\n// (c) 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n// By default, Underscore uses ERB-style template delimiters, change the\n// following template settings to use alternative delimiters.\nvar settings = {\n  evaluate: /<%([\\s\\S]+?)%>/g,\n  interpolate: /<%=([\\s\\S]+?)%>/g,\n  escape: /<%-([\\s\\S]+?)%>/g\n}; // When customizing `templateSettings`, if you don't want to define an\n// interpolation, evaluation or escaping regex, we need one that is\n// guaranteed not to match.\n\nvar noMatch = /(.)^/; // Certain characters need to be escaped so that they can be put into a\n// string literal.\n\nvar escapes = {\n  '\\'': '\\'',\n  '\\\\': '\\\\',\n  '\\r': 'r',\n  '\\n': 'n',\n  '\\t': 't',\n  \"\\u2028\": 'u2028',\n  \"\\u2029\": 'u2029'\n};\nvar escaper = /\\\\|'|\\r|\\n|\\t|\\u2028|\\u2029/g; // List of HTML entities for escaping.\n\nvar htmlEntities = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  '\\'': '&#x27;'\n};\nvar entityRe = new RegExp('[&<>\"\\']', 'g');\n\nvar escapeExpr = function escapeExpr(string) {\n  if (string === null) return '';\n  return ('' + string).replace(entityRe, function (match) {\n    return htmlEntities[match];\n  });\n};\n\nvar counter = 0; // JavaScript micro-templating, similar to John Resig's implementation.\n// Underscore templating handles arbitrary delimiters, preserves whitespace,\n// and correctly escapes quotes within interpolated code.\n\nvar tmpl = function tmpl(text, data) {\n  var render; // Combine delimiters into one regular expression via alternation.\n\n  var matcher = new RegExp([(settings.escape || noMatch).source, (settings.interpolate || noMatch).source, (settings.evaluate || noMatch).source].join('|') + '|$', 'g'); // Compile the template source, escaping string literals appropriately.\n\n  var index = 0;\n  var source = '__p+=\\'';\n  text.replace(matcher, function (match, escape, interpolate, evaluate, offset) {\n    source += text.slice(index, offset).replace(escaper, function (match) {\n      return '\\\\' + escapes[match];\n    });\n    if (escape) source += '\\'+\\n((__t=(' + escape + '))==null?\\'\\':escapeExpr(__t))+\\n\\'';\n    if (interpolate) source += '\\'+\\n((__t=(' + interpolate + '))==null?\\'\\':__t)+\\n\\'';\n    if (evaluate) source += '\\';\\n' + evaluate + '\\n__p+=\\'';\n    index = offset + match.length;\n    return match;\n  });\n  source += '\\';\\n'; // If a variable is not specified, place data values in local scope.\n\n  if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n  source = 'var __t,__p=\\'\\',__j=Array.prototype.join,' + 'print=function(){__p+=__j.call(arguments,\\'\\');};\\n' + source + 'return __p;\\n//# sourceURL=/microtemplates/source[' + counter++ + ']';\n\n  try {\n    /*jshint -W054 */\n    // TODO: find a way to avoid eval\n    render = new Function(settings.variable || 'obj', 'escapeExpr', source);\n  } catch (e) {\n    e.source = source;\n    throw e;\n  }\n\n  if (data) return render(data, escapeExpr);\n\n  var template = function template(data) {\n    return render.call(this, data, escapeExpr);\n  }; // Provide the compiled function source as a convenience for precompilation.\n\n\n  template.source = 'function(' + (settings.variable || 'obj') + '){\\n' + source + '}';\n  return template;\n};\n\ntmpl.settings = settings;\n\nvar tracksHTML = \"<% for (var i = 0; i < tracks.length; i++) { %>\\n  <track data-html5-video-track=\\\"<%= i %>\\\" kind=\\\"<%= tracks[i].kind %>\\\" label=\\\"<%= tracks[i].label %>\\\" srclang=\\\"<%= tracks[i].lang %>\\\" src=\\\"<%= tracks[i].src %>\\\">\\n<% }; %>\\n\";\n\nvar css$2 = \"[data-html5-video] {\\n  position: absolute;\\n  height: 100%;\\n  width: 100%;\\n  display: block; }\\n\";\nstyleInject(css$2);\n\nvar MIMETYPES = {\n  'mp4': ['avc1.42E01E', 'avc1.58A01E', 'avc1.4D401E', 'avc1.64001E', 'mp4v.20.8', 'mp4v.20.240', 'mp4a.40.2'].map(function (codec) {\n    return 'video/mp4; codecs=\"' + codec + ', mp4a.40.2\"';\n  }),\n  'ogg': ['video/ogg; codecs=\"theora, vorbis\"', 'video/ogg; codecs=\"dirac\"', 'video/ogg; codecs=\"theora, speex\"'],\n  '3gpp': ['video/3gpp; codecs=\"mp4v.20.8, samr\"'],\n  'webm': ['video/webm; codecs=\"vp8, vorbis\"'],\n  'mkv': ['video/x-matroska; codecs=\"theora, vorbis\"'],\n  'm3u8': ['application/x-mpegurl']\n};\nMIMETYPES['ogv'] = MIMETYPES['ogg'];\nMIMETYPES['3gp'] = MIMETYPES['3gpp'];\nvar AUDIO_MIMETYPES = {\n  'wav': ['audio/wav'],\n  'mp3': ['audio/mp3', 'audio/mpeg;codecs=\"mp3\"'],\n  'aac': ['audio/mp4;codecs=\"mp4a.40.5\"'],\n  'oga': ['audio/ogg']\n};\nvar KNOWN_AUDIO_MIMETYPES = Object.keys(AUDIO_MIMETYPES).reduce(function (acc, k) {\n  return [].concat(_toConsumableArray(acc), _toConsumableArray(AUDIO_MIMETYPES[k]));\n}, []);\nvar UNKNOWN_ERROR = {\n  code: 'unknown',\n  message: 'unknown'\n}; // TODO: rename this Playback to HTML5Playback (breaking change, only after 0.3.0)\n\nvar HTML5Video =\n/*#__PURE__*/\nfunction (_Playback) {\n  _inherits(HTML5Video, _Playback);\n\n  _createClass(HTML5Video, [{\n    key: \"name\",\n    get: function get() {\n      return 'html5_video';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.8\"\n      };\n    }\n  }, {\n    key: \"tagName\",\n    get: function get() {\n      return this.isAudioOnly ? 'audio' : 'video';\n    }\n  }, {\n    key: \"isAudioOnly\",\n    get: function get() {\n      var resourceUrl = this.options.src;\n\n      var mimeTypes = HTML5Video._mimeTypesForUrl(resourceUrl, AUDIO_MIMETYPES, this.options.mimeType);\n\n      return this.options.playback && this.options.playback.audioOnly || this.options.audioOnly || KNOWN_AUDIO_MIMETYPES.indexOf(mimeTypes[0]) >= 0;\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'data-html5-video': ''\n      };\n    }\n  }, {\n    key: \"events\",\n    get: function get() {\n      return {\n        'canplay': '_onCanPlay',\n        'canplaythrough': '_handleBufferingEvents',\n        'durationchange': '_onDurationChange',\n        'ended': '_onEnded',\n        'error': '_onError',\n        'loadeddata': '_onLoadedData',\n        'loadedmetadata': '_onLoadedMetadata',\n        'pause': '_onPause',\n        'playing': '_onPlaying',\n        'progress': '_onProgress',\n        'seeking': '_onSeeking',\n        'seeked': '_onSeeked',\n        'stalled': '_handleBufferingEvents',\n        'timeupdate': '_onTimeUpdate',\n        'waiting': '_onWaiting'\n      };\n    }\n    /**\n     * Determine if the playback has ended.\n     * @property ended\n     * @type Boolean\n     */\n\n  }, {\n    key: \"ended\",\n    get: function get() {\n      return this.el.ended;\n    }\n    /**\n     * Determine if the playback is having to buffer in order for\n     * playback to be smooth.\n     * This is related to the PLAYBACK_BUFFERING and PLAYBACK_BUFFERFULL events\n     * @property buffering\n     * @type Boolean\n     */\n\n  }, {\n    key: \"buffering\",\n    get: function get() {\n      return this._isBuffering;\n    }\n  }]);\n\n  function HTML5Video() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, HTML5Video);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(HTML5Video)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this._destroyed = false;\n    _this._loadStarted = false;\n    _this._isBuffering = false;\n    _this._playheadMoving = false;\n    _this._playheadMovingTimer = null;\n    _this._stopped = false;\n    _this._ccTrackId = -1;\n\n    _this._setupSrc(_this.options.src); // backwards compatibility (TODO: remove on 0.3.0)\n\n\n    _this.options.playback || (_this.options.playback = _this.options || {});\n    _this.options.playback.disableContextMenu = _this.options.playback.disableContextMenu || _this.options.disableVideoTagContextMenu;\n    var playbackConfig = _this.options.playback;\n    var preload = playbackConfig.preload || (Browser.isSafari ? 'auto' : _this.options.preload);\n    var posterUrl; // FIXME: poster plugin should always convert poster to object with expected properties ?\n\n    if (_this.options.poster) {\n      if (typeof _this.options.poster === 'string') posterUrl = _this.options.poster;else if (typeof _this.options.poster.url === 'string') posterUrl = _this.options.poster.url;\n    }\n\n    zepto.extend(_this.el, {\n      muted: _this.options.mute,\n      defaultMuted: _this.options.mute,\n      loop: _this.options.loop,\n      poster: posterUrl,\n      preload: preload || 'metadata',\n      crossOrigin: playbackConfig.crossOrigin,\n      'x-webkit-playsinline': playbackConfig.playInline\n    });\n    if (playbackConfig.controls || _this.options.useVideoTagDefaultControls) _this.$el.attr('controls', '');\n    playbackConfig.playInline && _this.$el.attr({\n      playsinline: 'playsinline'\n    });\n    playbackConfig.crossOrigin && _this.$el.attr({\n      crossorigin: playbackConfig.crossOrigin\n    }); // TODO should settings be private?\n\n    _this.settings = {\n      \"default\": ['seekbar']\n    };\n    _this.settings.left = ['playpause', 'position', 'duration'];\n    _this.settings.right = ['fullscreen', 'volume', 'hd-indicator'];\n    playbackConfig.externalTracks && _this._setupExternalTracks(playbackConfig.externalTracks);\n    _this.options.autoPlay && _this.attemptAutoPlay();\n    return _this;\n  }\n\n  _createClass(HTML5Video, [{\n    key: \"configure\",\n    value: function configure(options) {\n      _get(_getPrototypeOf(HTML5Video.prototype), \"configure\", this).call(this, options);\n\n      this.el.loop = !!options.loop;\n    } // See Playback.attemptAutoPlay()\n\n  }, {\n    key: \"attemptAutoPlay\",\n    value: function attemptAutoPlay() {\n      var _this2 = this;\n\n      this.canAutoPlay(function (result, error) {\n        error && Log.warn(_this2.name, 'autoplay error.', {\n          result: result,\n          error: error\n        }); // https://github.com/clappr/clappr/issues/1076\n\n        result && nextTick(function () {\n          return !_this2._destroyed && _this2.play();\n        });\n      });\n    } // See Playback.canAutoPlay()\n\n  }, {\n    key: \"canAutoPlay\",\n    value: function canAutoPlay(cb) {\n      if (this.options.disableCanAutoPlay) cb(true, null);\n      var opts = {\n        timeout: this.options.autoPlayTimeout || 500,\n        inline: this.options.playback.playInline || false,\n        muted: this.options.mute || false // Known issue: mediacontrols may asynchronously mute video\n\n      }; // Use current video element if recycling feature enabled with mobile devices\n\n      if (Browser.isMobile && DomRecycler.options.recycleVideo) opts.element = this.el; // Desktop browser autoplay policy may require user action\n      // Mobile browser autoplay require user consent and video recycling feature enabled\n      // It may returns a false positive with source-less player consent\n\n      canAutoPlayMedia(cb, opts);\n    }\n  }, {\n    key: \"_setupExternalTracks\",\n    value: function _setupExternalTracks(tracks) {\n      this._externalTracks = tracks.map(function (track) {\n        return {\n          kind: track.kind || 'subtitles',\n          // Default is 'subtitles'\n          label: track.label,\n          lang: track.lang,\n          src: track.src\n        };\n      });\n    }\n    /**\n     * Sets the source url on the <video> element, and also the 'src' property.\n     * @method setupSrc\n     * @private\n     * @param {String} srcUrl The source URL.\n     */\n\n  }, {\n    key: \"_setupSrc\",\n    value: function _setupSrc(srcUrl) {\n      if (this.el.src === srcUrl) return;\n      this._ccIsSetup = false;\n      this.el.src = srcUrl;\n      this._src = this.el.src;\n    }\n  }, {\n    key: \"_onLoadedMetadata\",\n    value: function _onLoadedMetadata(e) {\n      this._handleBufferingEvents();\n\n      this.trigger(Events.PLAYBACK_LOADEDMETADATA, {\n        duration: e.target.duration,\n        data: e\n      });\n\n      this._updateSettings();\n\n      var autoSeekFromUrl = typeof this._options.autoSeekFromUrl === 'undefined' || this._options.autoSeekFromUrl;\n      if (this.getPlaybackType() !== Playback.LIVE && autoSeekFromUrl) this._checkInitialSeek();\n    }\n  }, {\n    key: \"_onDurationChange\",\n    value: function _onDurationChange() {\n      this._updateSettings();\n\n      this._onTimeUpdate(); // onProgress uses the duration\n\n\n      this._onProgress();\n    }\n  }, {\n    key: \"_updateSettings\",\n    value: function _updateSettings() {\n      // we can't figure out if hls resource is VoD or not until it is being loaded or duration has changed.\n      // that's why we check it again and update media control accordingly.\n      if (this.getPlaybackType() === Playback.VOD || this.getPlaybackType() === Playback.AOD) this.settings.left = ['playpause', 'position', 'duration'];else this.settings.left = ['playstop'];\n      this.settings.seekEnabled = this.isSeekEnabled();\n      this.trigger(Events.PLAYBACK_SETTINGSUPDATE);\n    }\n  }, {\n    key: \"isSeekEnabled\",\n    value: function isSeekEnabled() {\n      return isFinite(this.getDuration());\n    }\n  }, {\n    key: \"getPlaybackType\",\n    value: function getPlaybackType() {\n      var onDemandType = this.tagName === 'audio' ? Playback.AOD : Playback.VOD;\n      return [0, undefined, Infinity].indexOf(this.el.duration) >= 0 ? Playback.LIVE : onDemandType;\n    }\n  }, {\n    key: \"isHighDefinitionInUse\",\n    value: function isHighDefinitionInUse() {\n      return false;\n    } // On mobile device, HTML5 video element \"retains\" user action consent if\n    // load() method is called. See Player.consent().\n\n  }, {\n    key: \"consent\",\n    value: function consent(cb) {\n      var _this3 = this;\n\n      if (this.isPlaying()) {\n        _get(_getPrototypeOf(HTML5Video.prototype), \"consent\", this).call(this, cb);\n      } else {\n        var eventHandler = function eventHandler() {\n          _this3.el.removeEventListener('loadedmetadata', eventHandler, false);\n\n          _this3.el.removeEventListener('error', eventHandler, false);\n\n          _get(_getPrototypeOf(HTML5Video.prototype), \"consent\", _this3).call(_this3, cb);\n        };\n\n        this.el.addEventListener('loadedmetadata', eventHandler, false);\n        this.el.addEventListener('error', eventHandler, false);\n        this.el.load();\n      }\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      this.trigger(Events.PLAYBACK_PLAY_INTENT);\n      this._stopped = false;\n\n      this._setupSrc(this._src);\n\n      this._handleBufferingEvents();\n\n      var promise = this.el.play(); // For more details, see https://developers.google.com/web/updates/2016/03/play-returns-promise\n\n      if (promise && promise[\"catch\"]) promise[\"catch\"](function () {});\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.el.pause();\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.pause();\n      this._stopped = true; // src will be added again in play()\n\n      this.el.removeAttribute('src');\n      this.el.load(); // load with no src to stop loading of the previous source and avoid leaks\n\n      this._stopPlayheadMovingChecks();\n\n      this._handleBufferingEvents();\n\n      this.trigger(Events.PLAYBACK_STOP);\n    }\n  }, {\n    key: \"volume\",\n    value: function volume(value) {\n      if (value === 0) {\n        this.$el.attr({\n          muted: 'true'\n        });\n        this.el.muted = true;\n      } else {\n        this.$el.attr({\n          muted: null\n        });\n        this.el.muted = false;\n        this.el.volume = value / 100;\n      }\n    }\n    /**\n     * @deprecated\n     * @private\n     */\n\n  }, {\n    key: \"mute\",\n    value: function mute() {\n      this.el.muted = true;\n    }\n    /**\n     * @deprecated\n     * @private\n     */\n\n  }, {\n    key: \"unmute\",\n    value: function unmute() {\n      this.el.muted = false;\n    }\n  }, {\n    key: \"isMuted\",\n    value: function isMuted() {\n      return this.el.muted === true || this.el.volume === 0;\n    }\n  }, {\n    key: \"isPlaying\",\n    value: function isPlaying() {\n      return !this.el.paused && !this.el.ended;\n    }\n  }, {\n    key: \"_startPlayheadMovingChecks\",\n    value: function _startPlayheadMovingChecks() {\n      if (this._playheadMovingTimer !== null) return;\n      this._playheadMovingTimeOnCheck = null;\n\n      this._determineIfPlayheadMoving();\n\n      this._playheadMovingTimer = setInterval(this._determineIfPlayheadMoving.bind(this), 500);\n    }\n  }, {\n    key: \"_stopPlayheadMovingChecks\",\n    value: function _stopPlayheadMovingChecks() {\n      if (this._playheadMovingTimer === null) return;\n      clearInterval(this._playheadMovingTimer);\n      this._playheadMovingTimer = null;\n      this._playheadMoving = false;\n    }\n  }, {\n    key: \"_determineIfPlayheadMoving\",\n    value: function _determineIfPlayheadMoving() {\n      var before = this._playheadMovingTimeOnCheck;\n      var now = this.el.currentTime;\n      this._playheadMoving = before !== now;\n      this._playheadMovingTimeOnCheck = now;\n\n      this._handleBufferingEvents();\n    } // this seems to happen when the user is having to wait\n    // for something to happen AFTER A USER INTERACTION\n    // e.g the player might be buffering, but when `play()` is called\n    // only at this point will this be called.\n    // Or the user may seek somewhere but the new area requires buffering,\n    // so it will fire then as well.\n    // On devices where playing is blocked until requested with a user action,\n    // buffering may start, but never finish until the user initiates a play,\n    // but this only happens when play is actually requested\n\n  }, {\n    key: \"_onWaiting\",\n    value: function _onWaiting() {\n      this._loadStarted = true;\n\n      this._handleBufferingEvents();\n    } // called after the first frame has loaded\n    // note this doesn't fire on ios before the user has requested play\n    // ideally the \"loadstart\" event would be used instead, but this fires\n    // before a user has requested play on iOS, and also this is always fired\n    // even if the preload setting is \"none\". In both these cases this causes\n    // infinite buffering until the user does something which isn't great.\n\n  }, {\n    key: \"_onLoadedData\",\n    value: function _onLoadedData() {\n      this._loadStarted = true;\n\n      this._handleBufferingEvents();\n    } // note this doesn't fire on ios before user has requested play\n\n  }, {\n    key: \"_onCanPlay\",\n    value: function _onCanPlay() {\n      this._handleBufferingEvents();\n    }\n  }, {\n    key: \"_onPlaying\",\n    value: function _onPlaying() {\n      this._checkForClosedCaptions();\n\n      this._startPlayheadMovingChecks();\n\n      this._handleBufferingEvents();\n\n      this.trigger(Events.PLAYBACK_PLAY);\n    }\n  }, {\n    key: \"_onPause\",\n    value: function _onPause() {\n      this._stopPlayheadMovingChecks();\n\n      this._handleBufferingEvents();\n\n      this.trigger(Events.PLAYBACK_PAUSE);\n    }\n  }, {\n    key: \"_onSeeking\",\n    value: function _onSeeking() {\n      this._handleBufferingEvents();\n\n      this.trigger(Events.PLAYBACK_SEEK);\n    }\n  }, {\n    key: \"_onSeeked\",\n    value: function _onSeeked() {\n      this._handleBufferingEvents();\n\n      this.trigger(Events.PLAYBACK_SEEKED);\n    }\n  }, {\n    key: \"_onEnded\",\n    value: function _onEnded() {\n      this._handleBufferingEvents();\n\n      this.trigger(Events.PLAYBACK_ENDED, this.name);\n    } // The playback should be classed as buffering if the following are true:\n    // - the ready state is less then HAVE_FUTURE_DATA or the playhead isn't moving and it should be\n    // - the media hasn't \"ended\",\n    // - the media hasn't been stopped\n    // - loading has started\n\n  }, {\n    key: \"_handleBufferingEvents\",\n    value: function _handleBufferingEvents() {\n      var playheadShouldBeMoving = !this.el.ended && !this.el.paused;\n      var buffering = this._loadStarted && !this.el.ended && !this._stopped && (playheadShouldBeMoving && !this._playheadMoving || this.el.readyState < this.el.HAVE_FUTURE_DATA);\n\n      if (this._isBuffering !== buffering) {\n        this._isBuffering = buffering;\n        if (buffering) this.trigger(Events.PLAYBACK_BUFFERING, this.name);else this.trigger(Events.PLAYBACK_BUFFERFULL, this.name);\n      }\n    }\n  }, {\n    key: \"_onError\",\n    value: function _onError() {\n      var _ref = this.el.error || UNKNOWN_ERROR,\n          code = _ref.code,\n          message = _ref.message;\n\n      var isUnknownError = code === UNKNOWN_ERROR.code;\n      var formattedError = this.createError({\n        code: code,\n        description: message,\n        raw: this.el.error,\n        level: isUnknownError ? PlayerError.Levels.WARN : PlayerError.Levels.FATAL\n      });\n      if (isUnknownError) Log.warn(this.name, 'HTML5 unknown error: ', formattedError);else this.trigger(Events.PLAYBACK_ERROR, formattedError);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._destroyed = true;\n      this.handleTextTrackChange && this.el.textTracks.removeEventListener('change', this.handleTextTrackChange);\n\n      _get(_getPrototypeOf(HTML5Video.prototype), \"destroy\", this).call(this);\n\n      this.el.removeAttribute('src');\n      this.el.load(); // load with no src to stop loading of the previous source and avoid leaks\n\n      this._src = null;\n      DomRecycler.garbage(this.el);\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(time) {\n      this.el.currentTime = time;\n    }\n  }, {\n    key: \"seekPercentage\",\n    value: function seekPercentage(percentage) {\n      var time = this.el.duration * (percentage / 100);\n      this.seek(time);\n    }\n  }, {\n    key: \"_checkInitialSeek\",\n    value: function _checkInitialSeek() {\n      var seekTime = seekStringToSeconds();\n      if (seekTime !== 0) this.seek(seekTime);\n    }\n  }, {\n    key: \"getCurrentTime\",\n    value: function getCurrentTime() {\n      return this.el.currentTime;\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration() {\n      return this.el.duration;\n    }\n  }, {\n    key: \"_onTimeUpdate\",\n    value: function _onTimeUpdate() {\n      if (this.getPlaybackType() === Playback.LIVE) this.trigger(Events.PLAYBACK_TIMEUPDATE, {\n        current: 1,\n        total: 1\n      }, this.name);else this.trigger(Events.PLAYBACK_TIMEUPDATE, {\n        current: this.el.currentTime,\n        total: this.el.duration\n      }, this.name);\n    }\n  }, {\n    key: \"_onProgress\",\n    value: function _onProgress() {\n      if (!this.el.buffered.length) return;\n      var buffered = [];\n      var bufferedPos = 0;\n\n      for (var i = 0; i < this.el.buffered.length; i++) {\n        buffered = [].concat(_toConsumableArray(buffered), [{\n          start: this.el.buffered.start(i),\n          end: this.el.buffered.end(i)\n        }]);\n        if (this.el.currentTime >= buffered[i].start && this.el.currentTime <= buffered[i].end) bufferedPos = i;\n      }\n\n      var progress = {\n        start: buffered[bufferedPos].start,\n        current: buffered[bufferedPos].end,\n        total: this.el.duration\n      };\n      this.trigger(Events.PLAYBACK_PROGRESS, progress, buffered);\n    }\n  }, {\n    key: \"_typeFor\",\n    value: function _typeFor(src) {\n      var mimeTypes = HTML5Video._mimeTypesForUrl(src, MIMETYPES, this.options.mimeType);\n\n      if (mimeTypes.length === 0) mimeTypes = HTML5Video._mimeTypesForUrl(src, AUDIO_MIMETYPES, this.options.mimeType);\n      var mimeType = mimeTypes[0] || '';\n      return mimeType.split(';')[0];\n    }\n  }, {\n    key: \"_ready\",\n    value: function _ready() {\n      if (this._isReadyState) return;\n      this._isReadyState = true;\n      this.trigger(Events.PLAYBACK_READY, this.name);\n    }\n  }, {\n    key: \"_checkForClosedCaptions\",\n    value: function _checkForClosedCaptions() {\n      // Check if CC available only if current playback is HTML5Video\n      if (this.isHTML5Video && !this._ccIsSetup) {\n        if (this.hasClosedCaptionsTracks) {\n          this.trigger(Events.PLAYBACK_SUBTITLE_AVAILABLE);\n          var trackId = this.closedCaptionsTrackId;\n          this.closedCaptionsTrackId = trackId;\n          this.handleTextTrackChange = this._handleTextTrackChange.bind(this);\n          this.el.textTracks.addEventListener('change', this.handleTextTrackChange);\n        }\n\n        this._ccIsSetup = true;\n      }\n    }\n  }, {\n    key: \"_handleTextTrackChange\",\n    value: function _handleTextTrackChange() {\n      var tracks = this.closedCaptionsTracks;\n      var track = tracks.find(function (track) {\n        return track.track.mode === 'showing';\n      }) || {\n        id: -1\n      };\n\n      if (this._ccTrackId !== track.id) {\n        this._ccTrackId = track.id;\n        this.trigger(Events.PLAYBACK_SUBTITLE_CHANGED, {\n          id: track.id\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.options.playback.disableContextMenu) {\n        this.$el.on('contextmenu', function () {\n          return false;\n        });\n      }\n\n      if (this._externalTracks && this._externalTracks.length > 0) {\n        this.$el.html(this.template({\n          tracks: this._externalTracks\n        }));\n      }\n\n      this._ready();\n\n      return this;\n    }\n  }, {\n    key: \"isReady\",\n    get: function get() {\n      return this._isReadyState;\n    }\n  }, {\n    key: \"isHTML5Video\",\n    get: function get() {\n      return this.name === HTML5Video.prototype.name;\n    }\n  }, {\n    key: \"closedCaptionsTracks\",\n    get: function get() {\n      var id = 0;\n\n      var trackId = function trackId() {\n        return id++;\n      };\n\n      var textTracks = this.el.textTracks ? Array.from(this.el.textTracks) : [];\n      return textTracks.filter(function (track) {\n        return track.kind === 'subtitles' || track.kind === 'captions';\n      }).map(function (track) {\n        return {\n          id: trackId(),\n          name: track.label,\n          track: track\n        };\n      });\n    }\n  }, {\n    key: \"closedCaptionsTrackId\",\n    get: function get() {\n      return this._ccTrackId;\n    },\n    set: function set(trackId) {\n      if (!isNumber(trackId)) return;\n      var tracks = this.closedCaptionsTracks;\n      var showingTrack; // Note: -1 is for hide all tracks\n\n      if (trackId !== -1) {\n        showingTrack = tracks.find(function (track) {\n          return track.id === trackId;\n        });\n        if (!showingTrack) return; // Track id not found\n\n        if (showingTrack.track.mode === 'showing') return; // Track already showing\n      } // Since it is possible to display multiple tracks,\n      // ensure that all tracks are hidden.\n\n\n      tracks.filter(function (track) {\n        return track.track.mode !== 'hidden';\n      }).forEach(function (track) {\n        return track.track.mode = 'hidden';\n      });\n      showingTrack && (showingTrack.track.mode = 'showing');\n      this._ccTrackId = trackId;\n      this.trigger(Events.PLAYBACK_SUBTITLE_CHANGED, {\n        id: trackId\n      });\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return tmpl(tracksHTML);\n    }\n  }]);\n\n  return HTML5Video;\n}(Playback);\n\nHTML5Video._mimeTypesForUrl = function (resourceUrl, mimeTypesByExtension, mimeType) {\n  var extension = (resourceUrl.split('?')[0].match(/.*\\.(.*)$/) || [])[1];\n  var mimeTypes = mimeType || extension && mimeTypesByExtension[extension.toLowerCase()] || [];\n  return mimeTypes.constructor === Array ? mimeTypes : [mimeTypes];\n};\n\nHTML5Video._canPlay = function (type, mimeTypesByExtension, resourceUrl, mimeType) {\n  var mimeTypes = HTML5Video._mimeTypesForUrl(resourceUrl, mimeTypesByExtension, mimeType);\n\n  var media = document.createElement(type);\n  return !!mimeTypes.filter(function (mediaType) {\n    return !!media.canPlayType(mediaType).replace(/no/, '');\n  })[0];\n};\n\nHTML5Video.canPlay = function (resourceUrl, mimeType) {\n  return HTML5Video._canPlay('audio', AUDIO_MIMETYPES, resourceUrl, mimeType) || HTML5Video._canPlay('video', MIMETYPES, resourceUrl, mimeType);\n};\n\nvar HTML5Audio =\n/*#__PURE__*/\nfunction (_HTML5Video) {\n  _inherits(HTML5Audio, _HTML5Video);\n\n  function HTML5Audio() {\n    _classCallCheck(this, HTML5Audio);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(HTML5Audio).apply(this, arguments));\n  }\n\n  _createClass(HTML5Audio, [{\n    key: \"updateSettings\",\n    value: function updateSettings() {\n      this.settings.left = ['playpause', 'position', 'duration'];\n      this.settings.seekEnabled = this.isSeekEnabled();\n      this.trigger(Events.PLAYBACK_SETTINGSUPDATE);\n    }\n  }, {\n    key: \"getPlaybackType\",\n    value: function getPlaybackType() {\n      return Playback.AOD;\n    }\n  }, {\n    key: \"name\",\n    get: function get() {\n      return 'html5_audio';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.8\"\n      };\n    }\n  }, {\n    key: \"tagName\",\n    get: function get() {\n      return 'audio';\n    }\n  }, {\n    key: \"isAudioOnly\",\n    get: function get() {\n      return true;\n    }\n  }]);\n\n  return HTML5Audio;\n}(HTML5Video);\n\nHTML5Audio.canPlay = function (resourceUrl, mimeType) {\n  var mimetypes = {\n    'wav': ['audio/wav'],\n    'mp3': ['audio/mp3', 'audio/mpeg;codecs=\"mp3\"'],\n    'aac': ['audio/mp4;codecs=\"mp4a.40.5\"'],\n    'oga': ['audio/ogg']\n  };\n  return HTML5Video._canPlay('audio', mimetypes, resourceUrl, mimeType);\n};\n\nvar css$3 = \"[data-html-img] {\\n  max-width: 100%;\\n  max-height: 100%; }\\n\";\nstyleInject(css$3);\n\nvar HTMLImg =\n/*#__PURE__*/\nfunction (_Playback) {\n  _inherits(HTMLImg, _Playback);\n\n  _createClass(HTMLImg, [{\n    key: \"getPlaybackType\",\n    value: function getPlaybackType() {\n      return Playback.NO_OP;\n    }\n  }, {\n    key: \"name\",\n    get: function get() {\n      return 'html_img';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.8\"\n      };\n    }\n  }, {\n    key: \"tagName\",\n    get: function get() {\n      return 'img';\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'data-html-img': ''\n      };\n    }\n  }, {\n    key: \"events\",\n    get: function get() {\n      return {\n        'load': '_onLoad',\n        'abort': '_onError',\n        'error': '_onError'\n      };\n    }\n  }]);\n\n  function HTMLImg(params) {\n    var _this;\n\n    _classCallCheck(this, HTMLImg);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HTMLImg).call(this, params));\n    _this.el.src = params.src;\n    return _this;\n  }\n\n  _createClass(HTMLImg, [{\n    key: \"render\",\n    value: function render() {\n      this.trigger(Events.PLAYBACK_READY, this.name);\n      return this;\n    }\n  }, {\n    key: \"_onLoad\",\n    value: function _onLoad() {\n      this.trigger(Events.PLAYBACK_ENDED, this.name);\n    }\n  }, {\n    key: \"_onError\",\n    value: function _onError(evt) {\n      var m = evt.type === 'error' ? 'load error' : 'loading aborted';\n      this.trigger(Events.PLAYBACK_ERROR, {\n        message: m\n      }, this.name);\n    }\n  }]);\n\n  return HTMLImg;\n}(Playback);\n\nHTMLImg.canPlay = function (resource) {\n  return /\\.(png|jpg|jpeg|gif|bmp|tiff|pgm|pnm|webp)(|\\?.*)$/i.test(resource);\n};\n\nvar noOpHTML = \"<canvas data-no-op-canvas></canvas>\\n<p data-no-op-msg><%=message%></p><p>\\n</p>\";\n\nvar css$4 = \"[data-no-op] {\\n  position: absolute;\\n  height: 100%;\\n  width: 100%;\\n  text-align: center; }\\n\\n[data-no-op] p[data-no-op-msg] {\\n  position: absolute;\\n  text-align: center;\\n  font-size: 25px;\\n  left: 0;\\n  right: 0;\\n  color: white;\\n  padding: 10px;\\n  /* center vertically */\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n          transform: translateY(-50%);\\n  max-height: 100%;\\n  overflow: auto; }\\n\\n[data-no-op] canvas[data-no-op-canvas] {\\n  background-color: #777;\\n  height: 100%;\\n  width: 100%; }\\n\";\nstyleInject(css$4);\n\nvar NoOp =\n/*#__PURE__*/\nfunction (_Playback) {\n  _inherits(NoOp, _Playback);\n\n  _createClass(NoOp, [{\n    key: \"name\",\n    get: function get() {\n      return 'no_op';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.8\"\n      };\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return tmpl(noOpHTML);\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'data-no-op': ''\n      };\n    }\n  }]);\n\n  function NoOp() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, NoOp);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(NoOp)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this._noiseFrameNum = -1;\n    return _this;\n  }\n\n  _createClass(NoOp, [{\n    key: \"render\",\n    value: function render() {\n      var playbackNotSupported = this.options.playbackNotSupportedMessage || this.i18n.t('playback_not_supported');\n      this.$el.html(this.template({\n        message: playbackNotSupported\n      }));\n      this.trigger(Events.PLAYBACK_READY, this.name);\n      var showForNoOp = !!(this.options.poster && this.options.poster.showForNoOp);\n      if (this.options.autoPlay || !showForNoOp) this._animate();\n      return this;\n    }\n  }, {\n    key: \"_noise\",\n    value: function _noise() {\n      this._noiseFrameNum = (this._noiseFrameNum + 1) % 5;\n\n      if (this._noiseFrameNum) {\n        // only update noise every 5 frames to save cpu\n        return;\n      }\n\n      var idata = this.context.createImageData(this.context.canvas.width, this.context.canvas.height);\n      var buffer32;\n\n      try {\n        buffer32 = new Uint32Array(idata.data.buffer);\n      } catch (err) {\n        buffer32 = new Uint32Array(this.context.canvas.width * this.context.canvas.height * 4);\n        var data = idata.data;\n\n        for (var i = 0; i < data.length; i++) {\n          buffer32[i] = data[i];\n        }\n      }\n\n      var len = buffer32.length,\n          m = Math.random() * 6 + 4;\n      var run = 0,\n          color = 0;\n\n      for (var _i = 0; _i < len;) {\n        if (run < 0) {\n          run = m * Math.random();\n          var p = Math.pow(Math.random(), 0.4);\n          color = 255 * p << 24;\n        }\n\n        run -= 1;\n        buffer32[_i++] = color;\n      }\n\n      this.context.putImageData(idata, 0, 0);\n    }\n  }, {\n    key: \"_loop\",\n    value: function _loop() {\n      var _this2 = this;\n\n      if (this._stop) return;\n\n      this._noise();\n\n      this._animationHandle = requestAnimationFrame(function () {\n        return _this2._loop();\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this._animationHandle) {\n        cancelAnimationFrame(this._animationHandle);\n        this._stop = true;\n      }\n    }\n  }, {\n    key: \"_animate\",\n    value: function _animate() {\n      this.canvas = this.$el.find('canvas[data-no-op-canvas]')[0];\n      this.context = this.canvas.getContext('2d');\n\n      this._loop();\n    }\n  }]);\n\n  return NoOp;\n}(Playback);\n\nNoOp.canPlay = function (source) {\n  // eslint-disable-line no-unused-vars\n  return true;\n};\n\n// Copyright 2014 Globo.com Player authors. All rights reserved.\nvar Styler = {\n  getStyleFor: function getStyleFor(style) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      baseUrl: ''\n    };\n    return zepto('<style class=\"clappr-style\"></style>').html(tmpl(style.toString())(options));\n  }\n};\n\n/**\n * The internationalization (i18n) plugin\n * @class Strings\n * @constructor\n * @extends CorePlugin\n * @module plugins\n */\n\nvar Strings =\n/*#__PURE__*/\nfunction (_CorePlugin) {\n  _inherits(Strings, _CorePlugin);\n\n  _createClass(Strings, [{\n    key: \"name\",\n    get: function get() {\n      return 'strings';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.8\"\n      };\n    }\n  }]);\n\n  function Strings(core) {\n    var _this;\n\n    _classCallCheck(this, Strings);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Strings).call(this, core));\n\n    _this._initializeMessages();\n\n    return _this;\n  }\n  /**\n   * Gets a translated string for the given key.\n   * @method t\n   * @param {String} key the key to all messages\n   * @return {String} translated label\n   */\n\n\n  _createClass(Strings, [{\n    key: \"t\",\n    value: function t(key) {\n      var lang = this._language();\n\n      var fallbackLang = this._messages['en'];\n      var i18n = lang && this._messages[lang] || fallbackLang;\n      return i18n[key] || fallbackLang[key] || key;\n    }\n  }, {\n    key: \"_language\",\n    value: function _language() {\n      return this.core.options.language || getBrowserLanguage();\n    }\n  }, {\n    key: \"_initializeMessages\",\n    value: function _initializeMessages() {\n      var defaultMessages = {\n        'en': {\n          'live': 'live',\n          'back_to_live': 'back to live',\n          'disabled': 'Disabled',\n          'playback_not_supported': 'Your browser does not support the playback of this video. Please try using a different browser.',\n          'default_error_title': 'Could not play video.',\n          'default_error_message': 'There was a problem trying to load the video.'\n        },\n        'pt': {\n          'live': 'ao vivo',\n          'back_to_live': 'voltar para o ao vivo',\n          'disabled': 'Desativado',\n          'playback_not_supported': 'Seu navegador não supporta a reprodução deste video. Por favor, tente usar um navegador diferente.',\n          'default_error_title': 'Não foi possível reproduzir o vídeo.',\n          'default_error_message': 'Ocorreu um problema ao tentar carregar o vídeo.'\n        },\n        'es': {\n          'live': 'vivo',\n          'back_to_live': 'volver en vivo',\n          'disabled': 'Discapacitado',\n          'playback_not_supported': 'Su navegador no soporta la reproducción de un video. Por favor, trate de usar un navegador diferente.'\n        },\n        'ru': {\n          'live': 'прямой эфир',\n          'back_to_live': 'к прямому эфиру',\n          'disabled': 'Отключено',\n          'playback_not_supported': 'Ваш браузер не поддерживает воспроизведение этого видео. Пожалуйста, попробуйте другой браузер.'\n        },\n        'fr': {\n          'live': 'en direct',\n          'back_to_live': 'retour au direct',\n          'disabled': 'Désactivé',\n          'playback_not_supported': 'Votre navigateur ne supporte pas la lecture de cette vidéo. Merci de tenter sur un autre navigateur.',\n          'default_error_title': 'Impossible de lire la vidéo.',\n          'default_error_message': 'Un problème est survenu lors du chargement de la vidéo.'\n        },\n        'tr': {\n          'live': 'canlı',\n          'back_to_live': 'canlı yayına dön',\n          'disabled': 'Engelli',\n          'playback_not_supported': 'Tarayıcınız bu videoyu oynatma desteğine sahip değil. Lütfen farklı bir tarayıcı ile deneyin.'\n        },\n        'et': {\n          'live': 'Otseülekanne',\n          'back_to_live': 'Tagasi otseülekande juurde',\n          'disabled': 'Keelatud',\n          'playback_not_supported': 'Teie brauser ei toeta selle video taasesitust. Proovige kasutada muud brauserit.'\n        },\n        'ar': {\n          'live': 'مباشر',\n          'back_to_live': 'الرجوع إلى المباشر',\n          'disabled': 'معطّل',\n          'playback_not_supported': 'المتصفح الذي تستخدمه لا يدعم تشغيل هذا الفيديو. الرجاء إستخدام متصفح آخر.',\n          'default_error_title': 'غير قادر الى التشغيل.',\n          'default_error_message': 'حدثت مشكلة أثناء تحميل الفيديو.'\n        }\n      };\n      this._messages = zepto.extend(true, defaultMessages, this.core.options.strings || {});\n      this._messages['pt-BR'] = this._messages['pt'];\n      this._messages['en-US'] = this._messages['en'];\n      this._messages['es-419'] = this._messages['es'];\n      this._messages['fr-FR'] = this._messages['fr'];\n      this._messages['tr-TR'] = this._messages['tr'];\n      this._messages['et-EE'] = this._messages['et'];\n      this._messages['ar-IQ'] = this._messages['ar'];\n    }\n  }]);\n\n  return Strings;\n}(CorePlugin);\n\n// Copyright 2014 Globo.com Player authors. All rights reserved.\nvar version$1 = \"0.4.8\"; // Built-in Plugins/Playbacks\n\nLoader.registerPlugin(Strings);\nLoader.registerPlayback(NoOp);\nLoader.registerPlayback(HTMLImg);\nLoader.registerPlayback(HTML5Audio);\nLoader.registerPlayback(HTML5Video);\nvar main = {\n  Player: Player,\n  Events: Events,\n  Browser: Browser,\n  ContainerPlugin: ContainerPlugin,\n  UIContainerPlugin: UIContainerPlugin,\n  CorePlugin: CorePlugin,\n  UICorePlugin: UICorePlugin,\n  Playback: Playback,\n  Container: Container,\n  Core: Core,\n  PlayerError: PlayerError,\n  Loader: Loader,\n  BaseObject: BaseObject,\n  UIObject: UIObject,\n  Utils: Utils,\n  HTML5Audio: HTML5Audio,\n  HTML5Video: HTML5Video,\n  HTMLImg: HTMLImg,\n  Log: Log,\n  Styler: Styler,\n  version: version$1,\n  template: tmpl,\n  $: zepto\n};\n\nexport default main;\nexport { zepto as $, BaseObject, Browser, Container, ContainerPlugin, Core, CorePlugin, Events, HTML5Audio, HTML5Video, HTMLImg, Loader, Log, Playback, Player, PlayerError, Styler, UIContainerPlugin, UICorePlugin, UIObject, Utils, tmpl as template, version$1 as version };\n","import { Events, Playback, ContainerPlugin, template, UICorePlugin, CorePlugin, PlayerError, $, Utils, Browser, UIContainerPlugin } from '@clappr/core';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nvar ClickToPausePlugin =\n/*#__PURE__*/\nfunction (_ContainerPlugin) {\n  _inherits(ClickToPausePlugin, _ContainerPlugin);\n\n  _createClass(ClickToPausePlugin, [{\n    key: \"name\",\n    get: function get() {\n      return 'click_to_pause';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.5\"\n      };\n    }\n  }]);\n\n  function ClickToPausePlugin(container) {\n    _classCallCheck(this, ClickToPausePlugin);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ClickToPausePlugin).call(this, container));\n  }\n\n  _createClass(ClickToPausePlugin, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.container, Events.CONTAINER_CLICK, this.click);\n      this.listenTo(this.container, Events.CONTAINER_SETTINGSUPDATE, this.settingsUpdate);\n    }\n  }, {\n    key: \"click\",\n    value: function click() {\n      if (this.container.getPlaybackType() !== Playback.LIVE || this.container.isDvrEnabled()) {\n        if (this.container.isPlaying()) this.container.pause();else this.container.play();\n      }\n    }\n  }, {\n    key: \"settingsUpdate\",\n    value: function settingsUpdate() {\n      var pointerEnabled = this.container.getPlaybackType() !== Playback.LIVE || this.container.isDvrEnabled();\n      if (pointerEnabled === this.pointerEnabled) return;\n      var method = pointerEnabled ? 'addClass' : 'removeClass';\n      this.container.$el[method]('pointer-enabled');\n      this.pointerEnabled = pointerEnabled;\n    }\n  }]);\n\n  return ClickToPausePlugin;\n}(ContainerPlugin);\n\nvar ccIcon = \"<svg version=\\\"1.1\\\" id=\\\"Layer_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\"\\n\\t viewBox=\\\"0 0 49 41.8\\\" style=\\\"enable-background:new 0 0 49 41.8;\\\" xml:space=\\\"preserve\\\">\\n<path d=\\\"M47.1,0H3.2C1.6,0,0,1.2,0,2.8v31.5C0,35.9,1.6,37,3.2,37h11.9l3.2,1.9l4.7,2.7c0.9,0.5,2-0.1,2-1.1V37h22.1\\n\\tc1.6,0,1.9-1.1,1.9-2.7V2.8C49,1.2,48.7,0,47.1,0z M7.2,18.6c0-4.8,3.5-9.3,9.9-9.3c4.8,0,7.1,2.7,7.1,2.7l-2.5,4\\n\\tc0,0-1.7-1.7-4.2-1.7c-2.8,0-4.3,2.1-4.3,4.3c0,2.1,1.5,4.4,4.5,4.4c2.5,0,4.9-2.1,4.9-2.1l2.2,4.2c0,0-2.7,2.9-7.6,2.9\\n\\tC10.8,27.9,7.2,23.5,7.2,18.6z M36.9,27.9c-6.4,0-9.9-4.4-9.9-9.3c0-4.8,3.5-9.3,9.9-9.3C41.7,9.3,44,12,44,12l-2.5,4\\n\\tc0,0-1.7-1.7-4.2-1.7c-2.8,0-4.3,2.1-4.3,4.3c0,2.1,1.5,4.4,4.5,4.4c2.5,0,4.9-2.1,4.9-2.1l2.2,4.2C44.5,25,41.9,27.9,36.9,27.9z\\\"/>\\n</svg>\";\n\nvar ccHTML = \"<button type=\\\"button\\\" class=\\\"cc-button media-control-button media-control-icon\\\" data-cc-button aria-label=\\\"<%= ariaLabel %>\\\"></button>\\n<ul>\\n  <% if (title) { %>\\n  <li data-title><%= title %></li>\\n  <% }; %>\\n  <li><a href=\\\"#\\\" data-cc-select=\\\"-1\\\"><%= disabledLabel %></a></li>\\n  <% for (var i = 0; i < tracks.length; i++) { %>\\n    <li><a href=\\\"#\\\" data-cc-select=\\\"<%= tracks[i].id %>\\\"><%= tracks[i].label %></a></li>\\n  <% }; %>\\n</ul>\\n\";\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = \".cc-controls[data-cc-controls] {\\n  float: right;\\n  position: relative;\\n  display: none; }\\n  .cc-controls[data-cc-controls].available {\\n    display: block; }\\n  .cc-controls[data-cc-controls] .cc-button {\\n    padding: 6px !important; }\\n    .cc-controls[data-cc-controls] .cc-button.enabled {\\n      display: block;\\n      opacity: 1.0; }\\n      .cc-controls[data-cc-controls] .cc-button.enabled:hover {\\n        opacity: 1.0;\\n        text-shadow: none; }\\n  .cc-controls[data-cc-controls] > ul {\\n    list-style-type: none;\\n    position: absolute;\\n    bottom: 25px;\\n    border: 1px solid black;\\n    display: none;\\n    background-color: #e6e6e6; }\\n  .cc-controls[data-cc-controls] li {\\n    font-size: 10px; }\\n    .cc-controls[data-cc-controls] li[data-title] {\\n      background-color: #c3c2c2;\\n      padding: 5px; }\\n    .cc-controls[data-cc-controls] li a {\\n      color: #444;\\n      padding: 2px 10px;\\n      display: block;\\n      text-decoration: none; }\\n      .cc-controls[data-cc-controls] li a:hover {\\n        background-color: #555;\\n        color: white; }\\n        .cc-controls[data-cc-controls] li a:hover a {\\n          color: white;\\n          text-decoration: none; }\\n    .cc-controls[data-cc-controls] li.current a {\\n      color: #f00; }\\n\";\nstyleInject(css);\n\nvar ClosedCaptions =\n/*#__PURE__*/\nfunction (_UICorePlugin) {\n  _inherits(ClosedCaptions, _UICorePlugin);\n\n  _createClass(ClosedCaptions, [{\n    key: \"name\",\n    get: function get() {\n      return 'closed_captions';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.5\"\n      };\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return template(ccHTML);\n    }\n  }, {\n    key: \"events\",\n    get: function get() {\n      return {\n        'click [data-cc-button]': 'toggleContextMenu',\n        'click [data-cc-select]': 'onTrackSelect'\n      };\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'class': 'cc-controls',\n        'data-cc-controls': ''\n      };\n    }\n  }]);\n\n  function ClosedCaptions(core) {\n    var _this;\n\n    _classCallCheck(this, ClosedCaptions);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ClosedCaptions).call(this, core));\n    var config = core.options.closedCaptionsConfig;\n    _this._title = config && config.title ? config.title : null;\n    _this._ariaLabel = config && config.ariaLabel ? config.ariaLabel : 'cc-button';\n    _this._labelCb = config && config.labelCallback && typeof config.labelCallback === 'function' ? config.labelCallback : function (track) {\n      return track.name;\n    };\n    return _this;\n  }\n\n  _createClass(ClosedCaptions, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.core, Events.CORE_ACTIVE_CONTAINER_CHANGED, this.containerChanged);\n      this.listenTo(this.core.mediaControl, Events.MEDIACONTROL_RENDERED, this.render);\n      this.listenTo(this.core.mediaControl, Events.MEDIACONTROL_HIDE, this.hideContextMenu);\n      this.container = this.core.getCurrentContainer();\n\n      if (this.container) {\n        this.listenTo(this.container, Events.CONTAINER_SUBTITLE_AVAILABLE, this.onSubtitleAvailable);\n        this.listenTo(this.container, Events.CONTAINER_SUBTITLE_CHANGED, this.onSubtitleChanged);\n        this.listenTo(this.container, Events.CONTAINER_STOP, this.onContainerStop);\n      }\n    }\n  }, {\n    key: \"onContainerStop\",\n    value: function onContainerStop() {\n      this.ccAvailable(false);\n    }\n  }, {\n    key: \"containerChanged\",\n    value: function containerChanged() {\n      this.ccAvailable(false);\n      this.stopListening();\n      this.bindEvents();\n    }\n  }, {\n    key: \"onSubtitleAvailable\",\n    value: function onSubtitleAvailable() {\n      this.renderCcButton();\n      this.ccAvailable(true);\n    }\n  }, {\n    key: \"onSubtitleChanged\",\n    value: function onSubtitleChanged(track) {\n      this.setCurrentContextMenuElement(track.id);\n    }\n  }, {\n    key: \"onTrackSelect\",\n    value: function onTrackSelect(event) {\n      var trackId = parseInt(event.target.dataset.ccSelect, 10);\n      this.container.closedCaptionsTrackId = trackId;\n      this.hideContextMenu();\n      event.stopPropagation();\n      return false;\n    }\n  }, {\n    key: \"ccAvailable\",\n    value: function ccAvailable(hasCC) {\n      var method = hasCC ? 'addClass' : 'removeClass';\n      this.$el[method]('available');\n    }\n  }, {\n    key: \"toggleContextMenu\",\n    value: function toggleContextMenu() {\n      this.$el.find('ul').toggle();\n    }\n  }, {\n    key: \"hideContextMenu\",\n    value: function hideContextMenu() {\n      this.$el.find('ul').hide();\n    }\n  }, {\n    key: \"contextMenuElement\",\n    value: function contextMenuElement(id) {\n      return this.$el.find('ul a' + (!isNaN(id) ? '[data-cc-select=\"' + id + '\"]' : '')).parent();\n    }\n  }, {\n    key: \"setCurrentContextMenuElement\",\n    value: function setCurrentContextMenuElement(trackId) {\n      if (this._trackId !== trackId) {\n        this.contextMenuElement().removeClass('current');\n        this.contextMenuElement(trackId).addClass('current');\n        var method = trackId > -1 ? 'addClass' : 'removeClass';\n        this.$ccButton[method]('enabled');\n        this._trackId = trackId;\n      }\n    }\n  }, {\n    key: \"renderCcButton\",\n    value: function renderCcButton() {\n      var tracks = this.container ? this.container.closedCaptionsTracks : [];\n\n      for (var i = 0; i < tracks.length; i++) {\n        tracks[i].label = this._labelCb(tracks[i]);\n      }\n\n      this.$el.html(this.template({\n        ariaLabel: this._ariaLabel,\n        disabledLabel: this.core.i18n.t('disabled'),\n        title: this._title,\n        tracks: tracks\n      }));\n      this.$ccButton = this.$el.find('button.cc-button[data-cc-button]');\n      this.$ccButton.append(ccIcon);\n      this.$el.append(this.style);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.renderCcButton();\n      var $fullscreen = this.core.mediaControl.$el.find('button[data-fullscreen]');\n      if ($fullscreen[0]) this.$el.insertAfter($fullscreen);else this.core.mediaControl.$el.find('.media-control-right-panel[data-media-control]').prepend(this.$el);\n      return this;\n    }\n  }]);\n\n  return ClosedCaptions;\n}(UICorePlugin);\n\nvar dvrHTML = \"<div class=\\\"live-info\\\"><%= live %></div>\\n<button type=\\\"button\\\" class=\\\"live-button\\\" aria-label=\\\"<%= backToLive %>\\\"><%= backToLive %></button>\\n\";\n\nvar css$1 = \".dvr-controls[data-dvr-controls] {\\n  display: inline-block;\\n  float: left;\\n  color: #fff;\\n  line-height: 32px;\\n  font-size: 10px;\\n  font-weight: bold;\\n  margin-left: 6px; }\\n  .dvr-controls[data-dvr-controls] .live-info {\\n    cursor: default;\\n    font-family: \\\"Roboto\\\", \\\"Open Sans\\\", Arial, sans-serif;\\n    text-transform: uppercase; }\\n    .dvr-controls[data-dvr-controls] .live-info:before {\\n      content: \\\"\\\";\\n      display: inline-block;\\n      position: relative;\\n      width: 7px;\\n      height: 7px;\\n      border-radius: 3.5px;\\n      margin-right: 3.5px;\\n      background-color: #ff0101; }\\n    .dvr-controls[data-dvr-controls] .live-info.disabled {\\n      opacity: 0.3; }\\n      .dvr-controls[data-dvr-controls] .live-info.disabled:before {\\n        background-color: #fff; }\\n  .dvr-controls[data-dvr-controls] .live-button {\\n    cursor: pointer;\\n    outline: none;\\n    display: none;\\n    border: 0;\\n    color: #fff;\\n    background-color: transparent;\\n    height: 32px;\\n    padding: 0;\\n    opacity: 0.7;\\n    font-family: \\\"Roboto\\\", \\\"Open Sans\\\", Arial, sans-serif;\\n    text-transform: uppercase;\\n    -webkit-transition: all 0.1s ease;\\n    transition: all 0.1s ease; }\\n    .dvr-controls[data-dvr-controls] .live-button:before {\\n      content: \\\"\\\";\\n      display: inline-block;\\n      position: relative;\\n      width: 7px;\\n      height: 7px;\\n      border-radius: 3.5px;\\n      margin-right: 3.5px;\\n      background-color: #fff; }\\n    .dvr-controls[data-dvr-controls] .live-button:hover {\\n      opacity: 1;\\n      text-shadow: rgba(255, 255, 255, 0.75) 0 0 5px; }\\n\\n.dvr .dvr-controls[data-dvr-controls] .live-info {\\n  display: none; }\\n\\n.dvr .dvr-controls[data-dvr-controls] .live-button {\\n  display: block; }\\n\\n.dvr.media-control.live[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar] {\\n  background-color: #005aff; }\\n\\n.media-control.live[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar] {\\n  background-color: #ff0101; }\\n\";\nstyleInject(css$1);\n\nvar DVRControls =\n/*#__PURE__*/\nfunction (_UICorePlugin) {\n  _inherits(DVRControls, _UICorePlugin);\n\n  _createClass(DVRControls, [{\n    key: \"template\",\n    get: function get() {\n      return template(dvrHTML);\n    }\n  }, {\n    key: \"name\",\n    get: function get() {\n      return 'dvr_controls';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.5\"\n      };\n    }\n  }, {\n    key: \"events\",\n    get: function get() {\n      return {\n        'click .live-button': 'click'\n      };\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'class': 'dvr-controls',\n        'data-dvr-controls': ''\n      };\n    }\n  }]);\n\n  function DVRControls(core) {\n    var _this;\n\n    _classCallCheck(this, DVRControls);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DVRControls).call(this, core));\n\n    _this.settingsUpdate();\n\n    return _this;\n  }\n\n  _createClass(DVRControls, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.core.mediaControl, Events.MEDIACONTROL_CONTAINERCHANGED, this.containerChanged);\n      this.listenTo(this.core.mediaControl, Events.MEDIACONTROL_RENDERED, this.settingsUpdate);\n      this.listenTo(this.core, Events.CORE_OPTIONS_CHANGE, this.render);\n\n      if (this.core.getCurrentContainer()) {\n        this.listenToOnce(this.core.getCurrentContainer(), Events.CONTAINER_TIMEUPDATE, this.render);\n        this.listenTo(this.core.getCurrentContainer(), Events.CONTAINER_PLAYBACKDVRSTATECHANGED, this.dvrChanged);\n      }\n    }\n  }, {\n    key: \"containerChanged\",\n    value: function containerChanged() {\n      this.stopListening();\n      this.bindEvents();\n    }\n  }, {\n    key: \"dvrChanged\",\n    value: function dvrChanged(dvrEnabled) {\n      if (this.core.getPlaybackType() !== Playback.LIVE) return;\n      this.settingsUpdate();\n      this.core.mediaControl.$el.addClass('live');\n\n      if (dvrEnabled) {\n        this.core.mediaControl.$el.addClass('dvr');\n        this.core.mediaControl.$el.find('.media-control-indicator[data-position], .media-control-indicator[data-duration]').hide();\n      } else {\n        this.core.mediaControl.$el.removeClass('dvr');\n      }\n    }\n  }, {\n    key: \"click\",\n    value: function click() {\n      var mediaControl = this.core.mediaControl;\n      var container = mediaControl.container;\n      if (!container.isPlaying()) container.play();\n      if (mediaControl.$el.hasClass('dvr')) container.seek(container.getDuration());\n    }\n  }, {\n    key: \"settingsUpdate\",\n    value: function settingsUpdate() {\n      var _this2 = this;\n\n      this.stopListening();\n      this.core.mediaControl.$el.removeClass('live');\n\n      if (this.shouldRender()) {\n        this.render();\n        this.$el.click(function () {\n          return _this2.click();\n        });\n      }\n\n      this.bindEvents();\n    }\n  }, {\n    key: \"shouldRender\",\n    value: function shouldRender() {\n      var useDvrControls = this.core.options.useDvrControls === undefined || !!this.core.options.useDvrControls;\n      return useDvrControls && this.core.getPlaybackType() === Playback.LIVE;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.$el.html(this.template({\n        live: this.core.i18n.t('live'),\n        backToLive: this.core.i18n.t('back_to_live')\n      }));\n\n      if (this.shouldRender()) {\n        this.core.mediaControl.$el.addClass('live');\n        this.core.mediaControl.$('.media-control-left-panel[data-media-control]').append(this.$el);\n      }\n\n      return this;\n    }\n  }]);\n\n  return DVRControls;\n}(UICorePlugin);\n\nvar EndVideo =\n/*#__PURE__*/\nfunction (_CorePlugin) {\n  _inherits(EndVideo, _CorePlugin);\n\n  function EndVideo() {\n    _classCallCheck(this, EndVideo);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(EndVideo).apply(this, arguments));\n  }\n\n  _createClass(EndVideo, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.core, Events.CORE_ACTIVE_CONTAINER_CHANGED, this.containerChanged);\n      var container = this.core.activeContainer;\n\n      if (container) {\n        this.listenTo(container, Events.CONTAINER_ENDED, this.ended);\n        this.listenTo(container, Events.CONTAINER_STOP, this.ended);\n      }\n    }\n  }, {\n    key: \"containerChanged\",\n    value: function containerChanged() {\n      this.stopListening();\n      this.bindEvents();\n    }\n  }, {\n    key: \"ended\",\n    value: function ended() {\n      var exitOnEnd = typeof this.core.options.exitFullscreenOnEnd === 'undefined' || this.core.options.exitFullscreenOnEnd;\n      if (exitOnEnd && this.core.isFullscreen()) this.core.toggleFullscreen();\n    }\n  }, {\n    key: \"name\",\n    get: function get() {\n      return 'end_video';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.5\"\n      };\n    }\n  }]);\n\n  return EndVideo;\n}(CorePlugin);\n\nvar reloadIcon = \"<svg fill=\\\"#FFFFFF\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" width=\\\"24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n    <path d=\\\"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z\\\"/>\\n    <path d=\\\"M0 0h24v24H0z\\\" fill=\\\"none\\\"/>\\n</svg>\";\n\nvar templateHtml = \"<div class=\\\"player-error-screen__content\\\" data-error-screen>\\n  <% if (icon) { %>\\n  <div class=\\\"player-error-screen__icon\\\" data-error-screen><%= icon %></div>\\n  <% } %>\\n  <div class=\\\"player-error-screen__title\\\" data-error-screen><%= title %></div>\\n  <div class=\\\"player-error-screen__message\\\" data-error-screen><%= message %></div>\\n  <div class=\\\"player-error-screen__code\\\" data-error-screen>Error code: <%= code %></div>\\n  <div class=\\\"player-error-screen__reload\\\" data-error-screen><%= reloadIcon %></div>\\n</div>\\n\";\n\nvar css$2 = \"div.player-error-screen {\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  color: #CCCACA;\\n  position: absolute;\\n  top: 0;\\n  height: 100%;\\n  width: 100%;\\n  background-color: rgba(0, 0, 0, 0.7);\\n  z-index: 2000;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n          flex-direction: column;\\n  -webkit-box-pack: center;\\n          justify-content: center; }\\n  div.player-error-screen__content[data-error-screen] {\\n    font-size: 14px;\\n    color: #CCCACA;\\n    margin-top: 45px; }\\n  div.player-error-screen__title[data-error-screen] {\\n    font-weight: bold;\\n    line-height: 30px;\\n    font-size: 18px; }\\n  div.player-error-screen__message[data-error-screen] {\\n    width: 90%;\\n    margin: 0 auto; }\\n  div.player-error-screen__code[data-error-screen] {\\n    font-size: 13px;\\n    margin-top: 15px; }\\n  div.player-error-screen__reload {\\n    cursor: pointer;\\n    width: 30px;\\n    margin: 15px auto 0; }\\n\";\nstyleInject(css$2);\n\nvar ErrorScreen =\n/*#__PURE__*/\nfunction (_UICorePlugin) {\n  _inherits(ErrorScreen, _UICorePlugin);\n\n  _createClass(ErrorScreen, [{\n    key: \"name\",\n    get: function get() {\n      return 'error_screen';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.5\"\n      };\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return template(templateHtml);\n    }\n  }, {\n    key: \"container\",\n    get: function get() {\n      return this.core.getCurrentContainer();\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'class': 'player-error-screen',\n        'data-error-screen': ''\n      };\n    }\n  }]);\n\n  function ErrorScreen(core) {\n    var _this;\n\n    _classCallCheck(this, ErrorScreen);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ErrorScreen).call(this, core));\n    if (_this.options.disableErrorScreen) return _possibleConstructorReturn(_this, _this.disable());\n    return _this;\n  }\n\n  _createClass(ErrorScreen, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.core, Events.ERROR, this.onError);\n      this.listenTo(this.core, Events.CORE_ACTIVE_CONTAINER_CHANGED, this.onContainerChanged);\n    }\n  }, {\n    key: \"bindReload\",\n    value: function bindReload() {\n      this.reloadButton = this.$el.find('.player-error-screen__reload');\n      this.reloadButton && this.reloadButton.on('click', this.reload.bind(this));\n    }\n  }, {\n    key: \"reload\",\n    value: function reload() {\n      var _this2 = this;\n\n      this.listenToOnce(this.core, Events.CORE_READY, function () {\n        return _this2.container.play();\n      });\n      this.core.load(this.options.sources, this.options.mimeType);\n      this.unbindReload();\n    }\n  }, {\n    key: \"unbindReload\",\n    value: function unbindReload() {\n      this.reloadButton && this.reloadButton.off('click');\n    }\n  }, {\n    key: \"onContainerChanged\",\n    value: function onContainerChanged() {\n      this.err = null;\n      this.unbindReload();\n      this.hide();\n    }\n  }, {\n    key: \"onError\",\n    value: function onError() {\n      var err = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (err.level === PlayerError.Levels.FATAL) {\n        this.err = err;\n        this.container.disableMediaControl();\n        this.container.stop();\n        this.show();\n      }\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      this.render();\n      this.$el.show();\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.$el.hide();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.err) return;\n      this.$el.html(this.template({\n        title: this.err.UI.title,\n        message: this.err.UI.message,\n        code: this.err.code,\n        icon: this.err.UI.icon || '',\n        reloadIcon: reloadIcon\n      }));\n      this.core.$el.append(this.el);\n      this.bindReload();\n      return this;\n    }\n  }]);\n\n  return ErrorScreen;\n}(UICorePlugin);\n\nvar playIcon = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path fill=\\\"#010101\\\" d=\\\"M1.425.35L14.575 8l-13.15 7.65V.35z\\\"/>\\n</svg>\";\n\nvar pauseIcon = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" fill=\\\"#010101\\\" d=\\\"M1.712 14.76H6.43V1.24H1.71v13.52zm7.86-13.52v13.52h4.716V1.24H9.573z\\\"/>\\n</svg>\";\n\nvar oldIcon = $('link[rel=\"shortcut icon\"]');\n\nvar Favicon =\n/*#__PURE__*/\nfunction (_CorePlugin) {\n  _inherits(Favicon, _CorePlugin);\n\n  _createClass(Favicon, [{\n    key: \"name\",\n    get: function get() {\n      return 'favicon';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.5\"\n      };\n    }\n  }, {\n    key: \"oldIcon\",\n    get: function get() {\n      return oldIcon;\n    }\n  }]);\n\n  function Favicon(core) {\n    var _this;\n\n    _classCallCheck(this, Favicon);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Favicon).call(this, core));\n    _this._container = null;\n\n    _this.configure();\n\n    return _this;\n  }\n\n  _createClass(Favicon, [{\n    key: \"configure\",\n    value: function configure() {\n      if (this.core.options.changeFavicon) {\n        if (!this.enabled) {\n          this.stopListening(this.core, Events.CORE_OPTIONS_CHANGE);\n          this.enable();\n        }\n      } else if (this.enabled) {\n        this.disable();\n        this.listenTo(this.core, Events.CORE_OPTIONS_CHANGE, this.configure);\n      }\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.core, Events.CORE_OPTIONS_CHANGE, this.configure);\n      this.listenTo(this.core, Events.CORE_ACTIVE_CONTAINER_CHANGED, this.containerChanged);\n      this.core.activeContainer && this.containerChanged();\n    }\n  }, {\n    key: \"containerChanged\",\n    value: function containerChanged() {\n      this._container && this.stopListening(this._container);\n      this._container = this.core.activeContainer;\n      this.listenTo(this._container, Events.CONTAINER_PLAY, this.setPlayIcon);\n      this.listenTo(this._container, Events.CONTAINER_PAUSE, this.setPauseIcon);\n      this.listenTo(this._container, Events.CONTAINER_STOP, this.resetIcon);\n      this.listenTo(this._container, Events.CONTAINER_ENDED, this.resetIcon);\n      this.listenTo(this._container, Events.CONTAINER_ERROR, this.resetIcon);\n      this.resetIcon();\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      _get(_getPrototypeOf(Favicon.prototype), \"disable\", this).call(this);\n\n      this.resetIcon();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Favicon.prototype), \"destroy\", this).call(this);\n\n      this.resetIcon();\n    }\n  }, {\n    key: \"createIcon\",\n    value: function createIcon(svg) {\n      var canvas = $('<canvas/>');\n      canvas[0].width = 16;\n      canvas[0].height = 16;\n      var ctx = canvas[0].getContext('2d');\n      ctx.fillStyle = '#000';\n      var d = $(svg).find('path').attr('d');\n      var path = new Path2D(d);\n      ctx.fill(path);\n      var icon = $('<link rel=\"shortcut icon\" type=\"image/png\"/>');\n      icon.attr('href', canvas[0].toDataURL('image/png'));\n      return icon;\n    }\n  }, {\n    key: \"setPlayIcon\",\n    value: function setPlayIcon() {\n      if (!this.playIcon) this.playIcon = this.createIcon(playIcon);\n      this.changeIcon(this.playIcon);\n    }\n  }, {\n    key: \"setPauseIcon\",\n    value: function setPauseIcon() {\n      if (!this.pauseIcon) this.pauseIcon = this.createIcon(pauseIcon);\n      this.changeIcon(this.pauseIcon);\n    }\n  }, {\n    key: \"resetIcon\",\n    value: function resetIcon() {\n      $('link[rel=\"shortcut icon\"]').remove();\n      $('head').append(this.oldIcon);\n    }\n  }, {\n    key: \"changeIcon\",\n    value: function changeIcon(icon) {\n      if (icon) {\n        $('link[rel=\"shortcut icon\"]').remove();\n        $('head').append(icon);\n      }\n    }\n  }]);\n\n  return Favicon;\n}(CorePlugin);\n\nvar GoogleAnalytics =\n/*#__PURE__*/\nfunction (_ContainerPlugin) {\n  _inherits(GoogleAnalytics, _ContainerPlugin);\n\n  _createClass(GoogleAnalytics, [{\n    key: \"name\",\n    get: function get() {\n      return 'google_analytics';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.5\"\n      };\n    }\n  }]);\n\n  function GoogleAnalytics(container) {\n    var _this;\n\n    _classCallCheck(this, GoogleAnalytics);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(GoogleAnalytics).call(this, container));\n\n    if (_this.container.options.gaAccount) {\n      _this.account = _this.container.options.gaAccount;\n      _this.trackerName = _this.container.options.gaTrackerName ? _this.container.options.gaTrackerName + '.' : 'Clappr.';\n      _this.domainName = _this.container.options.gaDomainName;\n      _this.currentHDState = undefined;\n\n      _this.embedScript();\n    }\n\n    return _this;\n  }\n\n  _createClass(GoogleAnalytics, [{\n    key: \"embedScript\",\n    value: function embedScript() {\n      var _this2 = this;\n\n      if (!window._gat) {\n        var script = document.createElement('script');\n        script.setAttribute('type', 'text/javascript');\n        script.setAttribute('async', 'async');\n        script.setAttribute('src', '//www.google-analytics.com/ga.js');\n\n        script.onload = function () {\n          return _this2.addEventListeners();\n        };\n\n        document.body.appendChild(script);\n      } else {\n        this.addEventListeners();\n      }\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners() {\n      var _this3 = this;\n\n      if (this.container) {\n        this.listenTo(this.container, Events.CONTAINER_READY, this.onReady);\n        this.listenTo(this.container, Events.CONTAINER_PLAY, this.onPlay);\n        this.listenTo(this.container, Events.CONTAINER_STOP, this.onStop);\n        this.listenTo(this.container, Events.CONTAINER_PAUSE, this.onPause);\n        this.listenTo(this.container, Events.CONTAINER_ENDED, this.onEnded);\n        this.listenTo(this.container, Events.CONTAINER_STATE_BUFFERING, this.onBuffering);\n        this.listenTo(this.container, Events.CONTAINER_STATE_BUFFERFULL, this.onBufferFull);\n        this.listenTo(this.container, Events.CONTAINER_ERROR, this.onError);\n        this.listenTo(this.container, Events.CONTAINER_PLAYBACKSTATE, this.onPlaybackChanged);\n        this.listenTo(this.container, Events.CONTAINER_VOLUME, function (event) {\n          return _this3.onVolumeChanged(event);\n        });\n        this.listenTo(this.container, Events.CONTAINER_SEEK, function (event) {\n          return _this3.onSeek(event);\n        });\n        this.listenTo(this.container, Events.CONTAINER_FULL_SCREEN, this.onFullscreen);\n        this.listenTo(this.container, Events.CONTAINER_HIGHDEFINITIONUPDATE, this.onHD);\n        this.listenTo(this.container, Events.CONTAINER_PLAYBACKDVRSTATECHANGED, this.onDVR);\n      }\n\n      _gaq.push([this.trackerName + '_setAccount', this.account]);\n\n      if (this.domainName) _gaq.push([this.trackerName + '_setDomainName', this.domainName]);\n    }\n  }, {\n    key: \"onReady\",\n    value: function onReady() {\n      this.push(['Video', 'Playback', this.container.playback.name]);\n    }\n  }, {\n    key: \"onPlay\",\n    value: function onPlay() {\n      this.push(['Video', 'Play', this.container.playback.src]);\n    }\n  }, {\n    key: \"onStop\",\n    value: function onStop() {\n      this.push(['Video', 'Stop', this.container.playback.src]);\n    }\n  }, {\n    key: \"onEnded\",\n    value: function onEnded() {\n      this.push(['Video', 'Ended', this.container.playback.src]);\n    }\n  }, {\n    key: \"onBuffering\",\n    value: function onBuffering() {\n      this.push(['Video', 'Buffering', this.container.playback.src]);\n    }\n  }, {\n    key: \"onBufferFull\",\n    value: function onBufferFull() {\n      this.push(['Video', 'Bufferfull', this.container.playback.src]);\n    }\n  }, {\n    key: \"onError\",\n    value: function onError() {\n      this.push(['Video', 'Error', this.container.playback.src]);\n    }\n  }, {\n    key: \"onHD\",\n    value: function onHD(isHD) {\n      var status = isHD ? 'ON' : 'OFF';\n\n      if (status !== this.currentHDState) {\n        this.currentHDState = status;\n        this.push(['Video', 'HD - ' + status, this.container.playback.src]);\n      }\n    }\n  }, {\n    key: \"onPlaybackChanged\",\n    value: function onPlaybackChanged(playbackState) {\n      if (playbackState.type !== null) this.push(['Video', 'Playback Type - ' + playbackState.type, this.container.playback.src]);\n    }\n  }, {\n    key: \"onDVR\",\n    value: function onDVR(dvrInUse) {\n      var status = dvrInUse ? 'ON' : 'OFF';\n      this.push(['Interaction', 'DVR - ' + status, this.container.playback.src]);\n    }\n  }, {\n    key: \"onPause\",\n    value: function onPause() {\n      this.push(['Video', 'Pause', this.container.playback.src]);\n    }\n  }, {\n    key: \"onSeek\",\n    value: function onSeek() {\n      this.push(['Video', 'Seek', this.container.playback.src]);\n    }\n  }, {\n    key: \"onVolumeChanged\",\n    value: function onVolumeChanged() {\n      this.push(['Interaction', 'Volume', this.container.playback.src]);\n    }\n  }, {\n    key: \"onFullscreen\",\n    value: function onFullscreen() {\n      this.push(['Interaction', 'Fullscreen', this.container.playback.src]);\n    }\n  }, {\n    key: \"push\",\n    value: function push(array) {\n      var res = [this.trackerName + '_trackEvent'].concat(array);\n\n      _gaq.push(res);\n    }\n  }]);\n\n  return GoogleAnalytics;\n}(ContainerPlugin);\n\nvar global$1 = (typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {});\n\n// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global$1.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global$1.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nfunction nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance = global$1.performance || {};\nvar performanceNow =\n  performance.now        ||\n  performance.mozNow     ||\n  performance.msNow      ||\n  performance.oNow       ||\n  performance.webkitNow  ||\n  function(){ return (new Date()).getTime() };\n\n/* eslint-disable */\n// Kibo is released under the MIT License. Copyright (c) 2013 marquete.\n// see https://github.com/marquete/kibo\nvar Kibo = function Kibo(element) {\n  this.element = element || window.document;\n  this.initialize();\n};\n\nKibo.KEY_NAMES_BY_CODE = {\n  8: 'backspace',\n  9: 'tab',\n  13: 'enter',\n  16: 'shift',\n  17: 'ctrl',\n  18: 'alt',\n  20: 'caps_lock',\n  27: 'esc',\n  32: 'space',\n  37: 'left',\n  38: 'up',\n  39: 'right',\n  40: 'down',\n  48: '0',\n  49: '1',\n  50: '2',\n  51: '3',\n  52: '4',\n  53: '5',\n  54: '6',\n  55: '7',\n  56: '8',\n  57: '9',\n  65: 'a',\n  66: 'b',\n  67: 'c',\n  68: 'd',\n  69: 'e',\n  70: 'f',\n  71: 'g',\n  72: 'h',\n  73: 'i',\n  74: 'j',\n  75: 'k',\n  76: 'l',\n  77: 'm',\n  78: 'n',\n  79: 'o',\n  80: 'p',\n  81: 'q',\n  82: 'r',\n  83: 's',\n  84: 't',\n  85: 'u',\n  86: 'v',\n  87: 'w',\n  88: 'x',\n  89: 'y',\n  90: 'z',\n  112: 'f1',\n  113: 'f2',\n  114: 'f3',\n  115: 'f4',\n  116: 'f5',\n  117: 'f6',\n  118: 'f7',\n  119: 'f8',\n  120: 'f9',\n  121: 'f10',\n  122: 'f11',\n  123: 'f12'\n};\nKibo.KEY_CODES_BY_NAME = {};\n\n(function () {\n  for (var key in Kibo.KEY_NAMES_BY_CODE) {\n    if (Object.prototype.hasOwnProperty.call(Kibo.KEY_NAMES_BY_CODE, key)) {\n      Kibo.KEY_CODES_BY_NAME[Kibo.KEY_NAMES_BY_CODE[key]] = +key;\n    }\n  }\n})();\n\nKibo.MODIFIERS = ['shift', 'ctrl', 'alt'];\n\nKibo.registerEvent = function () {\n  if (document.addEventListener) {\n    return function (element, eventName, func) {\n      element.addEventListener(eventName, func, false);\n    };\n  } else if (document.attachEvent) {\n    return function (element, eventName, func) {\n      element.attachEvent('on' + eventName, func);\n    };\n  }\n}();\n\nKibo.unregisterEvent = function () {\n  if (document.removeEventListener) {\n    return function (element, eventName, func) {\n      element.removeEventListener(eventName, func, false);\n    };\n  } else if (document.detachEvent) {\n    return function (element, eventName, func) {\n      element.detachEvent('on' + eventName, func);\n    };\n  }\n}();\n\nKibo.stringContains = function (string, substring) {\n  return string.indexOf(substring) !== -1;\n};\n\nKibo.neatString = function (string) {\n  return string.replace(/^\\s+|\\s+$/g, '').replace(/\\s+/g, ' ');\n};\n\nKibo.capitalize = function (string) {\n  return string.toLowerCase().replace(/^./, function (match) {\n    return match.toUpperCase();\n  });\n};\n\nKibo.isString = function (what) {\n  return Kibo.stringContains(Object.prototype.toString.call(what), 'String');\n};\n\nKibo.arrayIncludes = function () {\n  if (Array.prototype.indexOf) {\n    return function (haystack, needle) {\n      return haystack.indexOf(needle) !== -1;\n    };\n  } else {\n    return function (haystack, needle) {\n      for (var i = 0; i < haystack.length; i++) {\n        if (haystack[i] === needle) {\n          return true;\n        }\n      }\n\n      return false;\n    };\n  }\n}();\n\nKibo.extractModifiers = function (keyCombination) {\n  var modifiers, i;\n  modifiers = [];\n\n  for (i = 0; i < Kibo.MODIFIERS.length; i++) {\n    if (Kibo.stringContains(keyCombination, Kibo.MODIFIERS[i])) {\n      modifiers.push(Kibo.MODIFIERS[i]);\n    }\n  }\n\n  return modifiers;\n};\n\nKibo.extractKey = function (keyCombination) {\n  var keys, i;\n  keys = Kibo.neatString(keyCombination).split(' ');\n\n  for (i = 0; i < keys.length; i++) {\n    if (!Kibo.arrayIncludes(Kibo.MODIFIERS, keys[i])) {\n      return keys[i];\n    }\n  }\n};\n\nKibo.modifiersAndKey = function (keyCombination) {\n  var result, key;\n\n  if (Kibo.stringContains(keyCombination, 'any')) {\n    return Kibo.neatString(keyCombination).split(' ').slice(0, 2).join(' ');\n  }\n\n  result = Kibo.extractModifiers(keyCombination);\n  key = Kibo.extractKey(keyCombination);\n\n  if (key && !Kibo.arrayIncludes(Kibo.MODIFIERS, key)) {\n    result.push(key);\n  }\n\n  return result.join(' ');\n};\n\nKibo.keyName = function (keyCode) {\n  return Kibo.KEY_NAMES_BY_CODE[keyCode + ''];\n};\n\nKibo.keyCode = function (keyName) {\n  return +Kibo.KEY_CODES_BY_NAME[keyName];\n};\n\nKibo.prototype.initialize = function () {\n  var i,\n      that = this;\n  this.lastKeyCode = -1;\n  this.lastModifiers = {};\n\n  for (i = 0; i < Kibo.MODIFIERS.length; i++) {\n    this.lastModifiers[Kibo.MODIFIERS[i]] = false;\n  }\n\n  this.keysDown = {\n    any: []\n  };\n  this.keysUp = {\n    any: []\n  };\n  this.downHandler = this.handler('down');\n  this.upHandler = this.handler('up');\n  Kibo.registerEvent(this.element, 'keydown', this.downHandler);\n  Kibo.registerEvent(this.element, 'keyup', this.upHandler);\n  Kibo.registerEvent(window, 'unload', function unloader() {\n    Kibo.unregisterEvent(that.element, 'keydown', that.downHandler);\n    Kibo.unregisterEvent(that.element, 'keyup', that.upHandler);\n    Kibo.unregisterEvent(window, 'unload', unloader);\n  });\n};\n\nKibo.prototype.handler = function (upOrDown) {\n  var that = this;\n  return function (e) {\n    var i, registeredKeys, lastModifiersAndKey;\n    e = e || window.event;\n    that.lastKeyCode = e.keyCode;\n\n    for (i = 0; i < Kibo.MODIFIERS.length; i++) {\n      that.lastModifiers[Kibo.MODIFIERS[i]] = e[Kibo.MODIFIERS[i] + 'Key'];\n    }\n\n    if (Kibo.arrayIncludes(Kibo.MODIFIERS, Kibo.keyName(that.lastKeyCode))) {\n      that.lastModifiers[Kibo.keyName(that.lastKeyCode)] = true;\n    }\n\n    registeredKeys = that['keys' + Kibo.capitalize(upOrDown)];\n\n    for (i = 0; i < registeredKeys.any.length; i++) {\n      if (registeredKeys.any[i](e) === false && e.preventDefault) {\n        e.preventDefault();\n      }\n    }\n\n    lastModifiersAndKey = that.lastModifiersAndKey();\n\n    if (registeredKeys[lastModifiersAndKey]) {\n      for (i = 0; i < registeredKeys[lastModifiersAndKey].length; i++) {\n        if (registeredKeys[lastModifiersAndKey][i](e) === false && e.preventDefault) {\n          e.preventDefault();\n        }\n      }\n    }\n  };\n};\n\nKibo.prototype.registerKeys = function (upOrDown, newKeys, func) {\n  var i,\n      keys,\n      registeredKeys = this['keys' + Kibo.capitalize(upOrDown)];\n\n  if (Kibo.isString(newKeys)) {\n    newKeys = [newKeys];\n  }\n\n  for (i = 0; i < newKeys.length; i++) {\n    keys = newKeys[i];\n    keys = Kibo.modifiersAndKey(keys + '');\n\n    if (registeredKeys[keys]) {\n      registeredKeys[keys].push(func);\n    } else {\n      registeredKeys[keys] = [func];\n    }\n  }\n\n  return this;\n}; // jshint maxdepth:5\n\n\nKibo.prototype.unregisterKeys = function (upOrDown, newKeys, func) {\n  var i,\n      j,\n      keys,\n      registeredKeys = this['keys' + Kibo.capitalize(upOrDown)];\n\n  if (Kibo.isString(newKeys)) {\n    newKeys = [newKeys];\n  }\n\n  for (i = 0; i < newKeys.length; i++) {\n    keys = newKeys[i];\n    keys = Kibo.modifiersAndKey(keys + '');\n\n    if (func === null) {\n      delete registeredKeys[keys];\n    } else {\n      if (registeredKeys[keys]) {\n        for (j = 0; j < registeredKeys[keys].length; j++) {\n          if (String(registeredKeys[keys][j]) === String(func)) {\n            registeredKeys[keys].splice(j, 1);\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  return this;\n};\n\nKibo.prototype.off = function (keys) {\n  return this.unregisterKeys('down', keys, null);\n};\n\nKibo.prototype.delegate = function (upOrDown, keys, func) {\n  return func !== null || func !== undefined ? this.registerKeys(upOrDown, keys, func) : this.unregisterKeys(upOrDown, keys, func);\n};\n\nKibo.prototype.down = function (keys, func) {\n  return this.delegate('down', keys, func);\n};\n\nKibo.prototype.up = function (keys, func) {\n  return this.delegate('up', keys, func);\n};\n\nKibo.prototype.lastKey = function (modifier) {\n  if (!modifier) {\n    return Kibo.keyName(this.lastKeyCode);\n  }\n\n  return this.lastModifiers[modifier];\n};\n\nKibo.prototype.lastModifiersAndKey = function () {\n  var result, i;\n  result = [];\n\n  for (i = 0; i < Kibo.MODIFIERS.length; i++) {\n    if (this.lastKey(Kibo.MODIFIERS[i])) {\n      result.push(Kibo.MODIFIERS[i]);\n    }\n  }\n\n  if (!Kibo.arrayIncludes(result, this.lastKey())) {\n    result.push(this.lastKey());\n  }\n\n  return result.join(' ');\n};\n\nvar index = {\n  Kibo: Kibo\n};\n\nvar css$3 = \".media-control-notransition {\\n  -webkit-transition: none !important;\\n  transition: none !important; }\\n\\n.media-control[data-media-control] {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 9999;\\n  pointer-events: none; }\\n  .media-control[data-media-control].dragging {\\n    pointer-events: auto;\\n    cursor: -webkit-grabbing !important;\\n    cursor: grabbing !important;\\n    cursor: url(\\\"closed-hand.cur\\\"), move; }\\n    .media-control[data-media-control].dragging * {\\n      cursor: -webkit-grabbing !important;\\n      cursor: grabbing !important;\\n      cursor: url(\\\"closed-hand.cur\\\"), move; }\\n  .media-control[data-media-control] .media-control-background[data-background] {\\n    position: absolute;\\n    height: 40%;\\n    width: 100%;\\n    bottom: 0;\\n    background: -webkit-gradient(linear, left top, left bottom, from(transparent), to(rgba(0, 0, 0, 0.9)));\\n    background: linear-gradient(transparent, rgba(0, 0, 0, 0.9));\\n    -webkit-transition: opacity 0.6s ease-out;\\n    transition: opacity 0.6s ease-out; }\\n  .media-control[data-media-control] .media-control-icon {\\n    line-height: 0;\\n    letter-spacing: 0;\\n    speak: none;\\n    color: #fff;\\n    opacity: 0.5;\\n    vertical-align: middle;\\n    text-align: left;\\n    -webkit-transition: all 0.1s ease;\\n    transition: all 0.1s ease; }\\n  .media-control[data-media-control] .media-control-icon:hover {\\n    color: white;\\n    opacity: 0.75;\\n    text-shadow: rgba(255, 255, 255, 0.8) 0 0 5px; }\\n  .media-control[data-media-control].media-control-hide .media-control-background[data-background] {\\n    opacity: 0; }\\n  .media-control[data-media-control].media-control-hide .media-control-layer[data-controls] {\\n    bottom: -50px; }\\n    .media-control[data-media-control].media-control-hide .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-scrubber[data-seekbar] {\\n      opacity: 0; }\\n  .media-control[data-media-control] .media-control-layer[data-controls] {\\n    position: absolute;\\n    bottom: 7px;\\n    width: 100%;\\n    height: 32px;\\n    font-size: 0;\\n    vertical-align: middle;\\n    pointer-events: auto;\\n    -webkit-transition: bottom 0.4s ease-out;\\n    transition: bottom 0.4s ease-out; }\\n    .media-control[data-media-control] .media-control-layer[data-controls] .media-control-left-panel[data-media-control] {\\n      position: absolute;\\n      top: 0;\\n      left: 4px;\\n      height: 100%; }\\n    .media-control[data-media-control] .media-control-layer[data-controls] .media-control-center-panel[data-media-control] {\\n      height: 100%;\\n      text-align: center;\\n      line-height: 32px; }\\n    .media-control[data-media-control] .media-control-layer[data-controls] .media-control-right-panel[data-media-control] {\\n      position: absolute;\\n      top: 0;\\n      right: 4px;\\n      height: 100%; }\\n    .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button {\\n      background-color: transparent;\\n      border: 0;\\n      margin: 0 6px;\\n      padding: 0;\\n      cursor: pointer;\\n      display: inline-block;\\n      width: 32px;\\n      height: 100%; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button svg {\\n        width: 100%;\\n        height: 22px; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button svg path {\\n          fill: white; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button:focus {\\n        outline: none; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-play] {\\n        float: left;\\n        height: 100%; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-pause] {\\n        float: left;\\n        height: 100%; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-stop] {\\n        float: left;\\n        height: 100%; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-fullscreen] {\\n        float: right;\\n        background-color: transparent;\\n        border: 0;\\n        height: 100%; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-hd-indicator] {\\n        background-color: transparent;\\n        border: 0;\\n        cursor: default;\\n        display: none;\\n        float: right;\\n        height: 100%; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-hd-indicator].enabled {\\n          display: block;\\n          opacity: 1.0; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-hd-indicator].enabled:hover {\\n            opacity: 1.0;\\n            text-shadow: none; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-playpause] {\\n        float: left; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-playstop] {\\n        float: left; }\\n    .media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-position], .media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-duration] {\\n      display: inline-block;\\n      font-size: 10px;\\n      color: white;\\n      cursor: default;\\n      line-height: 32px;\\n      position: relative; }\\n    .media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-position] {\\n      margin: 0 6px 0 7px; }\\n    .media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-duration] {\\n      color: rgba(255, 255, 255, 0.5);\\n      margin-right: 6px; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-duration]:before {\\n        content: \\\"|\\\";\\n        margin-right: 7px; }\\n    .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] {\\n      position: absolute;\\n      top: -20px;\\n      left: 0;\\n      display: inline-block;\\n      vertical-align: middle;\\n      width: 100%;\\n      height: 25px;\\n      cursor: pointer; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] {\\n        width: 100%;\\n        height: 1px;\\n        position: relative;\\n        top: 12px;\\n        background-color: #666666; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-1[data-seekbar] {\\n          position: absolute;\\n          top: 0;\\n          left: 0;\\n          width: 0;\\n          height: 100%;\\n          background-color: #c2c2c2;\\n          -webkit-transition: all 0.1s ease-out;\\n          transition: all 0.1s ease-out; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar] {\\n          position: absolute;\\n          top: 0;\\n          left: 0;\\n          width: 0;\\n          height: 100%;\\n          background-color: #005aff;\\n          -webkit-transition: all 0.1s ease-out;\\n          transition: all 0.1s ease-out; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-hover[data-seekbar] {\\n          opacity: 0;\\n          position: absolute;\\n          top: -3px;\\n          width: 5px;\\n          height: 7px;\\n          background-color: rgba(255, 255, 255, 0.5);\\n          -webkit-transition: opacity 0.1s ease;\\n          transition: opacity 0.1s ease; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar]:hover .bar-background[data-seekbar] .bar-hover[data-seekbar] {\\n        opacity: 1; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar].seek-disabled {\\n        cursor: default; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar].seek-disabled:hover .bar-background[data-seekbar] .bar-hover[data-seekbar] {\\n          opacity: 0; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-scrubber[data-seekbar] {\\n        position: absolute;\\n        -webkit-transform: translateX(-50%);\\n                transform: translateX(-50%);\\n        top: 2px;\\n        left: 0;\\n        width: 20px;\\n        height: 20px;\\n        opacity: 1;\\n        -webkit-transition: all 0.1s ease-out;\\n        transition: all 0.1s ease-out; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-scrubber[data-seekbar] .bar-scrubber-icon[data-seekbar] {\\n          position: absolute;\\n          left: 6px;\\n          top: 6px;\\n          width: 8px;\\n          height: 8px;\\n          border-radius: 10px;\\n          box-shadow: 0 0 0 6px rgba(255, 255, 255, 0.2);\\n          background-color: white; }\\n    .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] {\\n      float: right;\\n      display: inline-block;\\n      height: 32px;\\n      cursor: pointer;\\n      margin: 0 6px;\\n      box-sizing: border-box; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] {\\n        float: left;\\n        bottom: 0; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume] {\\n          background-color: transparent;\\n          border: 0;\\n          box-sizing: content-box;\\n          width: 32px;\\n          height: 32px;\\n          opacity: 0.5; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume]:hover {\\n            opacity: 0.75; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume] svg {\\n            height: 24px;\\n            position: relative;\\n            top: 3px; }\\n            .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume] svg path {\\n              fill: white; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume].muted svg {\\n            margin-left: 2px; }\\n      .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] {\\n        float: left;\\n        position: relative;\\n        overflow: hidden;\\n        top: 6px;\\n        width: 42px;\\n        height: 18px;\\n        padding: 3px 0;\\n        -webkit-transition: width .2s ease-out;\\n        transition: width .2s ease-out; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-background[data-volume] {\\n          height: 1px;\\n          position: relative;\\n          top: 7px;\\n          margin: 0 3px;\\n          background-color: #666666; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-background[data-volume] .bar-fill-1[data-volume] {\\n            position: absolute;\\n            top: 0;\\n            left: 0;\\n            width: 0;\\n            height: 100%;\\n            background-color: #c2c2c2;\\n            -webkit-transition: all 0.1s ease-out;\\n            transition: all 0.1s ease-out; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-background[data-volume] .bar-fill-2[data-volume] {\\n            position: absolute;\\n            top: 0;\\n            left: 0;\\n            width: 0;\\n            height: 100%;\\n            background-color: #005aff;\\n            -webkit-transition: all 0.1s ease-out;\\n            transition: all 0.1s ease-out; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-background[data-volume] .bar-hover[data-volume] {\\n            opacity: 0;\\n            position: absolute;\\n            top: -3px;\\n            width: 5px;\\n            height: 7px;\\n            background-color: rgba(255, 255, 255, 0.5);\\n            -webkit-transition: opacity 0.1s ease;\\n            transition: opacity 0.1s ease; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-scrubber[data-volume] {\\n          position: absolute;\\n          -webkit-transform: translateX(-50%);\\n                  transform: translateX(-50%);\\n          top: 0px;\\n          left: 0;\\n          width: 20px;\\n          height: 20px;\\n          opacity: 1;\\n          -webkit-transition: all 0.1s ease-out;\\n          transition: all 0.1s ease-out; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-scrubber[data-volume] .bar-scrubber-icon[data-volume] {\\n            position: absolute;\\n            left: 6px;\\n            top: 6px;\\n            width: 8px;\\n            height: 8px;\\n            border-radius: 10px;\\n            box-shadow: 0 0 0 6px rgba(255, 255, 255, 0.2);\\n            background-color: white; }\\n        .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .segmented-bar-element[data-volume] {\\n          float: left;\\n          width: 4px;\\n          padding-left: 2px;\\n          height: 12px;\\n          opacity: 0.5;\\n          box-shadow: inset 2px 0 0 white;\\n          -webkit-transition: -webkit-transform .2s ease-out;\\n          transition: -webkit-transform .2s ease-out;\\n          transition: transform .2s ease-out;\\n          transition: transform .2s ease-out, -webkit-transform .2s ease-out; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .segmented-bar-element[data-volume].fill {\\n            box-shadow: inset 2px 0 0 #fff;\\n            opacity: 1; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .segmented-bar-element[data-volume]:nth-of-type(1) {\\n            padding-left: 0; }\\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .segmented-bar-element[data-volume]:hover {\\n            -webkit-transform: scaleY(1.5);\\n                    transform: scaleY(1.5); }\\n  .media-control[data-media-control].w320 .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume].volume-bar-hide {\\n    width: 0;\\n    height: 12px;\\n    top: 9px;\\n    padding: 0; }\\n\";\nstyleInject(css$3);\n\nvar mediaControlHTML = \"<div class=\\\"media-control-background\\\" data-background></div>\\n<div class=\\\"media-control-layer\\\" data-controls>\\n  <%  var renderBar = function(name) { %>\\n      <div class=\\\"bar-container\\\" data-<%= name %>>\\n        <div class=\\\"bar-background\\\" data-<%= name %>>\\n          <div class=\\\"bar-fill-1\\\" data-<%= name %>></div>\\n          <div class=\\\"bar-fill-2\\\" data-<%= name %>></div>\\n          <div class=\\\"bar-hover\\\" data-<%= name %>></div>\\n        </div>\\n        <div class=\\\"bar-scrubber\\\" data-<%= name %>>\\n          <div class=\\\"bar-scrubber-icon\\\" data-<%= name %>></div>\\n        </div>\\n      </div>\\n  <%  }; %>\\n  <%  var renderSegmentedBar = function(name, segments) {\\n      segments = segments || 10; %>\\n    <div class=\\\"bar-container\\\" data-<%= name %>>\\n    <% for (var i = 0; i < segments; i++) { %>\\n      <div class=\\\"segmented-bar-element\\\" data-<%= name %>></div>\\n    <% } %>\\n    </div>\\n  <% }; %>\\n  <% var renderDrawer = function(name, renderContent) { %>\\n      <div class=\\\"drawer-container\\\" data-<%= name %>>\\n        <div class=\\\"drawer-icon-container\\\" data-<%= name %>>\\n          <div class=\\\"drawer-icon media-control-icon\\\" data-<%= name %>></div>\\n          <span class=\\\"drawer-text\\\" data-<%= name %>></span>\\n        </div>\\n        <% renderContent(name); %>\\n      </div>\\n  <% }; %>\\n  <% var renderIndicator = function(name) { %>\\n      <div class=\\\"media-control-indicator\\\" data-<%= name %>></div>\\n  <% }; %>\\n  <% var renderButton = function(name) { %>\\n    <button type=\\\"button\\\" class=\\\"media-control-button media-control-icon\\\" data-<%= name %> aria-label=\\\"<%= name %>\\\"></button>\\n  <% }; %>\\n  <%  var templates = {\\n        bar: renderBar,\\n        segmentedBar: renderSegmentedBar,\\n      };\\n      var render = function(settingsList) {\\n        settingsList.forEach(function(setting) {\\n          if(setting === \\\"seekbar\\\") {\\n            renderBar(setting);\\n          } else if (setting === \\\"volume\\\") {\\n            renderDrawer(setting, settings.volumeBarTemplate ? templates[settings.volumeBarTemplate] : function(name) { return renderSegmentedBar(name); });\\n          } else if (setting === \\\"duration\\\" || setting === \\\"position\\\") {\\n            renderIndicator(setting);\\n          } else {\\n            renderButton(setting);\\n          }\\n        });\\n      }; %>\\n  <% if (settings.default && settings.default.length) { %>\\n  <div class=\\\"media-control-center-panel\\\" data-media-control>\\n    <% render(settings.default); %>\\n  </div>\\n  <% } %>\\n  <% if (settings.left && settings.left.length) { %>\\n  <div class=\\\"media-control-left-panel\\\" data-media-control>\\n    <% render(settings.left); %>\\n  </div>\\n  <% } %>\\n  <% if (settings.right && settings.right.length) { %>\\n  <div class=\\\"media-control-right-panel\\\" data-media-control>\\n    <% render(settings.right); %>\\n  </div>\\n  <% } %>\\n</div>\\n\";\n\nvar stopIcon = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" fill=\\\"#010101\\\" d=\\\"M1.712 1.24h12.6v13.52h-12.6z\\\"/>\\n</svg>\";\n\nvar volumeIcon = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" fill=\\\"#010101\\\" d=\\\"M11.5 11h-.002v1.502L7.798 10H4.5V6h3.297l3.7-2.502V4.5h.003V11zM11 4.49L7.953 6.5H5v3h2.953L11 11.51V4.49z\\\"/>\\n</svg>\";\n\nvar volumeMuteIcon = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" fill=\\\"#010101\\\" d=\\\"M9.75 11.51L6.7 9.5H3.75v-3H6.7L9.75 4.49v.664l.497.498V3.498L6.547 6H3.248v4h3.296l3.7 2.502v-2.154l-.497.5v.662zm3-5.165L12.404 6l-1.655 1.653L9.093 6l-.346.345L10.402 8 8.747 9.654l.346.347 1.655-1.653L12.403 10l.348-.346L11.097 8l1.655-1.655z\\\"/>\\n</svg>\";\n\nvar fullscreenIcon = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path fill=\\\"#010101\\\" d=\\\"M7.156 8L4 11.156V8.5H3V13h4.5v-1H4.844L8 8.844 7.156 8zM8.5 3v1h2.657L8 7.157 8.846 8 12 4.844V7.5h1V3H8.5z\\\"/>\\n</svg>\";\n\nvar exitFullscreenIcon = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path fill=\\\"#010101\\\" d=\\\"M13.5 3.344l-.844-.844L9.5 5.656V3h-1v4.5H13v-1h-2.656L13.5 3.344zM3 9.5h2.656L2.5 12.656l.844.844L6.5 10.344V13h1V8.5H3v1z\\\"/>\\n</svg>\";\n\nvar hdIcon = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\">\\n  <path fill=\\\"#010101\\\" d=\\\"M5.375 7.062H2.637V4.26H.502v7.488h2.135V8.9h2.738v2.848h2.133V4.26H5.375v2.802zm5.97-2.81h-2.84v7.496h2.798c2.65 0 4.195-1.607 4.195-3.77v-.022c0-2.162-1.523-3.704-4.154-3.704zm2.06 3.758c0 1.21-.81 1.896-2.03 1.896h-.83V6.093h.83c1.22 0 2.03.696 2.03 1.896v.02z\\\"/>\\n</svg>\";\n\nvar Config = Utils.Config,\n    Fullscreen = Utils.Fullscreen,\n    formatTime = Utils.formatTime,\n    extend = Utils.extend,\n    removeArrayItem = Utils.removeArrayItem;\n\nvar MediaControl =\n/*#__PURE__*/\nfunction (_UICorePlugin) {\n  _inherits(MediaControl, _UICorePlugin);\n\n  _createClass(MediaControl, [{\n    key: \"name\",\n    get: function get() {\n      return 'media_control';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.5\"\n      };\n    }\n  }, {\n    key: \"disabled\",\n    get: function get() {\n      var playbackIsNOOP = this.container && this.container.getPlaybackType() === Playback.NO_OP;\n      return this.userDisabled || playbackIsNOOP;\n    }\n  }, {\n    key: \"container\",\n    get: function get() {\n      return this.core && this.core.activeContainer;\n    }\n  }, {\n    key: \"playback\",\n    get: function get() {\n      return this.core && this.core.activePlayback;\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'class': 'media-control',\n        'data-media-control': ''\n      };\n    }\n  }, {\n    key: \"events\",\n    get: function get() {\n      return {\n        'click [data-play]': 'play',\n        'click [data-pause]': 'pause',\n        'click [data-playpause]': 'togglePlayPause',\n        'click [data-stop]': 'stop',\n        'click [data-playstop]': 'togglePlayStop',\n        'click [data-fullscreen]': 'toggleFullscreen',\n        'click .bar-container[data-seekbar]': 'seek',\n        'click .bar-container[data-volume]': 'onVolumeClick',\n        'click .drawer-icon[data-volume]': 'toggleMute',\n        'mouseenter .drawer-container[data-volume]': 'showVolumeBar',\n        'mouseleave .drawer-container[data-volume]': 'hideVolumeBar',\n        'mousedown .bar-container[data-volume]': 'startVolumeDrag',\n        'mousemove .bar-container[data-volume]': 'mousemoveOnVolumeBar',\n        'mousedown .bar-scrubber[data-seekbar]': 'startSeekDrag',\n        'mousemove .bar-container[data-seekbar]': 'mousemoveOnSeekBar',\n        'mouseleave .bar-container[data-seekbar]': 'mouseleaveOnSeekBar',\n        'mouseenter .media-control-layer[data-controls]': 'setUserKeepVisible',\n        'mouseleave .media-control-layer[data-controls]': 'resetUserKeepVisible'\n      };\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return template(mediaControlHTML);\n    }\n  }, {\n    key: \"volume\",\n    get: function get() {\n      return this.container && this.container.isReady ? this.container.volume : this.intendedVolume;\n    }\n  }, {\n    key: \"muted\",\n    get: function get() {\n      return this.volume === 0;\n    }\n  }]);\n\n  function MediaControl(core) {\n    var _this;\n\n    _classCallCheck(this, MediaControl);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MediaControl).call(this, core));\n    _this.persistConfig = _this.options.persistConfig;\n    _this.currentPositionValue = null;\n    _this.currentDurationValue = null;\n    _this.keepVisible = false;\n    _this.fullScreenOnVideoTagSupported = null; // unknown\n\n    _this.setInitialVolume();\n\n    _this.settings = {\n      left: ['play', 'stop', 'pause'],\n      right: ['volume'],\n      \"default\": ['position', 'seekbar', 'duration']\n    };\n    _this.kibo = new Kibo(_this.options.focusElement);\n\n    _this.bindKeyEvents();\n\n    if (_this.container) {\n      if (!$.isEmptyObject(_this.container.settings)) _this.settings = $.extend({}, _this.container.settings);\n    } else {\n      _this.settings = {};\n    }\n\n    _this.userDisabled = false;\n    if (_this.container && _this.container.mediaControlDisabled || _this.options.chromeless) _this.disable();\n\n    _this.stopDragHandler = function (event) {\n      return _this.stopDrag(event);\n    };\n\n    _this.updateDragHandler = function (event) {\n      return _this.updateDrag(event);\n    };\n\n    $(document).bind('mouseup', _this.stopDragHandler);\n    $(document).bind('mousemove', _this.updateDragHandler);\n    return _this;\n  }\n\n  _createClass(MediaControl, [{\n    key: \"getExternalInterface\",\n    value: function getExternalInterface() {\n      var _this2 = this;\n\n      return {\n        setVolume: this.setVolume,\n        getVolume: function getVolume() {\n          return _this2.volume;\n        }\n      };\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      var _this3 = this;\n\n      this.stopListening();\n      this.listenTo(this.core, Events.CORE_ACTIVE_CONTAINER_CHANGED, this.onActiveContainerChanged);\n      this.listenTo(this.core, Events.CORE_MOUSE_MOVE, this.show);\n      this.listenTo(this.core, Events.CORE_MOUSE_LEAVE, function () {\n        return _this3.hide(_this3.options.hideMediaControlDelay);\n      });\n      this.listenTo(this.core, Events.CORE_FULLSCREEN, this.show);\n      this.listenTo(this.core, Events.CORE_OPTIONS_CHANGE, this.configure);\n      this.listenTo(this.core, Events.CORE_RESIZE, this.playerResize);\n      this.bindContainerEvents();\n    }\n  }, {\n    key: \"bindContainerEvents\",\n    value: function bindContainerEvents() {\n      if (!this.container) return;\n      this.listenTo(this.container, Events.CONTAINER_PLAY, this.changeTogglePlay);\n      this.listenTo(this.container, Events.CONTAINER_PAUSE, this.changeTogglePlay);\n      this.listenTo(this.container, Events.CONTAINER_STOP, this.changeTogglePlay);\n      this.listenTo(this.container, Events.CONTAINER_DBLCLICK, this.toggleFullscreen);\n      this.listenTo(this.container, Events.CONTAINER_TIMEUPDATE, this.onTimeUpdate);\n      this.listenTo(this.container, Events.CONTAINER_PROGRESS, this.updateProgressBar);\n      this.listenTo(this.container, Events.CONTAINER_SETTINGSUPDATE, this.settingsUpdate);\n      this.listenTo(this.container, Events.CONTAINER_PLAYBACKDVRSTATECHANGED, this.settingsUpdate);\n      this.listenTo(this.container, Events.CONTAINER_HIGHDEFINITIONUPDATE, this.highDefinitionUpdate);\n      this.listenTo(this.container, Events.CONTAINER_MEDIACONTROL_DISABLE, this.disable);\n      this.listenTo(this.container, Events.CONTAINER_MEDIACONTROL_ENABLE, this.enable);\n      this.listenTo(this.container, Events.CONTAINER_ENDED, this.ended);\n      this.listenTo(this.container, Events.CONTAINER_VOLUME, this.onVolumeChanged);\n      this.listenTo(this.container, Events.CONTAINER_OPTIONS_CHANGE, this.setInitialVolume);\n\n      if (this.container.playback.el.nodeName.toLowerCase() === 'video') {\n        // wait until the metadata has loaded and then check if fullscreen on video tag is supported\n        this.listenToOnce(this.container, Events.CONTAINER_LOADEDMETADATA, this.onLoadedMetadataOnVideoTag);\n      }\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.userDisabled = true;\n      this.hide();\n      this.unbindKeyEvents();\n      this.$el.hide();\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      if (this.options.chromeless) return;\n      this.userDisabled = false;\n      this.bindKeyEvents();\n      this.show();\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      this.container && this.container.play();\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.container && this.container.pause();\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.container && this.container.stop();\n    }\n  }, {\n    key: \"setInitialVolume\",\n    value: function setInitialVolume() {\n      var initialVolume = this.persistConfig ? Config.restore('volume') : 100;\n      var options = this.container && this.container.options || this.options;\n      this.setVolume(options.mute ? 0 : initialVolume, true);\n    }\n  }, {\n    key: \"onVolumeChanged\",\n    value: function onVolumeChanged() {\n      this.updateVolumeUI();\n    }\n  }, {\n    key: \"onLoadedMetadataOnVideoTag\",\n    value: function onLoadedMetadataOnVideoTag() {\n      var video = this.playback && this.playback.el; // video.webkitSupportsFullscreen is deprecated but iOS appears to only use this\n      // see https://github.com/clappr/clappr/issues/1127\n\n      if (!Fullscreen.fullscreenEnabled() && video.webkitSupportsFullscreen) {\n        this.fullScreenOnVideoTagSupported = true;\n        this.settingsUpdate();\n      }\n    }\n  }, {\n    key: \"updateVolumeUI\",\n    value: function updateVolumeUI() {\n      // this will be called after a render\n      if (!this.rendered) return; // update volume bar scrubber/fill on bar mode\n\n      this.$volumeBarContainer.find('.bar-fill-2').css({});\n      var containerWidth = this.$volumeBarContainer.width();\n      var barWidth = this.$volumeBarBackground.width();\n      var offset = (containerWidth - barWidth) / 2.0;\n      var pos = barWidth * this.volume / 100.0 + offset;\n      this.$volumeBarFill.css({\n        width: \"\".concat(this.volume, \"%\")\n      });\n      this.$volumeBarScrubber.css({\n        left: pos\n      }); // update volume bar segments on segmented bar mode\n\n      this.$volumeBarContainer.find('.segmented-bar-element').removeClass('fill');\n      var item = Math.ceil(this.volume / 10.0);\n      this.$volumeBarContainer.find('.segmented-bar-element').slice(0, item).addClass('fill');\n      this.$volumeIcon.html('');\n      this.$volumeIcon.removeClass('muted');\n\n      if (!this.muted) {\n        this.$volumeIcon.append(volumeIcon);\n      } else {\n        this.$volumeIcon.append(volumeMuteIcon);\n        this.$volumeIcon.addClass('muted');\n      }\n\n      this.applyButtonStyle(this.$volumeIcon);\n    }\n  }, {\n    key: \"changeTogglePlay\",\n    value: function changeTogglePlay() {\n      this.$playPauseToggle.html('');\n      this.$playStopToggle.html('');\n\n      if (this.container && this.container.isPlaying()) {\n        this.$playPauseToggle.append(pauseIcon);\n        this.$playStopToggle.append(stopIcon);\n        this.trigger(Events.MEDIACONTROL_PLAYING);\n      } else {\n        this.$playPauseToggle.append(playIcon);\n        this.$playStopToggle.append(playIcon);\n        this.trigger(Events.MEDIACONTROL_NOTPLAYING);\n        Browser.isMobile && this.show();\n      }\n\n      this.applyButtonStyle(this.$playPauseToggle);\n      this.applyButtonStyle(this.$playStopToggle);\n    }\n  }, {\n    key: \"mousemoveOnSeekBar\",\n    value: function mousemoveOnSeekBar(event) {\n      if (this.settings.seekEnabled) {\n        var offsetX = event.pageX - this.$seekBarContainer.offset().left - this.$seekBarHover.width() / 2;\n        this.$seekBarHover.css({\n          left: offsetX\n        });\n      }\n\n      this.trigger(Events.MEDIACONTROL_MOUSEMOVE_SEEKBAR, event);\n    }\n  }, {\n    key: \"mouseleaveOnSeekBar\",\n    value: function mouseleaveOnSeekBar(event) {\n      this.trigger(Events.MEDIACONTROL_MOUSELEAVE_SEEKBAR, event);\n    }\n  }, {\n    key: \"onVolumeClick\",\n    value: function onVolumeClick(event) {\n      this.setVolume(this.getVolumeFromUIEvent(event));\n    }\n  }, {\n    key: \"mousemoveOnVolumeBar\",\n    value: function mousemoveOnVolumeBar(event) {\n      this.draggingVolumeBar && this.setVolume(this.getVolumeFromUIEvent(event));\n    }\n  }, {\n    key: \"playerResize\",\n    value: function playerResize(size) {\n      this.$fullscreenToggle.html('');\n      var icon = this.core.isFullscreen() ? exitFullscreenIcon : fullscreenIcon;\n      this.$fullscreenToggle.append(icon);\n      this.applyButtonStyle(this.$fullscreenToggle);\n      this.$el.find('.media-control').length !== 0 && this.$el.removeClass('w320');\n      if (size.width <= 320 || this.options.hideVolumeBar) this.$el.addClass('w320');\n    }\n  }, {\n    key: \"togglePlayPause\",\n    value: function togglePlayPause() {\n      this.container.isPlaying() ? this.container.pause() : this.container.play();\n      return false;\n    }\n  }, {\n    key: \"togglePlayStop\",\n    value: function togglePlayStop() {\n      this.container.isPlaying() ? this.container.stop() : this.container.play();\n    }\n  }, {\n    key: \"startSeekDrag\",\n    value: function startSeekDrag(event) {\n      if (!this.settings.seekEnabled) return;\n      this.draggingSeekBar = true;\n      this.$el.addClass('dragging');\n      this.$seekBarLoaded.addClass('media-control-notransition');\n      this.$seekBarPosition.addClass('media-control-notransition');\n      this.$seekBarScrubber.addClass('media-control-notransition');\n      event && event.preventDefault();\n    }\n  }, {\n    key: \"startVolumeDrag\",\n    value: function startVolumeDrag(event) {\n      this.draggingVolumeBar = true;\n      this.$el.addClass('dragging');\n      event && event.preventDefault();\n    }\n  }, {\n    key: \"stopDrag\",\n    value: function stopDrag(event) {\n      this.draggingSeekBar && this.seek(event);\n      this.$el.removeClass('dragging');\n      this.$seekBarLoaded.removeClass('media-control-notransition');\n      this.$seekBarPosition.removeClass('media-control-notransition');\n      this.$seekBarScrubber.removeClass('media-control-notransition dragging');\n      this.draggingSeekBar = false;\n      this.draggingVolumeBar = false;\n    }\n  }, {\n    key: \"updateDrag\",\n    value: function updateDrag(event) {\n      if (this.draggingSeekBar) {\n        event.preventDefault();\n        var offsetX = event.pageX - this.$seekBarContainer.offset().left;\n        var pos = offsetX / this.$seekBarContainer.width() * 100;\n        pos = Math.min(100, Math.max(pos, 0));\n        this.setSeekPercentage(pos);\n      } else if (this.draggingVolumeBar) {\n        event.preventDefault();\n        this.setVolume(this.getVolumeFromUIEvent(event));\n      }\n    }\n  }, {\n    key: \"getVolumeFromUIEvent\",\n    value: function getVolumeFromUIEvent(event) {\n      var offsetY = event.pageX - this.$volumeBarContainer.offset().left;\n      var volumeFromUI = offsetY / this.$volumeBarContainer.width() * 100;\n      return volumeFromUI;\n    }\n  }, {\n    key: \"toggleMute\",\n    value: function toggleMute() {\n      this.setVolume(this.muted ? 100 : 0);\n    }\n  }, {\n    key: \"setVolume\",\n    value: function setVolume(value) {\n      var _this4 = this;\n\n      var isInitialVolume = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      value = Math.min(100, Math.max(value, 0)); // this will hold the intended volume\n      // it may not actually get set to this straight away\n      // if the container is not ready etc\n\n      this.intendedVolume = value;\n      this.persistConfig && !isInitialVolume && Config.persist('volume', value);\n\n      var setWhenContainerReady = function setWhenContainerReady() {\n        if (_this4.container && _this4.container.isReady) {\n          _this4.container.setVolume(value);\n        } else {\n          _this4.listenToOnce(_this4.container, Events.CONTAINER_READY, function () {\n            _this4.container.setVolume(value);\n          });\n        }\n      };\n\n      if (!this.container) this.listenToOnce(this, Events.MEDIACONTROL_CONTAINERCHANGED, function () {\n        return setWhenContainerReady();\n      });else setWhenContainerReady();\n    }\n  }, {\n    key: \"toggleFullscreen\",\n    value: function toggleFullscreen() {\n      this.trigger(Events.MEDIACONTROL_FULLSCREEN, this.name);\n      this.container.fullscreen();\n      this.core.toggleFullscreen();\n      this.resetUserKeepVisible();\n    }\n  }, {\n    key: \"onActiveContainerChanged\",\n    value: function onActiveContainerChanged() {\n      this.fullScreenOnVideoTagSupported = null;\n      this.bindEvents(); // set the new container to match the volume of the last one\n\n      this.setInitialVolume();\n      this.changeTogglePlay();\n      this.bindContainerEvents();\n      this.settingsUpdate();\n      this.container && this.container.trigger(Events.CONTAINER_PLAYBACKDVRSTATECHANGED, this.container.isDvrInUse());\n      this.container && this.container.mediaControlDisabled && this.disable();\n      this.trigger(Events.MEDIACONTROL_CONTAINERCHANGED);\n    }\n  }, {\n    key: \"showVolumeBar\",\n    value: function showVolumeBar() {\n      this.hideVolumeId && clearTimeout(this.hideVolumeId);\n      this.$volumeBarContainer.removeClass('volume-bar-hide');\n    }\n  }, {\n    key: \"hideVolumeBar\",\n    value: function hideVolumeBar() {\n      var _this5 = this;\n\n      var timeout = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 400;\n      if (!this.$volumeBarContainer) return;\n\n      if (this.draggingVolumeBar) {\n        this.hideVolumeId = setTimeout(function () {\n          return _this5.hideVolumeBar();\n        }, timeout);\n      } else {\n        this.hideVolumeId && clearTimeout(this.hideVolumeId);\n        this.hideVolumeId = setTimeout(function () {\n          return _this5.$volumeBarContainer.addClass('volume-bar-hide');\n        }, timeout);\n      }\n    }\n  }, {\n    key: \"ended\",\n    value: function ended() {\n      this.changeTogglePlay();\n    }\n  }, {\n    key: \"updateProgressBar\",\n    value: function updateProgressBar(progress) {\n      var loadedStart = progress.start / progress.total * 100;\n      var loadedEnd = progress.current / progress.total * 100;\n      this.$seekBarLoaded.css({\n        left: \"\".concat(loadedStart, \"%\"),\n        width: \"\".concat(loadedEnd - loadedStart, \"%\")\n      });\n    }\n  }, {\n    key: \"onTimeUpdate\",\n    value: function onTimeUpdate(timeProgress) {\n      if (this.draggingSeekBar) return; // TODO why should current time ever be negative?\n\n      var position = timeProgress.current < 0 ? timeProgress.total : timeProgress.current;\n      this.currentPositionValue = position;\n      this.currentDurationValue = timeProgress.total;\n      this.renderSeekBar();\n    }\n  }, {\n    key: \"renderSeekBar\",\n    value: function renderSeekBar() {\n      // this will be triggered as soon as these become available\n      if (this.currentPositionValue === null || this.currentDurationValue === null) return; // default to 100%\n\n      this.currentSeekBarPercentage = 100;\n      if (this.container && (this.container.getPlaybackType() !== Playback.LIVE || this.container.isDvrInUse())) this.currentSeekBarPercentage = this.currentPositionValue / this.currentDurationValue * 100;\n      this.setSeekPercentage(this.currentSeekBarPercentage);\n      var newPosition = formatTime(this.currentPositionValue);\n      var newDuration = formatTime(this.currentDurationValue);\n\n      if (newPosition !== this.displayedPosition) {\n        this.$position.text(newPosition);\n        this.displayedPosition = newPosition;\n      }\n\n      if (newDuration !== this.displayedDuration) {\n        this.$duration.text(newDuration);\n        this.displayedDuration = newDuration;\n      }\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(event) {\n      if (!this.settings.seekEnabled) return;\n      var offsetX = event.pageX - this.$seekBarContainer.offset().left;\n      var pos = offsetX / this.$seekBarContainer.width() * 100;\n      pos = Math.min(100, Math.max(pos, 0));\n      this.container && this.container.seekPercentage(pos);\n      this.setSeekPercentage(pos);\n      return false;\n    }\n  }, {\n    key: \"setKeepVisible\",\n    value: function setKeepVisible() {\n      this.keepVisible = true;\n    }\n  }, {\n    key: \"resetKeepVisible\",\n    value: function resetKeepVisible() {\n      this.keepVisible = false;\n    }\n  }, {\n    key: \"setUserKeepVisible\",\n    value: function setUserKeepVisible() {\n      this.userKeepVisible = true;\n    }\n  }, {\n    key: \"resetUserKeepVisible\",\n    value: function resetUserKeepVisible() {\n      this.userKeepVisible = false;\n    }\n  }, {\n    key: \"isVisible\",\n    value: function isVisible() {\n      return !this.$el.hasClass('media-control-hide');\n    }\n  }, {\n    key: \"show\",\n    value: function show(event) {\n      var _this6 = this;\n\n      if (this.disabled) return;\n      var timeout = 2000;\n      var mousePointerMoved = event && event.clientX !== this.lastMouseX && event.clientY !== this.lastMouseY;\n\n      if (!event || mousePointerMoved || navigator.userAgent.match(/firefox/i)) {\n        clearTimeout(this.hideId);\n        this.$el.show();\n        this.trigger(Events.MEDIACONTROL_SHOW, this.name);\n        this.container && this.container.trigger(Events.CONTAINER_MEDIACONTROL_SHOW, this.name);\n        this.$el.removeClass('media-control-hide');\n        this.hideId = setTimeout(function () {\n          return _this6.hide();\n        }, timeout);\n\n        if (event) {\n          this.lastMouseX = event.clientX;\n          this.lastMouseY = event.clientY;\n        }\n      }\n\n      var showing = true;\n      this.updateCursorStyle(showing);\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      var _this7 = this;\n\n      var delay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      if (!this.isVisible()) return;\n      var timeout = delay || 2000;\n      clearTimeout(this.hideId);\n      if (!this.disabled && this.options.hideMediaControl === false) return;\n      var hasKeepVisibleRequested = this.userKeepVisible || this.keepVisible;\n      var hasDraggingAction = this.draggingSeekBar || this.draggingVolumeBar;\n\n      if (!this.disabled && (delay || hasKeepVisibleRequested || hasDraggingAction)) {\n        this.hideId = setTimeout(function () {\n          return _this7.hide();\n        }, timeout);\n      } else {\n        this.trigger(Events.MEDIACONTROL_HIDE, this.name);\n        this.container && this.container.trigger(Events.CONTAINER_MEDIACONTROL_HIDE, this.name);\n        this.$el.addClass('media-control-hide');\n        this.hideVolumeBar(0);\n        var showing = false;\n        this.updateCursorStyle(showing);\n      }\n    }\n  }, {\n    key: \"updateCursorStyle\",\n    value: function updateCursorStyle(showing) {\n      if (showing) this.core.$el.removeClass('nocursor');else if (this.core.isFullscreen()) this.core.$el.addClass('nocursor');\n    }\n  }, {\n    key: \"settingsUpdate\",\n    value: function settingsUpdate() {\n      var newSettings = this.getSettings();\n\n      if (newSettings && !this.fullScreenOnVideoTagSupported && !Fullscreen.fullscreenEnabled()) {\n        // remove fullscreen from settings if it is present\n        newSettings[\"default\"] && removeArrayItem(newSettings[\"default\"], 'fullscreen');\n        newSettings.left && removeArrayItem(newSettings.left, 'fullscreen');\n        newSettings.right && removeArrayItem(newSettings.right, 'fullscreen');\n      }\n\n      var settingsChanged = JSON.stringify(this.settings) !== JSON.stringify(newSettings);\n\n      if (settingsChanged) {\n        this.settings = newSettings;\n        this.render();\n      }\n    }\n  }, {\n    key: \"getSettings\",\n    value: function getSettings() {\n      return $.extend(true, {}, this.container && this.container.settings);\n    }\n  }, {\n    key: \"highDefinitionUpdate\",\n    value: function highDefinitionUpdate(isHD) {\n      this.isHD = isHD;\n      var method = isHD ? 'addClass' : 'removeClass';\n      this.$hdIndicator[method]('enabled');\n    }\n  }, {\n    key: \"createCachedElements\",\n    value: function createCachedElements() {\n      var $layer = this.$el.find('.media-control-layer');\n      this.$duration = $layer.find('.media-control-indicator[data-duration]');\n      this.$fullscreenToggle = $layer.find('button.media-control-button[data-fullscreen]');\n      this.$playPauseToggle = $layer.find('button.media-control-button[data-playpause]');\n      this.$playStopToggle = $layer.find('button.media-control-button[data-playstop]');\n      this.$position = $layer.find('.media-control-indicator[data-position]');\n      this.$seekBarContainer = $layer.find('.bar-container[data-seekbar]');\n      this.$seekBarHover = $layer.find('.bar-hover[data-seekbar]');\n      this.$seekBarLoaded = $layer.find('.bar-fill-1[data-seekbar]');\n      this.$seekBarPosition = $layer.find('.bar-fill-2[data-seekbar]');\n      this.$seekBarScrubber = $layer.find('.bar-scrubber[data-seekbar]');\n      this.$volumeBarContainer = $layer.find('.bar-container[data-volume]');\n      this.$volumeContainer = $layer.find('.drawer-container[data-volume]');\n      this.$volumeIcon = $layer.find('.drawer-icon[data-volume]');\n      this.$volumeBarBackground = this.$el.find('.bar-background[data-volume]');\n      this.$volumeBarFill = this.$el.find('.bar-fill-1[data-volume]');\n      this.$volumeBarScrubber = this.$el.find('.bar-scrubber[data-volume]');\n      this.$hdIndicator = this.$el.find('button.media-control-button[data-hd-indicator]');\n      this.resetIndicators();\n      this.initializeIcons();\n    }\n  }, {\n    key: \"resetIndicators\",\n    value: function resetIndicators() {\n      this.displayedPosition = this.$position.text();\n      this.displayedDuration = this.$duration.text();\n    }\n  }, {\n    key: \"initializeIcons\",\n    value: function initializeIcons() {\n      var $layer = this.$el.find('.media-control-layer');\n      $layer.find('button.media-control-button[data-play]').append(playIcon);\n      $layer.find('button.media-control-button[data-pause]').append(pauseIcon);\n      $layer.find('button.media-control-button[data-stop]').append(stopIcon);\n      this.$playPauseToggle.append(playIcon);\n      this.$playStopToggle.append(playIcon);\n      this.$volumeIcon.append(volumeIcon);\n      this.$fullscreenToggle.append(fullscreenIcon);\n      this.$hdIndicator.append(hdIcon);\n    }\n  }, {\n    key: \"setSeekPercentage\",\n    value: function setSeekPercentage(value) {\n      value = Math.max(Math.min(value, 100.0), 0); // not changed since last update\n\n      if (this.displayedSeekBarPercentage === value) return;\n      this.displayedSeekBarPercentage = value;\n      this.$seekBarPosition.removeClass('media-control-notransition');\n      this.$seekBarScrubber.removeClass('media-control-notransition');\n      this.$seekBarPosition.css({\n        width: \"\".concat(value, \"%\")\n      });\n      this.$seekBarScrubber.css({\n        left: \"\".concat(value, \"%\")\n      });\n    }\n  }, {\n    key: \"seekRelative\",\n    value: function seekRelative(delta) {\n      if (!this.settings.seekEnabled) return;\n      var currentTime = this.container.getCurrentTime();\n      var duration = this.container.getDuration();\n      var position = Math.min(Math.max(currentTime + delta, 0), duration);\n      position = Math.min(position * 100 / duration, 100);\n      this.container.seekPercentage(position);\n    }\n  }, {\n    key: \"bindKeyAndShow\",\n    value: function bindKeyAndShow(key, callback) {\n      var _this8 = this;\n\n      this.kibo.down(key, function () {\n        _this8.show();\n\n        return callback();\n      });\n    }\n  }, {\n    key: \"bindKeyEvents\",\n    value: function bindKeyEvents() {\n      var _this9 = this;\n\n      if (Browser.isMobile || this.options.disableKeyboardShortcuts) return;\n      this.unbindKeyEvents();\n      this.kibo = new Kibo(this.options.focusElement || this.options.parentElement);\n      this.bindKeyAndShow('space', function () {\n        return _this9.togglePlayPause();\n      });\n      this.bindKeyAndShow('left', function () {\n        return _this9.seekRelative(-5);\n      });\n      this.bindKeyAndShow('right', function () {\n        return _this9.seekRelative(5);\n      });\n      this.bindKeyAndShow('shift left', function () {\n        return _this9.seekRelative(-10);\n      });\n      this.bindKeyAndShow('shift right', function () {\n        return _this9.seekRelative(10);\n      });\n      this.bindKeyAndShow('shift ctrl left', function () {\n        return _this9.seekRelative(-15);\n      });\n      this.bindKeyAndShow('shift ctrl right', function () {\n        return _this9.seekRelative(15);\n      });\n      var keys = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '0'];\n      keys.forEach(function (i) {\n        _this9.bindKeyAndShow(i, function () {\n          _this9.settings.seekEnabled && _this9.container && _this9.container.seekPercentage(i * 10);\n        });\n      });\n    }\n  }, {\n    key: \"unbindKeyEvents\",\n    value: function unbindKeyEvents() {\n      if (this.kibo) {\n        this.kibo.off('space');\n        this.kibo.off('left');\n        this.kibo.off('right');\n        this.kibo.off('shift left');\n        this.kibo.off('shift right');\n        this.kibo.off('shift ctrl left');\n        this.kibo.off('shift ctrl right');\n        this.kibo.off(['1', '2', '3', '4', '5', '6', '7', '8', '9', '0']);\n      }\n    }\n  }, {\n    key: \"parseColors\",\n    value: function parseColors() {\n      if (this.options.mediacontrol) {\n        this.buttonsColor = this.options.mediacontrol.buttons;\n        var seekbarColor = this.options.mediacontrol.seekbar;\n        this.$el.find('.bar-fill-2[data-seekbar]').css('background-color', seekbarColor);\n        this.$el.find('.media-control-icon svg path').css('fill', this.buttonsColor);\n        this.$el.find('.segmented-bar-element[data-volume]').css('boxShadow', 'inset 2px 0 0 ' + this.buttonsColor);\n      }\n    }\n  }, {\n    key: \"applyButtonStyle\",\n    value: function applyButtonStyle(element) {\n      this.buttonsColor && element && $(element).find('svg path').css('fill', this.buttonsColor);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      $(document).unbind('mouseup', this.stopDragHandler);\n      $(document).unbind('mousemove', this.updateDragHandler);\n      this.unbindKeyEvents();\n      this.stopListening();\n\n      _get(_getPrototypeOf(MediaControl.prototype), \"destroy\", this).call(this);\n    }\n    /**\n     * enables to configure the media control after its creation\n     * @method configure\n     * @param {Object} options all the options to change in form of a javascript object\n     */\n\n  }, {\n    key: \"configure\",\n    value: function configure(options) {\n      // Check if chromeless mode or if configure is called with new source(s)\n      if (this.options.chromeless || options.source || options.sources) this.disable();else this.enable();\n      this.trigger(Events.MEDIACONTROL_OPTIONS_CHANGE);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this10 = this;\n\n      var timeout = this.options.hideMediaControlDelay || 2000;\n      this.settings && this.$el.html(this.template({\n        settings: this.settings\n      }));\n      this.createCachedElements();\n      this.$playPauseToggle.addClass('paused');\n      this.$playStopToggle.addClass('stopped');\n      this.changeTogglePlay();\n\n      if (this.container) {\n        this.hideId = setTimeout(function () {\n          return _this10.hide();\n        }, timeout);\n        this.disabled && this.hide();\n      } // Video volume cannot be changed with Safari on mobile devices\n      // Display mute/unmute icon only if Safari version >= 10\n\n\n      if (Browser.isSafari && Browser.isMobile) {\n        if (Browser.version < 10) this.$volumeContainer.css('display', 'none');else this.$volumeBarContainer.css('display', 'none');\n      }\n\n      this.$seekBarPosition.addClass('media-control-notransition');\n      this.$seekBarScrubber.addClass('media-control-notransition');\n      var previousSeekPercentage = 0;\n      if (this.displayedSeekBarPercentage) previousSeekPercentage = this.displayedSeekBarPercentage;\n      this.displayedSeekBarPercentage = null;\n      this.setSeekPercentage(previousSeekPercentage);\n      nextTick(function () {\n        !_this10.settings.seekEnabled && _this10.$seekBarContainer.addClass('seek-disabled');\n        !Browser.isMobile && !_this10.options.disableKeyboardShortcuts && _this10.bindKeyEvents();\n\n        _this10.playerResize({\n          width: _this10.options.width,\n          height: _this10.options.height\n        });\n\n        _this10.hideVolumeBar(0);\n      });\n      this.parseColors();\n      this.highDefinitionUpdate(this.isHD);\n      this.core.$el.append(this.el);\n      this.rendered = true;\n      this.updateVolumeUI();\n      this.trigger(Events.MEDIACONTROL_RENDERED);\n      return this;\n    }\n  }]);\n\n  return MediaControl;\n}(UICorePlugin);\n\nMediaControl.extend = function (properties) {\n  return extend(MediaControl, properties);\n};\n\nvar posterHTML = \"<div class=\\\"play-wrapper\\\" data-poster></div>\\n\";\n\nvar css$4 = \".player-poster[data-poster] {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  position: absolute;\\n  height: 100%;\\n  width: 100%;\\n  z-index: 998;\\n  top: 0;\\n  left: 0;\\n  background-color: transparent;\\n  background-size: cover;\\n  background-repeat: no-repeat;\\n  background-position: 50% 50%; }\\n  .player-poster[data-poster].clickable {\\n    cursor: pointer; }\\n  .player-poster[data-poster]:hover .play-wrapper[data-poster] {\\n    opacity: 1; }\\n  .player-poster[data-poster] .play-wrapper[data-poster] {\\n    width: 100%;\\n    height: 25%;\\n    margin: 0 auto;\\n    opacity: 0.75;\\n    -webkit-transition: opacity 0.1s ease;\\n    transition: opacity 0.1s ease; }\\n    .player-poster[data-poster] .play-wrapper[data-poster] svg {\\n      height: 100%; }\\n      .player-poster[data-poster] .play-wrapper[data-poster] svg path {\\n        fill: #fff; }\\n\";\nstyleInject(css$4);\n\nvar PosterPlugin =\n/*#__PURE__*/\nfunction (_UIContainerPlugin) {\n  _inherits(PosterPlugin, _UIContainerPlugin);\n\n  _createClass(PosterPlugin, [{\n    key: \"name\",\n    get: function get() {\n      return 'poster';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.5\"\n      };\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return template(posterHTML);\n    }\n  }, {\n    key: \"shouldRender\",\n    get: function get() {\n      var showForNoOp = !!(this.options.poster && this.options.poster.showForNoOp);\n      return this.container.playback.name !== 'html_img' && (this.container.playback.getPlaybackType() !== Playback.NO_OP || showForNoOp);\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'class': 'player-poster',\n        'data-poster': ''\n      };\n    }\n  }, {\n    key: \"events\",\n    get: function get() {\n      return {\n        'click': 'clicked'\n      };\n    }\n  }, {\n    key: \"showOnVideoEnd\",\n    get: function get() {\n      return !this.options.poster || this.options.poster.showOnVideoEnd || this.options.poster.showOnVideoEnd === undefined;\n    }\n  }]);\n\n  function PosterPlugin(container) {\n    var _this;\n\n    _classCallCheck(this, PosterPlugin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PosterPlugin).call(this, container));\n    _this.hasStartedPlaying = false;\n    _this.playRequested = false;\n\n    _this.render();\n\n    nextTick(function () {\n      return _this.update();\n    });\n    return _this;\n  }\n\n  _createClass(PosterPlugin, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.container, Events.CONTAINER_STOP, this.onStop);\n      this.listenTo(this.container, Events.CONTAINER_PLAY, this.onPlay);\n      this.listenTo(this.container, Events.CONTAINER_STATE_BUFFERING, this.update);\n      this.listenTo(this.container, Events.CONTAINER_STATE_BUFFERFULL, this.update);\n      this.listenTo(this.container, Events.CONTAINER_OPTIONS_CHANGE, this.render);\n      this.listenTo(this.container, Events.CONTAINER_ERROR, this.onError);\n      this.showOnVideoEnd && this.listenTo(this.container, Events.CONTAINER_ENDED, this.onStop);\n    }\n  }, {\n    key: \"onError\",\n    value: function onError(error) {\n      this.hasFatalError = error.level === PlayerError.Levels.FATAL;\n\n      if (this.hasFatalError) {\n        this.hasStartedPlaying = false;\n        this.playRequested = false;\n        this.showPlayButton();\n      }\n    }\n  }, {\n    key: \"onPlay\",\n    value: function onPlay() {\n      this.hasStartedPlaying = true;\n      this.update();\n    }\n  }, {\n    key: \"onStop\",\n    value: function onStop() {\n      this.hasStartedPlaying = false;\n      this.playRequested = false;\n      this.update();\n    }\n  }, {\n    key: \"updatePlayButton\",\n    value: function updatePlayButton(show) {\n      if (show && (!this.options.chromeless || this.options.allowUserInteraction)) this.showPlayButton();else this.hidePlayButton();\n    }\n  }, {\n    key: \"showPlayButton\",\n    value: function showPlayButton() {\n      if (this.hasFatalError && !this.options.disableErrorScreen) return;\n      this.$playButton.show();\n      this.$el.addClass('clickable');\n    }\n  }, {\n    key: \"hidePlayButton\",\n    value: function hidePlayButton() {\n      this.$playButton.hide();\n      this.$el.removeClass('clickable');\n    }\n  }, {\n    key: \"clicked\",\n    value: function clicked() {\n      // Let \"click_to_pause\" plugin handle click event if media has started playing\n      if (!this.hasStartedPlaying) {\n        if (!this.options.chromeless || this.options.allowUserInteraction) {\n          this.playRequested = true;\n          this.update();\n          this.container.play();\n        }\n\n        return false;\n      }\n    }\n  }, {\n    key: \"shouldHideOnPlay\",\n    value: function shouldHideOnPlay() {\n      // Audio broadcasts should keep the poster up; video should hide poster while playing.\n      return !this.container.playback.isAudioOnly;\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      if (!this.shouldRender) return;\n      var showPlayButton = !this.playRequested && !this.hasStartedPlaying && !this.container.buffering;\n      this.updatePlayButton(showPlayButton);\n      this.updatePoster();\n    }\n  }, {\n    key: \"updatePoster\",\n    value: function updatePoster() {\n      if (!this.hasStartedPlaying) this.showPoster();else this.hidePoster();\n    }\n  }, {\n    key: \"showPoster\",\n    value: function showPoster() {\n      this.container.disableMediaControl();\n      this.$el.show();\n    }\n  }, {\n    key: \"hidePoster\",\n    value: function hidePoster() {\n      this.container.enableMediaControl();\n      if (this.shouldHideOnPlay()) this.$el.hide();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.shouldRender) return;\n      this.$el.html(this.template());\n      var isRegularPoster = this.options.poster && this.options.poster.custom === undefined;\n\n      if (isRegularPoster) {\n        var posterUrl = this.options.poster.url || this.options.poster;\n        this.$el.css({\n          'background-image': 'url(' + posterUrl + ')'\n        });\n      } else if (this.options.poster) {\n        this.$el.css({\n          'background': this.options.poster.custom\n        });\n      }\n\n      this.container.$el.append(this.el);\n      this.$playWrapper = this.$el.find('.play-wrapper');\n      this.$playWrapper.append(playIcon);\n      this.$playButton = this.$playWrapper.find('svg');\n      this.$playButton.addClass('poster-icon');\n      this.$playButton.attr('data-poster', '');\n      var buttonsColor = this.options.mediacontrol && this.options.mediacontrol.buttons;\n      if (buttonsColor) this.$el.find('svg path').css('fill', buttonsColor);\n\n      if (this.options.mediacontrol && this.options.mediacontrol.buttons) {\n        buttonsColor = this.options.mediacontrol.buttons;\n        this.$playButton.css('color', buttonsColor);\n      }\n\n      this.update();\n      return this;\n    }\n  }]);\n\n  return PosterPlugin;\n}(UIContainerPlugin);\n\nvar seekTimeHTML = \"<span data-seek-time></span>\\n<span data-duration></span>\\n\";\n\nvar css$5 = \".seek-time[data-seek-time] {\\n  position: absolute;\\n  white-space: nowrap;\\n  height: 20px;\\n  line-height: 20px;\\n  font-size: 0;\\n  left: -100%;\\n  bottom: 55px;\\n  background-color: rgba(2, 2, 2, 0.5);\\n  z-index: 9999;\\n  -webkit-transition: opacity 0.1s ease;\\n  transition: opacity 0.1s ease; }\\n  .seek-time[data-seek-time].hidden[data-seek-time] {\\n    opacity: 0; }\\n  .seek-time[data-seek-time] [data-seek-time] {\\n    display: inline-block;\\n    color: white;\\n    font-size: 10px;\\n    padding-left: 7px;\\n    padding-right: 7px;\\n    vertical-align: top; }\\n  .seek-time[data-seek-time] [data-duration] {\\n    display: inline-block;\\n    color: rgba(255, 255, 255, 0.5);\\n    font-size: 10px;\\n    padding-right: 7px;\\n    vertical-align: top; }\\n    .seek-time[data-seek-time] [data-duration]:before {\\n      content: \\\"|\\\";\\n      margin-right: 7px; }\\n\";\nstyleInject(css$5);\n\nvar formatTime$1 = Utils.formatTime;\n\nvar SeekTime =\n/*#__PURE__*/\nfunction (_UICorePlugin) {\n  _inherits(SeekTime, _UICorePlugin);\n\n  _createClass(SeekTime, [{\n    key: \"name\",\n    get: function get() {\n      return 'seek_time';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.5\"\n      };\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return template(seekTimeHTML);\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'class': 'seek-time',\n        'data-seek-time': ''\n      };\n    }\n  }, {\n    key: \"mediaControl\",\n    get: function get() {\n      return this.core.mediaControl;\n    }\n  }, {\n    key: \"mediaControlContainer\",\n    get: function get() {\n      return this.mediaControl.container;\n    }\n  }, {\n    key: \"isLiveStreamWithDvr\",\n    get: function get() {\n      return this.mediaControlContainer && this.mediaControlContainer.getPlaybackType() === Playback.LIVE && this.mediaControlContainer.isDvrEnabled();\n    }\n  }, {\n    key: \"durationShown\",\n    get: function get() {\n      return this.isLiveStreamWithDvr && !this.actualLiveTime;\n    }\n  }, {\n    key: \"useActualLiveTime\",\n    get: function get() {\n      return this.actualLiveTime && this.isLiveStreamWithDvr;\n    }\n  }]);\n\n  function SeekTime(core) {\n    var _this;\n\n    _classCallCheck(this, SeekTime);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SeekTime).call(this, core));\n    _this.hoveringOverSeekBar = false;\n    _this.hoverPosition = null;\n    _this.duration = null;\n    _this.firstFragDateTime = null;\n    _this.actualLiveTime = !!_this.mediaControl.options.actualLiveTime;\n\n    if (_this.actualLiveTime) {\n      if (_this.mediaControl.options.actualLiveServerTime) _this.actualLiveServerTimeDiff = new Date().getTime() - new Date(_this.mediaControl.options.actualLiveServerTime).getTime();else _this.actualLiveServerTimeDiff = 0;\n    }\n\n    return _this;\n  }\n\n  _createClass(SeekTime, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.mediaControl, Events.MEDIACONTROL_RENDERED, this.render);\n      this.listenTo(this.mediaControl, Events.MEDIACONTROL_MOUSEMOVE_SEEKBAR, this.showTime);\n      this.listenTo(this.mediaControl, Events.MEDIACONTROL_MOUSELEAVE_SEEKBAR, this.hideTime);\n      this.listenTo(this.mediaControl, Events.MEDIACONTROL_CONTAINERCHANGED, this.onContainerChanged);\n\n      if (this.mediaControlContainer) {\n        this.listenTo(this.mediaControlContainer, Events.CONTAINER_PLAYBACKDVRSTATECHANGED, this.update);\n        this.listenTo(this.mediaControlContainer, Events.CONTAINER_TIMEUPDATE, this.updateDuration);\n      }\n    }\n  }, {\n    key: \"onContainerChanged\",\n    value: function onContainerChanged() {\n      this.stopListening();\n      this.bindEvents();\n    }\n  }, {\n    key: \"updateDuration\",\n    value: function updateDuration(timeProgress) {\n      this.duration = timeProgress.total;\n      this.firstFragDateTime = timeProgress.firstFragDateTime;\n      this.update();\n    }\n  }, {\n    key: \"showTime\",\n    value: function showTime(event) {\n      this.hoveringOverSeekBar = true;\n      this.calculateHoverPosition(event);\n      this.update();\n    }\n  }, {\n    key: \"hideTime\",\n    value: function hideTime() {\n      this.hoveringOverSeekBar = false;\n      this.update();\n    }\n  }, {\n    key: \"calculateHoverPosition\",\n    value: function calculateHoverPosition(event) {\n      var offset = event.pageX - this.mediaControl.$seekBarContainer.offset().left; // proportion into the seek bar that the mouse is hovered over 0-1\n\n      this.hoverPosition = Math.min(1, Math.max(offset / this.mediaControl.$seekBarContainer.width(), 0));\n    }\n  }, {\n    key: \"getSeekTime\",\n    value: function getSeekTime() {\n      var seekTime, secondsSinceMidnight, d, e;\n\n      if (this.useActualLiveTime) {\n        if (this.firstFragDateTime) {\n          e = new Date(this.firstFragDateTime);\n          d = new Date(this.firstFragDateTime);\n          d.setHours(0, 0, 0, 0);\n          secondsSinceMidnight = (e.getTime() - d.getTime()) / 1000 + this.duration;\n        } else {\n          d = new Date(new Date().getTime() - this.actualLiveServerTimeDiff);\n          e = new Date(d);\n          secondsSinceMidnight = (e - d.setHours(0, 0, 0, 0)) / 1000;\n        }\n\n        seekTime = secondsSinceMidnight - this.duration + this.hoverPosition * this.duration;\n        if (seekTime < 0) seekTime += 86400;\n      } else {\n        seekTime = this.hoverPosition * this.duration;\n      }\n\n      return {\n        seekTime: seekTime,\n        secondsSinceMidnight: secondsSinceMidnight\n      };\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      if (!this.rendered) {\n        // update() is always called after a render\n        return;\n      }\n\n      if (!this.shouldBeVisible()) {\n        this.$el.hide();\n        this.$el.css('left', '-100%');\n      } else {\n        var seekTime = this.getSeekTime();\n        var currentSeekTime = formatTime$1(seekTime.seekTime, this.useActualLiveTime); // only update dom if necessary, ie time actually changed\n\n        if (currentSeekTime !== this.displayedSeekTime) {\n          this.$seekTimeEl.text(currentSeekTime);\n          this.displayedSeekTime = currentSeekTime;\n        }\n\n        if (this.durationShown) {\n          this.$durationEl.show();\n          var currentDuration = formatTime$1(this.actualLiveTime ? seekTime.secondsSinceMidnight : this.duration, this.actualLiveTime);\n\n          if (currentDuration !== this.displayedDuration) {\n            this.$durationEl.text(currentDuration);\n            this.displayedDuration = currentDuration;\n          }\n        } else {\n          this.$durationEl.hide();\n        } // the element must be unhidden before its width is requested, otherwise it's width will be reported as 0\n\n\n        this.$el.show();\n        var containerWidth = this.mediaControl.$seekBarContainer.width();\n        var elWidth = this.$el.width();\n        var elLeftPos = this.hoverPosition * containerWidth;\n        elLeftPos -= elWidth / 2;\n        elLeftPos = Math.max(0, Math.min(elLeftPos, containerWidth - elWidth));\n        this.$el.css('left', elLeftPos);\n      }\n    }\n  }, {\n    key: \"shouldBeVisible\",\n    value: function shouldBeVisible() {\n      return this.mediaControlContainer && this.mediaControlContainer.settings.seekEnabled && this.hoveringOverSeekBar && this.hoverPosition !== null && this.duration !== null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.rendered = true;\n      this.displayedDuration = null;\n      this.displayedSeekTime = null;\n      this.$el.html(this.template());\n      this.$el.hide();\n      this.mediaControl.$el.append(this.el);\n      this.$seekTimeEl = this.$el.find('[data-seek-time]');\n      this.$durationEl = this.$el.find('[data-duration]');\n      this.$durationEl.hide();\n      this.update();\n    }\n  }]);\n\n  return SeekTime;\n}(UICorePlugin);\n\nvar SourcesPlugin =\n/*#__PURE__*/\nfunction (_CorePlugin) {\n  _inherits(SourcesPlugin, _CorePlugin);\n\n  function SourcesPlugin() {\n    _classCallCheck(this, SourcesPlugin);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SourcesPlugin).apply(this, arguments));\n  }\n\n  _createClass(SourcesPlugin, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.core, Events.CORE_CONTAINERS_CREATED, this.onContainersCreated);\n    }\n  }, {\n    key: \"onContainersCreated\",\n    value: function onContainersCreated() {\n      var firstValidSource = this.core.containers.filter(function (container) {\n        return container.playback.name !== 'no_op';\n      })[0] || this.core.containers[0];\n\n      if (firstValidSource) {\n        this.core.containers.forEach(function (container) {\n          if (container !== firstValidSource) container.destroy();\n        });\n      }\n    }\n  }, {\n    key: \"name\",\n    get: function get() {\n      return 'sources';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.5\"\n      };\n    }\n  }]);\n\n  return SourcesPlugin;\n}(CorePlugin);\n\nvar spinnerHTML = \"<div data-bounce1></div><div data-bounce2></div><div data-bounce3></div>\\n\";\n\nvar css$6 = \".spinner-three-bounce[data-spinner] {\\n  position: absolute;\\n  margin: 0 auto;\\n  width: 70px;\\n  text-align: center;\\n  z-index: 999;\\n  left: 0;\\n  right: 0;\\n  margin-left: auto;\\n  margin-right: auto;\\n  /* center vertically */\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n          transform: translateY(-50%); }\\n  .spinner-three-bounce[data-spinner] > div {\\n    width: 18px;\\n    height: 18px;\\n    background-color: #FFFFFF;\\n    border-radius: 100%;\\n    display: inline-block;\\n    -webkit-animation: bouncedelay 1.4s infinite ease-in-out;\\n            animation: bouncedelay 1.4s infinite ease-in-out;\\n    /* Prevent first frame from flickering when animation starts */\\n    -webkit-animation-fill-mode: both;\\n            animation-fill-mode: both; }\\n  .spinner-three-bounce[data-spinner] [data-bounce1] {\\n    -webkit-animation-delay: -0.32s;\\n            animation-delay: -0.32s; }\\n  .spinner-three-bounce[data-spinner] [data-bounce2] {\\n    -webkit-animation-delay: -0.16s;\\n            animation-delay: -0.16s; }\\n\\n@-webkit-keyframes bouncedelay {\\n  0%, 80%, 100% {\\n    -webkit-transform: scale(0);\\n            transform: scale(0); }\\n  40% {\\n    -webkit-transform: scale(1);\\n            transform: scale(1); } }\\n\\n@keyframes bouncedelay {\\n  0%, 80%, 100% {\\n    -webkit-transform: scale(0);\\n            transform: scale(0); }\\n  40% {\\n    -webkit-transform: scale(1);\\n            transform: scale(1); } }\\n\";\nstyleInject(css$6);\n\nvar SpinnerThreeBouncePlugin =\n/*#__PURE__*/\nfunction (_UIContainerPlugin) {\n  _inherits(SpinnerThreeBouncePlugin, _UIContainerPlugin);\n\n  _createClass(SpinnerThreeBouncePlugin, [{\n    key: \"name\",\n    get: function get() {\n      return 'spinner';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.5\"\n      };\n    }\n  }, {\n    key: \"attributes\",\n    get: function get() {\n      return {\n        'data-spinner': '',\n        'class': 'spinner-three-bounce'\n      };\n    }\n  }]);\n\n  function SpinnerThreeBouncePlugin(container) {\n    var _this;\n\n    _classCallCheck(this, SpinnerThreeBouncePlugin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SpinnerThreeBouncePlugin).call(this, container));\n    _this.template = template(spinnerHTML);\n    _this.showTimeout = null;\n\n    _this.listenTo(_this.container, Events.CONTAINER_STATE_BUFFERING, _this.onBuffering);\n\n    _this.listenTo(_this.container, Events.CONTAINER_STATE_BUFFERFULL, _this.onBufferFull);\n\n    _this.listenTo(_this.container, Events.CONTAINER_STOP, _this.onStop);\n\n    _this.listenTo(_this.container, Events.CONTAINER_ENDED, _this.onStop);\n\n    _this.listenTo(_this.container, Events.CONTAINER_ERROR, _this.onStop);\n\n    _this.render();\n\n    return _this;\n  }\n\n  _createClass(SpinnerThreeBouncePlugin, [{\n    key: \"onBuffering\",\n    value: function onBuffering() {\n      this.show();\n    }\n  }, {\n    key: \"onBufferFull\",\n    value: function onBufferFull() {\n      this.hide();\n    }\n  }, {\n    key: \"onStop\",\n    value: function onStop() {\n      this.hide();\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      var _this2 = this;\n\n      if (this.showTimeout === null) this.showTimeout = setTimeout(function () {\n        return _this2.$el.show();\n      }, 300);\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      if (this.showTimeout !== null) {\n        clearTimeout(this.showTimeout);\n        this.showTimeout = null;\n      }\n\n      this.$el.hide();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.$el.html(this.template());\n      this.container.$el.append(this.$el);\n      this.$el.hide();\n      if (this.container.buffering) this.onBuffering();\n      return this;\n    }\n  }]);\n\n  return SpinnerThreeBouncePlugin;\n}(UIContainerPlugin);\n\nvar StatsPlugin =\n/*#__PURE__*/\nfunction (_ContainerPlugin) {\n  _inherits(StatsPlugin, _ContainerPlugin);\n\n  _createClass(StatsPlugin, [{\n    key: \"name\",\n    get: function get() {\n      return 'stats';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.5\"\n      };\n    }\n  }]);\n\n  function StatsPlugin(container) {\n    var _this;\n\n    _classCallCheck(this, StatsPlugin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(StatsPlugin).call(this, container));\n\n    _this.setInitialAttrs();\n\n    _this.reportInterval = _this.options.reportInterval || 5000;\n    _this.state = 'IDLE';\n    return _this;\n  }\n\n  _createClass(StatsPlugin, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.container.playback, Events.PLAYBACK_PLAY, this.onPlay);\n      this.listenTo(this.container, Events.CONTAINER_STOP, this.onStop);\n      this.listenTo(this.container, Events.CONTAINER_ENDED, this.onStop);\n      this.listenTo(this.container, Events.CONTAINER_DESTROYED, this.onStop);\n      this.listenTo(this.container, Events.CONTAINER_STATE_BUFFERING, this.onBuffering);\n      this.listenTo(this.container, Events.CONTAINER_STATE_BUFFERFULL, this.onBufferFull);\n      this.listenTo(this.container, Events.CONTAINER_STATS_ADD, this.onStatsAdd);\n      this.listenTo(this.container, Events.CONTAINER_BITRATE, this.onStatsAdd);\n      this.listenTo(this.container.playback, Events.PLAYBACK_STATS_ADD, this.onStatsAdd);\n    }\n  }, {\n    key: \"setInitialAttrs\",\n    value: function setInitialAttrs() {\n      this.firstPlay = true;\n      this.startupTime = 0;\n      this.rebufferingTime = 0;\n      this.watchingTime = 0;\n      this.rebuffers = 0;\n      this.externalMetrics = {};\n    }\n  }, {\n    key: \"onPlay\",\n    value: function onPlay() {\n      this.state = 'PLAYING';\n      this.watchingTimeInit = Date.now();\n      if (!this.intervalId) this.intervalId = setInterval(this.report.bind(this), this.reportInterval);\n    }\n  }, {\n    key: \"onStop\",\n    value: function onStop() {\n      clearInterval(this.intervalId);\n      this.report();\n      this.intervalId = undefined;\n      this.state = 'STOPPED';\n    }\n  }, {\n    key: \"onBuffering\",\n    value: function onBuffering() {\n      if (this.firstPlay) this.startupTimeInit = Date.now();else this.rebufferingTimeInit = Date.now();\n      this.state = 'BUFFERING';\n      this.rebuffers++;\n    }\n  }, {\n    key: \"onBufferFull\",\n    value: function onBufferFull() {\n      if (this.firstPlay && this.startupTimeInit) {\n        this.firstPlay = false;\n        this.startupTime = Date.now() - this.startupTimeInit;\n        this.watchingTimeInit = Date.now();\n      } else if (this.rebufferingTimeInit) {\n        this.rebufferingTime += this.getRebufferingTime();\n      }\n\n      this.rebufferingTimeInit = undefined;\n      this.state = 'PLAYING';\n    }\n  }, {\n    key: \"getRebufferingTime\",\n    value: function getRebufferingTime() {\n      return Date.now() - this.rebufferingTimeInit;\n    }\n  }, {\n    key: \"getWatchingTime\",\n    value: function getWatchingTime() {\n      var totalTime = Date.now() - this.watchingTimeInit;\n      return totalTime - this.rebufferingTime;\n    }\n  }, {\n    key: \"isRebuffering\",\n    value: function isRebuffering() {\n      return !!this.rebufferingTimeInit;\n    }\n  }, {\n    key: \"onStatsAdd\",\n    value: function onStatsAdd(metric) {\n      $.extend(this.externalMetrics, metric);\n    }\n  }, {\n    key: \"getStats\",\n    value: function getStats() {\n      var metrics = {\n        startupTime: this.startupTime,\n        rebuffers: this.rebuffers,\n        rebufferingTime: this.isRebuffering() ? this.rebufferingTime + this.getRebufferingTime() : this.rebufferingTime,\n        watchingTime: this.isRebuffering() ? this.getWatchingTime() - this.getRebufferingTime() : this.getWatchingTime()\n      };\n      $.extend(metrics, this.externalMetrics);\n      return metrics;\n    }\n  }, {\n    key: \"report\",\n    value: function report() {\n      this.container.statsReport(this.getStats());\n    }\n  }]);\n\n  return StatsPlugin;\n}(ContainerPlugin);\n\nvar watermarkHTML = \"<div class=\\\"clappr-watermark\\\" data-watermark data-watermark-<%=position %>>\\n<% if(typeof imageLink !== 'undefined') { %>\\n<a target=\\\"_blank\\\" href=\\\"<%= imageLink %>\\\">\\n<% } %>\\n<img src=\\\"<%= imageUrl %>\\\">\\n<% if(typeof imageLink !== 'undefined') { %>\\n</a>\\n<% } %>\\n</div>\\n\";\n\nvar css$7 = \".clappr-watermark[data-watermark] {\\n  position: absolute;\\n  min-width: 70px;\\n  max-width: 200px;\\n  width: 12%;\\n  text-align: center;\\n  z-index: 10; }\\n\\n.clappr-watermark[data-watermark] a {\\n  outline: none;\\n  cursor: pointer; }\\n\\n.clappr-watermark[data-watermark] img {\\n  max-width: 100%; }\\n\\n.clappr-watermark[data-watermark-bottom-left] {\\n  bottom: 10px;\\n  left: 10px; }\\n\\n.clappr-watermark[data-watermark-bottom-right] {\\n  bottom: 10px;\\n  right: 42px; }\\n\\n.clappr-watermark[data-watermark-top-left] {\\n  top: 10px;\\n  left: 10px; }\\n\\n.clappr-watermark[data-watermark-top-right] {\\n  top: 10px;\\n  right: 37px; }\\n\";\nstyleInject(css$7);\n\nvar WaterMarkPlugin =\n/*#__PURE__*/\nfunction (_UIContainerPlugin) {\n  _inherits(WaterMarkPlugin, _UIContainerPlugin);\n\n  _createClass(WaterMarkPlugin, [{\n    key: \"name\",\n    get: function get() {\n      return 'watermark';\n    }\n  }, {\n    key: \"supportedVersion\",\n    get: function get() {\n      return {\n        min: \"0.4.5\"\n      };\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return template(watermarkHTML);\n    }\n  }]);\n\n  function WaterMarkPlugin(container) {\n    var _this;\n\n    _classCallCheck(this, WaterMarkPlugin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(WaterMarkPlugin).call(this, container));\n\n    _this.configure();\n\n    return _this;\n  }\n\n  _createClass(WaterMarkPlugin, [{\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.listenTo(this.container, Events.CONTAINER_PLAY, this.onPlay);\n      this.listenTo(this.container, Events.CONTAINER_STOP, this.onStop);\n      this.listenTo(this.container, Events.CONTAINER_OPTIONS_CHANGE, this.configure);\n    }\n  }, {\n    key: \"configure\",\n    value: function configure() {\n      this.position = this.options.position || 'bottom-right';\n\n      if (this.options.watermark) {\n        this.imageUrl = this.options.watermark;\n        this.imageLink = this.options.watermarkLink;\n        this.render();\n      } else {\n        this.$el.remove();\n      }\n    }\n  }, {\n    key: \"onPlay\",\n    value: function onPlay() {\n      if (!this.hidden) this.$el.show();\n    }\n  }, {\n    key: \"onStop\",\n    value: function onStop() {\n      this.$el.hide();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.$el.hide();\n      var templateOptions = {\n        position: this.position,\n        imageUrl: this.imageUrl,\n        imageLink: this.imageLink\n      };\n      this.$el.html(this.template(templateOptions));\n      this.container.$el.append(this.$el);\n      return this;\n    }\n  }]);\n\n  return WaterMarkPlugin;\n}(UIContainerPlugin);\n\n// Copyright 2014 Globo.com Player authors. All rights reserved.\nvar version = \"0.4.5\";\nvar Plugins = {\n  ClickToPause: ClickToPausePlugin,\n  ClosedCaptions: ClosedCaptions,\n  DVRControls: DVRControls,\n  EndVideo: EndVideo,\n  ErrorScreen: ErrorScreen,\n  Favicon: Favicon,\n  GoogleAnalytics: GoogleAnalytics,\n  MediaControl: MediaControl,\n  Poster: PosterPlugin,\n  SeekTime: SeekTime,\n  Sources: SourcesPlugin,\n  SpinnerThreeBounce: SpinnerThreeBouncePlugin,\n  Stats: StatsPlugin,\n  WaterMark: WaterMarkPlugin\n};\n\nexport { ClickToPausePlugin as ClickToPause, ClosedCaptions, DVRControls, EndVideo, ErrorScreen, Favicon, GoogleAnalytics, MediaControl, Plugins, PosterPlugin as Poster, SeekTime, SourcesPlugin as Sources, SpinnerThreeBouncePlugin as SpinnerThreeBounce, StatsPlugin as Stats, index as Vendor, WaterMarkPlugin as WaterMark, version };\n","// Copyright 2014 Globo.com Player authors. All rights reserved.\n// Use of this source code is governed by a BSD-style\n// license that can be found in the LICENSE file.\n\nimport ClapprCore, { Loader } from '@clappr/core'\nimport { Plugins, Vendor } from '@clappr/plugins'\n\nconst version = VERSION\n\nfor (let plugin of Object.values(Plugins))\n  Loader.registerPlugin(plugin)\n\n// TODO: remove on 0.5.x (backward-compatibility only)\nconst {\n  ClickToPause,\n  ClosedCaptions,\n  DVRControls,\n  EndVideo,\n  ErrorScreen,\n  Favicon,\n  GoogleAnalytics,\n  MediaControl,\n  Poster,\n  SeekTime,\n  Sources,\n  SpinnerThreeBounce,\n  Stats,\n  WaterMark,\n} = Plugins\n\nexport default {\n  ...ClapprCore,\n  ClickToPause,\n  ClosedCaptions,\n  DVRControls,\n  EndVideo,\n  ErrorScreen,\n  Favicon,\n  GoogleAnalytics,\n  MediaControl,\n  Poster,\n  SeekTime,\n  Sources,\n  SpinnerThreeBounce,\n  Stats,\n  WaterMark,\n  Vendor,\n  Plugins,\n  version,\n}\n"],"names":["global","self","window","_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","value","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","p","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","call","_get","property","receiver","Reflect","get","base","object","hasOwnProperty","_superPropBase","desc","getOwnPropertyDescriptor","_slicedToArray","arr","Array","isArray","_arrayWithHoles","toString","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","_iterableToArrayLimit","_nonIterableRest","_toConsumableArray","arr2","_arrayWithoutHoles","iter","from","_iterableToArray","_nonIterableSpread","find","predicate","this","len","thisArg","arguments","k","kValue","$","Media","mp4","Zepto","classList","camelize","uniq","emptyArray","concat","filter","slice","document","elementDisplay","classCache","cssNumber","column-count","columns","font-weight","line-height","opacity","z-index","zoom","fragmentRE","singleTagRE","tagExpanderRE","rootNodeRE","capitalRE","methodAttributes","table","createElement","tableRow","containers","tr","tbody","thead","tfoot","td","th","*","readyRE","simpleSelectorRE","class2type","zepto","tempParent","propMap","tabindex","readonly","for","class","maxlength","cellspacing","cellpadding","rowspan","colspan","usemap","frameborder","contenteditable","type","String","isFunction","isWindow","isDocument","nodeType","DOCUMENT_NODE","isObject","isPlainObject","likeArray","dasherize","str","replace","toLowerCase","classRE","name","RegExp","maybeAddPx","children","element","map","childNodes","node","Z","dom","selector","extend","source","deep","undefined$1","filtered","nodes","funcArg","context","arg","idx","payload","setAttribute","removeAttribute","className","klass","svg","baseVal","deserializeValue","test","parseJSON","e","traverseNode","fun","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","match","parent","parentNode","temp","appendChild","qsa","indexOf","removeChild","chr","toUpperCase","array","item","fragment","html","properties","container","$1","innerHTML","each","attr","isZ","init","trim","ready","args","shift","forEach","found","maybeID","maybeClass","nameOnly","isSimple","getElementById","getElementsByClassName","getElementsByTagName","querySelectorAll","contains","documentElement","isEmptyObject","isNumeric","val","num","Number","isNaN","isFinite","inArray","elem","camelCase","uuid","support","expr","noop","elements","callback","values","fn","apply","grep","JSON","parse","split","reduce","sort","splice","toArray","el","readyState","body","addEventListener","size","remove","every","not","add","is","excludes","has","eq","first","last","$this","some","closest","collection","_","parents","ancestors","pluck","contents","contentDocument","siblings","child","empty","show","nodeName","display","style","getComputedStyle","getPropertyValue","replaceWith","newContent","before","wrap","structure","func","clone","index","wrapAll","cloneNode","append","wrapInner","unwrap","hide","css","toggle","setting","prev","originHtml","text","newText","textContent","join","result","getAttribute","removeAttr","attribute","prop","removeProp","data","attrName","multiple","selected","offset","coordinates","coords","parentOffset","offsetParent","top","left","getBoundingClientRect","pageXOffset","pageYOffset","width","Math","round","height","computedStyle","removeProperty","cssText","hasClass","addClass","cls","removeClass","toggleClass","when","scrollTop","hasScrollTop","scrollTo","scrollX","scrollLeft","hasScrollLeft","scrollY","position","parseFloat","detach","dimension","dimensionProperty","m","operator","operatorIndex","inside","argType","copyByClone","nextSibling","firstChild","parentInDocument","insertBefore","src","ownerDocument","defaultView","jsonpID","Date","rscript","scriptTypeRE","xmlTypeRE","blankRE","originAnchor","triggerGlobal","settings","eventName","event","Event","trigger","isDefaultPrevented","triggerAndReturn","ajaxBeforeSend","xhr","beforeSend","ajaxSuccess","deferred","success","resolveWith","ajaxComplete","ajaxError","error","rejectWith","status","complete","active","ajaxStop","appendQuery","url","query","parseArguments","dataType","href","location","ajaxJSONP","options","ajax","responseData","abortTimeout","_callbackName","jsonpCallback","callbackName","script","originalCallback","abort","errorType","triggerHandler","promise","on","clearTimeout","off","head","timeout","setTimeout","ajaxSettings","XMLHttpRequest","accepts","json","xml","crossDomain","processData","cache","dataFilter","urlAnchor","hashIndex","Deferred","ajaxStart","protocol","host","param","traditional","serializeData","hasPlaceholder","now","jsonp","mime","headers","setHeader","nativeSetHeader","setRequestHeader","mimeType","overrideMimeType","contentType","onreadystatechange","mimeToDataType","getResponseHeader","responseType","response","responseText","ajaxDataFilter","eval","responseXML","statusText","async","open","username","password","xhrFields","send","post","getJSON","load","parts","escape","encodeURIComponent","params","serialize","scope","hash","Callbacks","memory","fired","firing","firingStart","firingLength","firingIndex","list","stack","once","fire","stopOnFalse","disable","start","unique","disabled","lock","locked","fireWith","tuples","state","always","fail","then","fns","defer","tuple","returned","resolve","reject","progress","notify","stateString","sub","progressValues","progressContexts","resolveContexts","resolveValues","remain","updateFn","ctx","notifyWith","_zid","isString","handlers","specialEvents","focusinSupported","focus","blur","hover","mouseenter","mouseleave","zid","findHandlers","ns","matcher","handler","sel","eventCapture","captureSetting","del","realEvent","events","delegator","capture","id","set","related","relatedTarget","proxy","compatible","isImmediatePropagationStopped","_args","preventDefault","stopPropagation","removeEventListener","click","mousedown","mouseup","mousemove","proxyFn","unshift","bind","unbind","one","returnTrue","returnFalse","ignoreProperties","eventMethods","stopImmediatePropagation","sourceMethod","timeStamp","defaultPrevented","returnValue","getPreventDefault","createProxy","originalEvent","delegate","undelegate","live","die","autoRemove","evt","currentTarget","liveFired","dispatchEvent","createEvent","bubbles","initEvent","nativeGetComputedStyle","pseudoElement","oldQsa","oldMatches","visible","filters","hidden","checked","filterRe","childRe","classTag","process","exec","taggedParent","console","n","viewportObject","ua","BROWSER_DATA","group","identifier","versionIdentifier","OS_DATA","version","versionSeparator","Browser","setBrowserVersion","browserObject","splitVersion","fullVersion","majorVersion","parseInt","minorVersion","setOsVersion","separator","osObject","finalSeparator","substr","browserInfo","extra","navigator","appName","appVersion","getBrowserInfo","userAgent","assign","propDescriptor","Surrogate","_parent","_getPrototypeOf2","_this","_len","_key","initialize","isEdge","isChrome","isSafari","isFirefox","isLegacyIE","ActiveXObject","isIE","isIE11","isChromecast","isMobile","isiOS","isAndroid","isWindowsPhone","isWin8App","isWiiU","isPS4","hasLocalstorage","localStorage","setItem","removeItem","hasFlash","mimeTypes","enabledPlugin","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","browser","browserRegExpResult","versionRegExpResult","getBrowserData","os","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","osRegExpResult","getOsData","viewport","device","orientation","setViewportOrientation","Fullscreen","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","querySelector","webkitEnterFullScreen","cancelFullscreen","exitFullscreen","webkitCancelFullScreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","Config","volume","_defaultConfig","domain","_createKeyspace","_defaultValueFor","QueryString","paramsString","pl","search","decode","s","decodeURIComponent","substring","_urlParams","_hashParams","seekStringToSeconds","paramName","seconds","seekString","hashParams","factor","h","suffix","time","idsCounter","uniqueId","prefix","isNumber","currentScriptUrl","scripts","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","getBrowserLanguage","language","canAutoPlayMedia","cb","inline","muted","play","timeoutId","setResult","Error","videoStack","DomRecycler","recycleVideo","tagName","attributes","DoubleEventHandler","delay","lastTime","prevented","currentTime","getTime","diffTime","Utils","formatTime","paddedHours","minutes","hours","days","out","performance","removeArrayItem","listContainsIgnoreCase","items","itemEach","BOLD","WARN","ERROR","COLORS","DESCRIPTIONS","Log","level","offLevel","BLACKLIST","log","previousLevel","newLevel","message","color","klassDescription","LEVEL_DEBUG","LEVEL_INFO","LEVEL_WARN","LEVEL_ERROR","getInstance","_instance","setLevel","debug","info","warn","eventSplitter","eventsApi","action","rest","names","l","triggerEvents","ev","a1","a2","a3","run","exception","Events","_events","_once","retain","j","keys","_callback","allEvents","all","listeningTo","_listeningTo","_listenId","Custom","listenMethods","listenTo","listenToOnce","method","PLAYER_READY","PLAYER_RESIZE","PLAYER_FULLSCREEN","PLAYER_PLAY","PLAYER_PAUSE","PLAYER_STOP","PLAYER_ENDED","PLAYER_SEEK","PLAYER_ERROR","PLAYER_TIMEUPDATE","PLAYER_VOLUMEUPDATE","PLAYER_SUBTITLE_AVAILABLE","PLAYBACK_PROGRESS","PLAYBACK_TIMEUPDATE","PLAYBACK_READY","PLAYBACK_BUFFERING","PLAYBACK_BUFFERFULL","PLAYBACK_SETTINGSUPDATE","PLAYBACK_LOADEDMETADATA","PLAYBACK_HIGHDEFINITIONUPDATE","PLAYBACK_BITRATE","PLAYBACK_LEVELS_AVAILABLE","PLAYBACK_LEVEL_SWITCH_START","PLAYBACK_LEVEL_SWITCH_END","PLAYBACK_PLAYBACKSTATE","PLAYBACK_DVR","PLAYBACK_MEDIACONTROL_DISABLE","PLAYBACK_MEDIACONTROL_ENABLE","PLAYBACK_ENDED","PLAYBACK_PLAY_INTENT","PLAYBACK_PLAY","PLAYBACK_PAUSE","PLAYBACK_SEEK","PLAYBACK_SEEKED","PLAYBACK_STOP","PLAYBACK_ERROR","PLAYBACK_STATS_ADD","PLAYBACK_FRAGMENT_LOADED","PLAYBACK_LEVEL_SWITCH","PLAYBACK_SUBTITLE_AVAILABLE","PLAYBACK_SUBTITLE_CHANGED","CORE_CONTAINERS_CREATED","CORE_ACTIVE_CONTAINER_CHANGED","CORE_OPTIONS_CHANGE","CORE_READY","CORE_FULLSCREEN","CORE_RESIZE","CORE_SCREEN_ORIENTATION_CHANGED","CORE_MOUSE_MOVE","CORE_MOUSE_LEAVE","CONTAINER_PLAYBACKSTATE","CONTAINER_PLAYBACKDVRSTATECHANGED","CONTAINER_BITRATE","CONTAINER_STATS_REPORT","CONTAINER_DESTROYED","CONTAINER_READY","CONTAINER_RESIZE","CONTAINER_ERROR","CONTAINER_LOADEDMETADATA","CONTAINER_SUBTITLE_AVAILABLE","CONTAINER_SUBTITLE_CHANGED","CONTAINER_TIMEUPDATE","CONTAINER_PROGRESS","CONTAINER_PLAY","CONTAINER_STOP","CONTAINER_PAUSE","CONTAINER_ENDED","CONTAINER_CLICK","CONTAINER_DBLCLICK","CONTAINER_CONTEXTMENU","CONTAINER_MOUSE_ENTER","CONTAINER_MOUSE_LEAVE","CONTAINER_SEEK","CONTAINER_SEEKED","CONTAINER_VOLUME","CONTAINER_FULLSCREEN","CONTAINER_STATE_BUFFERING","CONTAINER_STATE_BUFFERFULL","CONTAINER_SETTINGSUPDATE","CONTAINER_HIGHDEFINITIONUPDATE","CONTAINER_MEDIACONTROL_SHOW","CONTAINER_MEDIACONTROL_HIDE","CONTAINER_MEDIACONTROL_DISABLE","CONTAINER_MEDIACONTROL_ENABLE","CONTAINER_STATS_ADD","CONTAINER_OPTIONS_CHANGE","MEDIACONTROL_RENDERED","MEDIACONTROL_FULLSCREEN","MEDIACONTROL_SHOW","MEDIACONTROL_HIDE","MEDIACONTROL_MOUSEMOVE_SEEKBAR","MEDIACONTROL_MOUSELEAVE_SEEKBAR","MEDIACONTROL_PLAYING","MEDIACONTROL_NOTPLAYING","MEDIACONTROL_CONTAINERCHANGED","MEDIACONTROL_OPTIONS_CHANGE","BaseObject","_Events","_options","delegateEventSplitter","UIObject","_BaseObject","cid","_ensureElement","delegateEvents","$el","stopListening","undelegateEvents","Function","setElement","attrs","PlayerError","core","FATAL","INFO","ErrorMixin","createError","useCodePrefix","origin","i18n","prefixedCode","code","defaultError","description","Levels","raw","errorData","UI","defaultUI","title","t","playerError","UICorePlugin","_UIObject","enabled","bindEvents","render","styleInject","ref","insertAt","styleSheet","createTextNode","Container","_i18n","playback","isReady","mediaControlDisabled","plugins","dblTapHandler","clickTimer","clickDelay","data-container","dblclick","touchend","contextmenu","ended","buffering","hasClosedCaptionsTracks","closedCaptionsTracks","closedCaptionsTrackId","trackId","onProgress","timeUpdated","onBuffering","bufferfull","settingsUpdate","loadedMetadata","highDefinitionUpdate","updateBitrate","playbackStateChanged","playbackDvrStateChanged","disableMediaControl","enableMediaControl","onSeeked","onEnded","playing","paused","stopped","subtitleAvailable","subtitleChanged","track","dvrInUse","newBitrate","metrics","getPlaybackType","dvrEnabled","disableResizeObserver","plugin","destroy","duration","animate","isPlaying","getStartTimeOffset","getDuration","_error","metadata","timeProgress","current","stop","pause","_this2","chromeless","allowUserInteraction","cancelClicked","_this3","handle","seek","percentage","getPlugin","isHD","isHighDefinitionInUse","_this4","resizeObserverInterval","setInterval","checkResize","clearInterval","newSize","clientWidth","clientHeight","_ref","currentSize","updateStyle","configure","enableResizeObserver","Playback","_consented","NO_OP","canAutoPlay","canPlay","VOD","AOD","LIVE","ContainerFactory","loader","sources","createContainer","playbackPlugins","resolvedSource","playbackPlugin","findPlaybackPlugin","addContainerPlugins","containerPlugins","Plugin","addPlugin","Core","configureDomRecycler","firstResize","_boundFullscreenHandler","handleFullscreenChange","handleWindowResize","webkitfullscreenchange","data-player","_mediaControl","dummyMediaControl","_dummyMediaControl","_activeContainer","activeContainer","containerFactory","prepareContainers","createContainers","setupContainers","resolveOnContainersReady","isFullscreen","setFullscreen","setPlayerSize","previousSize","resize","triggerResize","oldHeight","oldWidth","computedSize","updateSize","innerWidth","innerHeight","_screenOrientation","c","removeContainer","setupContainer","renderContainers","appendToParent","_this5","activePlayback","playbackEl","fullscreenEl","_this6","appendTo","parentElement","CoreFactory","player","addCorePlugins","corePlugins","setupExternalInterface","externalFunctions","getExternalInterface","global$1","defaultSetTimout","defaultClearTimeout","cachedSetTimeout","cachedClearTimeout","runTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","marker","runClearTimeout","nextTick","Item","addListener","removeListener","removeAllListeners","emit","performance$1","performanceNow","mozNow","msNow","oNow","webkitNow","startTime","env","argv","versions","binding","cwd","chdir","dir","umask","hrtime","previousTimestamp","clocktime","floor","nanoseconds","platform","release","config","uptime","registry","semver","module","exports","createCommonjsModule","SemVer","NODE_DEBUG","SEMVER_SPEC_VERSION","MAX_SAFE_INTEGER","re","tokens","R","tok","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","MAINVERSION","MAINVERSIONLOOSE","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","PRERELEASE","PRERELEASELOOSE","BUILDIDENTIFIER","BUILD","FULLPLAIN","FULL","LOOSEPLAIN","LOOSE","GTLT","XRANGEIDENTIFIERLOOSE","XRANGEIDENTIFIER","XRANGEPLAIN","XRANGEPLAINLOOSE","XRANGE","XRANGELOOSE","COERCE","COERCERTL","LONETILDE","TILDETRIM","TILDE","TILDELOOSE","LONECARET","CARETTRIM","CARET","CARETLOOSE","COMPARATORLOOSE","COMPARATOR","COMPARATORTRIM","HYPHENRANGE","HYPHENRANGELOOSE","STAR","loose","includePrerelease","er","major","minor","patch","prerelease","build","format","valid","v","clean","compare","other","compareMain","comparePre","compareIdentifiers","a","b","compareBuild","inc","diff","version1","version2","v1","v2","defaultResult","numeric","anum","bnum","gt","lt","neq","gte","lte","cmp","op","Comparator","comp","ANY","rcompareIdentifiers","compareLoose","versionA","versionB","rcompare","rsort","Range","range","parseRange","isSatisfiable","comparators","remainingComparators","testComparator","pop","otherComparator","intersects","isX","hyphenReplace","$0","fM","fm","fp","fpr","fb","to","tM","tm","tp","tpr","tb","testSet","allowed","satisfies","outside","hilo","gtfn","ltefn","ltfn","ecomp","high","low","comparator","r","rangeTmp","sameDirectionIncreasing","sameDirectionDecreasing","sameSemVer","differentDirectionsInclusive","oppositeDirectionsLessThan","oppositeDirectionsGreaterThan","comps","hr","compRe","M","pr","ret","replaceCaret","replaceCarets","replaceTilde","replaceTildes","gtlt","xM","xm","xp","anyX","replaceXRange","replaceXRanges","replaceStars","parseComparator","thisComparators","rangeComparators","thisComparator","rangeComparator","toComparators","maxSatisfying","max","maxSV","rangeObj","minSatisfying","min","minSV","minVersion","minver","compver","validRange","ltr","gtr","parsed","r1","r2","coerce","rtl","lastIndex","filterPluginsByType","entries","_ref3","_ref4","Loader","playbacks","externalPlugins","playerId","_Loader$registeredPlu","registeredPlugins","validateExternalPluginsType","addExternalPlugins","entry","_entry$prototype","supportedVersion","maxVersion","versionRange","pluginEntry","checkVersionSupport","pluginRegistry","previousEntry","playbackEntry","previousEntryIdx","findIndex","memo","pluginsMap","reduceRight","groupPluginsByType","removeDups","errorMessage","baseUrl","Player","defaultOptions","persistConfig","_normalizeSources","disableKeyboardShortcuts","_registerOptionEventListeners","_coreFactory","parentId","setParentId","attachTo","_loader","_ready","onReady","onResize","onPlay","onPause","onStop","onSeek","onError","onTimeUpdate","onVolumeUpdate","onSubtitleAvailable","_addEventListeners","_onReady","_containerChanged","_onFullscreenChange","_onResize","_onPlay","_onPause","_onStop","_onEnded","_onSeek","_onError","_onTimeUpdate","_onVolumeUpdate","_onSubtitleAvailable","newEvents","hasNewEvents","userEvent","eventType","eventsMapping","eventFunction","_addContainerEventListeners","fullscreen","getCurrentTime","autoPlay","getCurrentPlayback","consent","seekPercentage","mute","unmute","isDvrEnabled","isDvrInUse","ContainerPlugin","CorePlugin","UIContainerPlugin","evaluate","interpolate","noMatch","escapes","'","\\","\r","\n","\t"," "," ","escaper","htmlEntities","&","<",">","\"","entityRe","escapeExpr","string","counter","tmpl","variable","template","MIMETYPES","codec","ogg","3gpp","webm","mkv","m3u8","AUDIO_MIMETYPES","wav","mp3","aac","oga","KNOWN_AUDIO_MIMETYPES","acc","UNKNOWN_ERROR","HTML5Video","_Playback","_destroyed","_loadStarted","_isBuffering","_playheadMoving","_playheadMovingTimer","_stopped","_ccTrackId","_setupSrc","disableContextMenu","disableVideoTagContextMenu","posterUrl","playbackConfig","preload","poster","defaultMuted","loop","crossOrigin","x-webkit-playsinline","playInline","controls","useVideoTagDefaultControls","playsinline","crossorigin","default","right","externalTracks","_setupExternalTracks","attemptAutoPlay","isAudioOnly","resourceUrl","_mimeTypesForUrl","audioOnly","data-html5-video","canplay","canplaythrough","durationchange","loadeddata","loadedmetadata","seeking","seeked","stalled","timeupdate","waiting","disableCanAutoPlay","opts","autoPlayTimeout","tracks","_externalTracks","kind","label","lang","srcUrl","_ccIsSetup","_src","_handleBufferingEvents","_updateSettings","autoSeekFromUrl","_checkInitialSeek","_onProgress","seekEnabled","isSeekEnabled","onDemandType","Infinity","eventHandler","_stopPlayheadMovingChecks","_playheadMovingTimeOnCheck","_determineIfPlayheadMoving","_checkForClosedCaptions","_startPlayheadMovingChecks","playheadShouldBeMoving","HAVE_FUTURE_DATA","isUnknownError","formattedError","handleTextTrackChange","textTracks","garbage","seekTime","total","buffered","bufferedPos","end","_isReadyState","isHTML5Video","_handleTextTrackChange","mode","showingTrack","mimeTypesByExtension","extension","_canPlay","media","mediaType","canPlayType","HTML5Audio","_HTML5Video","HTMLImg","data-html-img","resource","NoOp","_noiseFrameNum","data-no-op","playbackNotSupported","playbackNotSupportedMessage","showForNoOp","_animate","buffer32","idata","createImageData","canvas","Uint32Array","buffer","random","pow","putImageData","_stop","_noise","_animationHandle","_loop","getContext","Styler","getStyleFor","Strings","_CorePlugin","_initializeMessages","_language","fallbackLang","_messages","en","back_to_live","playback_not_supported","default_error_title","default_error_message","pt","es","ru","fr","et","ar","strings","registerPlugin","registerPlayback","main","ClickToPausePlugin","_ContainerPlugin","pointerEnabled","ClosedCaptions","_UICorePlugin","closedCaptionsConfig","_title","_ariaLabel","ariaLabel","_labelCb","labelCallback","click [data-cc-button]","click [data-cc-select]","data-cc-controls","containerChanged","mediaControl","hideContextMenu","getCurrentContainer","onSubtitleChanged","onContainerStop","ccAvailable","renderCcButton","setCurrentContextMenuElement","dataset","ccSelect","hasCC","_trackId","contextMenuElement","$ccButton","disabledLabel","$fullscreen","insertAfter","prepend","DVRControls","click .live-button","data-dvr-controls","dvrChanged","shouldRender","useDvrControls","backToLive","EndVideo","exitFullscreenOnEnd","toggleFullscreen","ErrorScreen","disableErrorScreen","data-error-screen","onContainerChanged","reloadButton","reload","unbindReload","icon","reloadIcon","bindReload","playIcon","pauseIcon","oldIcon","Favicon","_container","changeFavicon","enable","setPlayIcon","setPauseIcon","resetIcon","fillStyle","d","path","Path2D","fill","toDataURL","createIcon","changeIcon","GoogleAnalytics","gaAccount","account","trackerName","gaTrackerName","domainName","gaDomainName","currentHDState","embedScript","_gat","addEventListeners","onload","onBufferFull","onPlaybackChanged","onVolumeChanged","CONTAINER_FULL_SCREEN","onFullscreen","onHD","onDVR","_gaq","playbackState","res","Kibo","KEY_NAMES_BY_CODE","8","9","13","16","17","18","20","27","32","37","38","39","40","48","49","50","51","52","53","54","55","56","57","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","112","113","114","115","116","117","118","119","120","121","122","123","KEY_CODES_BY_NAME","MODIFIERS","registerEvent","attachEvent","unregisterEvent","detachEvent","stringContains","neatString","capitalize","what","arrayIncludes","haystack","needle","extractModifiers","keyCombination","modifiers","extractKey","modifiersAndKey","keyName","keyCode","that","lastKeyCode","lastModifiers","keysDown","any","keysUp","downHandler","upHandler","unloader","upOrDown","registeredKeys","lastModifiersAndKey","registerKeys","newKeys","unregisterKeys","down","up","lastKey","modifier","stopIcon","volumeIcon","fullscreenIcon","MediaControl","currentPositionValue","currentDurationValue","keepVisible","fullScreenOnVideoTagSupported","setInitialVolume","kibo","focusElement","bindKeyEvents","userDisabled","stopDragHandler","stopDrag","updateDragHandler","updateDrag","playbackIsNOOP","data-media-control","click [data-play]","click [data-pause]","click [data-playpause]","click [data-stop]","click [data-playstop]","click [data-fullscreen]","click .bar-container[data-seekbar]","click .bar-container[data-volume]","click .drawer-icon[data-volume]","mouseenter .drawer-container[data-volume]","mouseleave .drawer-container[data-volume]","mousedown .bar-container[data-volume]","mousemove .bar-container[data-volume]","mousedown .bar-scrubber[data-seekbar]","mousemove .bar-container[data-seekbar]","mouseleave .bar-container[data-seekbar]","mouseenter .media-control-layer[data-controls]","mouseleave .media-control-layer[data-controls]","intendedVolume","setVolume","getVolume","onActiveContainerChanged","hideMediaControlDelay","playerResize","bindContainerEvents","changeTogglePlay","updateProgressBar","onLoadedMetadataOnVideoTag","unbindKeyEvents","initialVolume","restore","updateVolumeUI","video","webkitSupportsFullscreen","rendered","$volumeBarContainer","containerWidth","barWidth","$volumeBarBackground","pos","$volumeBarFill","$volumeBarScrubber","ceil","$volumeIcon","applyButtonStyle","$playPauseToggle","$playStopToggle","offsetX","pageX","$seekBarContainer","$seekBarHover","getVolumeFromUIEvent","draggingVolumeBar","$fullscreenToggle","hideVolumeBar","draggingSeekBar","$seekBarLoaded","$seekBarPosition","$seekBarScrubber","setSeekPercentage","isInitialVolume","persist","setWhenContainerReady","resetUserKeepVisible","hideVolumeId","loadedStart","loadedEnd","renderSeekBar","currentSeekBarPercentage","newPosition","newDuration","displayedPosition","$position","displayedDuration","$duration","userKeepVisible","mousePointerMoved","clientX","lastMouseX","clientY","lastMouseY","hideId","updateCursorStyle","_this7","isVisible","hideMediaControl","hasKeepVisibleRequested","hasDraggingAction","showing","newSettings","getSettings","stringify","$hdIndicator","$layer","$volumeContainer","resetIndicators","initializeIcons","displayedSeekBarPercentage","delta","_this8","_this9","bindKeyAndShow","togglePlayPause","seekRelative","mediacontrol","buttonsColor","buttons","seekbarColor","seekbar","_this10","createCachedElements","previousSeekPercentage","parseColors","PosterPlugin","_UIContainerPlugin","hasStartedPlaying","playRequested","update","data-poster","showOnVideoEnd","hasFatalError","showPlayButton","hidePlayButton","$playButton","updatePlayButton","updatePoster","hidePoster","showPoster","shouldHideOnPlay","custom","background-image","background","$playWrapper","formatTime$1","SeekTime","hoveringOverSeekBar","hoverPosition","firstFragDateTime","actualLiveTime","actualLiveServerTime","actualLiveServerTimeDiff","data-seek-time","mediaControlContainer","isLiveStreamWithDvr","showTime","hideTime","updateDuration","calculateHoverPosition","secondsSinceMidnight","useActualLiveTime","setHours","shouldBeVisible","getSeekTime","currentSeekTime","displayedSeekTime","$seekTimeEl","durationShown","$durationEl","currentDuration","elWidth","elLeftPos","SourcesPlugin","onContainersCreated","firstValidSource","SpinnerThreeBouncePlugin","showTimeout","data-spinner","StatsPlugin","setInitialAttrs","reportInterval","onStatsAdd","firstPlay","startupTime","rebufferingTime","watchingTime","rebuffers","externalMetrics","watchingTimeInit","intervalId","report","startupTimeInit","rebufferingTimeInit","getRebufferingTime","metric","isRebuffering","getWatchingTime","statsReport","getStats","Plugins","ClickToPause","Poster","Sources","SpinnerThreeBounce","Stats","WaterMark","WaterMarkPlugin","watermark","imageUrl","imageLink","watermarkLink","templateOptions","ClapprCore","Vendor"],"mappings":"yhBAAkC,oBAAXA,OAAyBA,OACpB,oBAATC,KAAuBA,KACZ,oBAAXC,OAAyBA,OAAS,GCFrD,SAASC,EAAQC,GAWf,OATED,EADoB,mBAAXE,QAAoD,iBAApBA,OAAOC,SACtC,SAAUF,GAClB,cAAcA,GAGN,SAAUA,GAClB,OAAOA,GAAyB,mBAAXC,QAAyBD,EAAIG,cAAgBF,QAAUD,IAAQC,OAAOG,UAAY,gBAAkBJ,IAI9GA,GAGjB,SAASK,EAAgBC,EAAUC,GACjC,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,qCAIxB,SAASC,EAAkBC,EAAQC,GACjC,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CACrC,IAAIE,EAAaH,EAAMC,GACvBE,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDC,OAAOC,eAAeT,EAAQI,EAAWM,IAAKN,IAIlD,SAASO,EAAad,EAAae,EAAYC,GAG7C,OAFID,GAAYb,EAAkBF,EAAYH,UAAWkB,GACrDC,GAAad,EAAkBF,EAAagB,GACzChB,EAGT,SAASiB,EAAUC,EAAUC,GAC3B,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIlB,UAAU,sDAGtBiB,EAASrB,UAAYc,OAAOS,OAAOD,GAAcA,EAAWtB,UAAW,CACrED,YAAa,CACXyB,MAAOH,EACPR,UAAU,EACVD,cAAc,KAGdU,GAAYG,EAAgBJ,EAAUC,GAG5C,SAASI,EAAgBC,GAIvB,OAHAD,EAAkBZ,OAAOc,eAAiBd,OAAOe,eAAiB,SAAyBF,GACzF,OAAOA,EAAEG,WAAahB,OAAOe,eAAeF,KAEvBA,GAGzB,SAASF,EAAgBE,EAAGI,GAM1B,OALAN,EAAkBX,OAAOc,gBAAkB,SAAyBD,EAAGI,GAErE,OADAJ,EAAEG,UAAYC,EACPJ,IAGcA,EAAGI,GAG5B,SAASC,EAAuBvC,GAC9B,QAAa,IAATA,EACF,MAAM,IAAIwC,eAAe,6DAG3B,OAAOxC,EAGT,SAASyC,EAA2BzC,EAAM0C,GACxC,OAAIA,GAAyB,iBAATA,GAAqC,mBAATA,EAIzCH,EAAuBvC,GAHrB0C,EAeX,SAASC,EAAK9B,EAAQ+B,EAAUC,GAkB9B,OAhBEF,EADqB,oBAAZG,SAA2BA,QAAQC,IACrCD,QAAQC,IAER,SAAclC,EAAQ+B,EAAUC,GACrC,IAAIG,EAdV,SAAwBC,EAAQL,GAC9B,MAAQvB,OAAOd,UAAU2C,eAAeR,KAAKO,EAAQL,IAEpC,QADfK,EAAShB,EAAgBgB,MAI3B,OAAOA,EAQQE,CAAetC,EAAQ+B,GAElC,GAAKI,EAAL,CACA,IAAII,EAAO/B,OAAOgC,yBAAyBL,EAAMJ,GAEjD,OAAIQ,EAAKL,IACAK,EAAKL,IAAIL,KAAKG,GAGhBO,EAAKrB,SAIJlB,EAAQ+B,EAAUC,GAAYhC,GAG5C,SAASyC,EAAeC,EAAKxC,GAC3B,OAeF,SAAyBwC,GACvB,GAAIC,MAAMC,QAAQF,GAAM,OAAOA,EAhBxBG,CAAgBH,IAuBzB,SAA+BA,EAAKxC,GAClC,KAAMX,OAAOC,YAAYgB,OAAOkC,IAAgD,uBAAxClC,OAAOd,UAAUoD,SAASjB,KAAKa,IACrE,OAGF,IAAIK,EAAO,GACPC,GAAK,EACLC,GAAK,EACLC,OAAKC,EAET,IACE,IAAK,IAAiCC,EAA7BC,EAAKX,EAAInD,OAAOC,cAAmBwD,GAAMI,EAAKC,EAAGC,QAAQC,QAChER,EAAKS,KAAKJ,EAAGlC,QAEThB,GAAK6C,EAAK5C,SAAWD,GAH8C8C,GAAK,IAK9E,MAAOS,GACPR,GAAK,EACLC,EAAKO,UAEL,IACOT,GAAsB,MAAhBK,EAAW,QAAWA,EAAW,iBAE5C,GAAIJ,EAAI,MAAMC,GAIlB,OAAOH,EAlDwBW,CAAsBhB,EAAKxC,IAyD5D,WACE,MAAM,IAAIJ,UAAU,wDA1D4C6D,GAGlE,SAASC,EAAmBlB,GAC1B,OAGF,SAA4BA,GAC1B,GAAIC,MAAMC,QAAQF,GAAM,CACtB,IAAK,IAAIxC,EAAI,EAAG2D,EAAO,IAAIlB,MAAMD,EAAIvC,QAASD,EAAIwC,EAAIvC,OAAQD,IAAK2D,EAAK3D,GAAKwC,EAAIxC,GAEjF,OAAO2D,GAPFC,CAAmBpB,IAe5B,SAA0BqB,GACxB,GAAIxE,OAAOC,YAAYgB,OAAOuD,IAAkD,uBAAzCvD,OAAOd,UAAUoD,SAASjB,KAAKkC,GAAgC,OAAOpB,MAAMqB,KAAKD,GAhBtFE,CAAiBvB,IAiDrD,WACE,MAAM,IAAI5C,UAAU,mDAlDuCoE,GAmExDvB,MAAMjD,UAAUyE,MAEnB3D,OAAOC,eAAekC,MAAMjD,UAAW,OAAQ,CAE7CwB,MAAO,SAAekD,GAEpB,GAAY,MAARC,KAAc,MAAM,IAAIvE,UAAU,iCACtC,IAAIuB,EAAIb,OAAO6D,MAEXC,EAAMjD,EAAElB,SAAW,EAEvB,GAAyB,mBAAdiE,EAA0B,MAAM,IAAItE,UAAU,gCAMzD,IAJA,IAAIyE,EAAUC,UAAU,GAEpBC,EAAI,EAEDA,EAAIH,GAAK,CAKd,IAAII,EAASrD,EAAEoD,GACf,GAAIL,EAAUvC,KAAK0C,EAASG,EAAQD,EAAGpD,GAAI,OAAOqD,EAElDD,QAUR,IAkzCWE,EAjzCPC,EAAQ,CACVC,IAFQ,k+DAMNC,EAAQ,WACV,IACIpE,EACAiE,EACAI,EAyCAC,EACAC,EAzCAC,EAAa,GACbC,EAASD,EAAWC,OACpBC,EAASF,EAAWE,OACpBC,EAAQH,EAAWG,MACnBC,EAAWlG,OAAOkG,SAClBC,EAAiB,GACjBC,EAAa,GACbC,EAAY,CACdC,eAAgB,EAChBC,QAAW,EACXC,cAAe,EACfC,cAAe,EACfC,QAAW,EACXC,UAAW,EACXC,KAAQ,GAENC,EAAa,qBACbC,EAAc,6BACdC,EAAgB,0EAChBC,EAAa,mBACbC,EAAY,WAEhBC,EAAmB,CAAC,MAAO,MAAO,OAAQ,OAAQ,OAAQ,QAAS,SAAU,UAEzEC,EAAQjB,EAASkB,cAAc,SAC/BC,EAAWnB,EAASkB,cAAc,MAClCE,EAAa,CACfC,GAAMrB,EAASkB,cAAc,SAC7BI,MAASL,EACTM,MAASN,EACTO,MAASP,EACTQ,GAAMN,EACNO,GAAMP,EACNQ,IAAK3B,EAASkB,cAAc,QAE1BU,EAAU,8BACVC,EAAmB,WACnBC,EAAa,GACbtE,EAAWsE,EAAWtE,SACtBuE,EAAQ,GAGRC,EAAahC,EAASkB,cAAc,OACpCe,EAAU,CACZC,SAAY,WACZC,SAAY,WACZC,IAAO,UACPC,MAAS,YACTC,UAAa,YACbC,YAAe,cACfC,YAAe,cACfC,QAAW,UACXC,QAAW,UACXC,OAAU,SACVC,YAAe,cACfC,gBAAmB,mBAEjBvF,EAAUD,MAAMC,SAAW,SAAUR,GACvC,OAAOA,aAAkBO,OAiB3B,SAASyF,EAAK9I,GACZ,OAAc,MAAPA,EAAc+I,OAAO/I,GAAO8H,EAAWtE,EAASjB,KAAKvC,KAAS,SAGvE,SAASgJ,EAAWpH,GAClB,MAAsB,YAAfkH,EAAKlH,GAGd,SAASqH,EAASjJ,GAChB,OAAc,MAAPA,GAAeA,GAAOA,EAAIF,OAGnC,SAASoJ,EAAWlJ,GAClB,OAAc,MAAPA,GAAeA,EAAImJ,UAAYnJ,EAAIoJ,cAG5C,SAASC,EAASrJ,GAChB,MAAoB,UAAb8I,EAAK9I,GAGd,SAASsJ,EAActJ,GACrB,OAAOqJ,EAASrJ,KAASiJ,EAASjJ,IAAQkB,OAAOe,eAAejC,IAAQkB,OAAOd,UAGjF,SAASmJ,EAAUvJ,GACjB,IAAIa,IAAWb,GAAO,WAAYA,GAAOA,EAAIa,OACzCiI,EAAOzD,EAAEyD,KAAK9I,GAClB,MAAO,YAAc8I,IAASG,EAASjJ,KAAS,SAAW8I,GAAmB,IAAXjI,GAAiC,iBAAVA,GAAsBA,EAAS,GAAKA,EAAS,KAAKb,GAmB9I,SAASwJ,EAAUC,GACjB,OAAOA,EAAIC,QAAQ,MAAO,KAAKA,QAAQ,wBAAyB,SAASA,QAAQ,oBAAqB,SAASA,QAAQ,KAAM,KAAKC,cASpI,SAASC,EAAQC,GACf,OAAOA,KAAQ3D,EAAaA,EAAW2D,GAAQ3D,EAAW2D,GAAQ,IAAIC,OAAO,UAAYD,EAAO,WAGlG,SAASE,EAAWF,EAAMjI,GACxB,MAAuB,iBAATA,GAAsBuE,EAAUqD,EAAUK,IAAwBjI,EAAfA,EAAQ,KAkB3E,SAASoI,EAASC,GAChB,MAAO,aAAcA,EAAUlE,EAAMxD,KAAK0H,EAAQD,UAAY3E,EAAE6E,IAAID,EAAQE,YAAY,SAAUC,GAChG,GAAqB,GAAjBA,EAAKjB,SAAe,OAAOiB,KAInC,SAASC,EAAEC,EAAKC,GACd,IAAI3J,EACAoE,EAAMsF,EAAMA,EAAIzJ,OAAS,EAE7B,IAAKD,EAAI,EAAGA,EAAIoE,EAAKpE,IAAKmE,KAAKnE,GAAK0J,EAAI1J,GAExCmE,KAAKlE,OAASmE,EACdD,KAAKwF,SAAWA,GAAY,GAuF9B,SAASC,EAAO9J,EAAQ+J,EAAQC,GAC9B,IAAKtJ,KAAOqJ,EAAYC,IAASpB,EAAcmB,EAAOrJ,KAASkC,EAAQmH,EAAOrJ,MACxEkI,EAAcmB,EAAOrJ,MAAUkI,EAAc5I,EAAOU,MAAOV,EAAOU,GAAO,IACzEkC,EAAQmH,EAAOrJ,MAAUkC,EAAQ5C,EAAOU,MAAOV,EAAOU,GAAO,IACjEoJ,EAAO9J,EAAOU,GAAMqJ,EAAOrJ,GAAMsJ,SAtQjCC,IAuQSF,EAAOrJ,KAAsBV,EAAOU,GAAOqJ,EAAOrJ,IAsC/D,SAASwJ,EAASC,EAAON,GACvB,OAAmB,MAAZA,EAAmBlF,EAAEwF,GAASxF,EAAEwF,GAAO/E,OAAOyE,GAWvD,SAASO,EAAQC,EAASC,EAAKC,EAAKC,GAClC,OAAOlC,EAAWgC,GAAOA,EAAIzI,KAAKwI,EAASE,EAAKC,GAAWF,EAG7D,SAASG,EAAaf,EAAMP,EAAMjI,GACvB,MAATA,EAAgBwI,EAAKgB,gBAAgBvB,GAAQO,EAAKe,aAAatB,EAAMjI,GAIvE,SAASyJ,EAAUjB,EAAMxI,GACvB,IAAI0J,EAAQlB,EAAKiB,WAAa,GAC1BE,EAAMD,QApURX,IAoUiBW,EAAME,QACzB,QArUEb,IAqUE/I,EAAuB,OAAO2J,EAAMD,EAAME,QAAUF,EACxDC,EAAMD,EAAME,QAAU5J,EAAQwI,EAAKiB,UAAYzJ,EAWjD,SAAS6J,EAAiB7J,GACxB,IACE,OAAOA,EAAiB,QAATA,GAA6B,SAATA,IAAoC,QAATA,EAAkB,MAAQA,EAAQ,IAAMA,GAASA,EAAQ,UAAU8J,KAAK9J,GAASyD,EAAEsG,UAAU/J,GAASA,GAASA,EAC7K,MAAOgK,GACP,OAAOhK,GA6hBX,SAASiK,EAAazB,EAAM0B,GAC1BA,EAAI1B,GAEJ,IAAK,IAAIxJ,EAAI,EAAGoE,EAAMoF,EAAKD,WAAWtJ,OAAQD,EAAIoE,EAAKpE,IAAKiL,EAAazB,EAAKD,WAAWvJ,GAAIkL,GA4D/F,OAh3BA/D,EAAMgE,QAAU,SAAU9B,EAASM,GACjC,IAAKA,IAAaN,GAAgC,IAArBA,EAAQd,SAAgB,OAAO,EAC5D,IAAI6C,EAAkB/B,EAAQ8B,SAAW9B,EAAQgC,uBAAyBhC,EAAQiC,oBAAsBjC,EAAQkC,kBAAoBlC,EAAQ+B,gBAC5I,GAAIA,EAAiB,OAAOA,EAAgBzJ,KAAK0H,EAASM,GAE1D,IAAI6B,EACAC,EAASpC,EAAQqC,WACjBC,GAAQF,EAIZ,OAHIE,IAAOF,EAASrE,GAAYwE,YAAYvC,GAC5CmC,GAASrE,EAAM0E,IAAIJ,EAAQ9B,GAAUmC,QAAQzC,GAC7CsC,GAAQvE,EAAW2E,YAAY1C,GACxBmC,GA2CT1G,EAAW,SAAU+D,GACnB,OAAOA,EAAIC,QAAQ,WAAW,SAAU0C,EAAOQ,GAC7C,OAAOA,EAAMA,EAAIC,cAAgB,OAQrClH,EAAO,SAAUmH,GACf,OAAOhH,EAAOvD,KAAKuK,GAAO,SAAUC,EAAM9B,GACxC,OAAO6B,EAAMJ,QAAQK,IAAS9B,MAgDlClD,EAAMiF,SAAW,SAAUC,EAAMpD,EAAMqD,GACrC,IAAI5C,EAAKO,EAAOsC,EAsBhB,OApBIvG,EAAY8E,KAAKuB,KAAO3C,EAAMjF,EAAEW,EAASkB,cAAc4C,OAAOsD,MAE7D9C,IACC2C,EAAKvD,UAASuD,EAAOA,EAAKvD,QAAQ7C,EAAe,mBAzLrD8D,IA0LId,IAAsBA,EAAOlD,EAAW+E,KAAKuB,IAASnD,OAAOsD,IAC3DvD,KAAQzC,IAAayC,EAAO,MAClCsD,EAAY/F,EAAWyC,IACbwD,UAAY,GAAKJ,EAC3B3C,EAAMjF,EAAEiI,KAAKvH,EAAMxD,KAAK4K,EAAUhD,aAAa,WAC7CgD,EAAUR,YAAY5H,UAItBuE,EAAc4D,KAChBrC,EAAQxF,EAAEiF,GACVjF,EAAEiI,KAAKJ,GAAY,SAAU9L,EAAKQ,GAC5BoF,EAAiB0F,QAAQtL,IAAQ,EAAGyJ,EAAMzJ,GAAKQ,GAAYiJ,EAAM0C,KAAKnM,EAAKQ,OAI5E0I,GAMTvC,EAAMsC,EAAI,SAAUC,EAAKC,GACvB,OAAO,IAAIF,EAAEC,EAAKC,IAKpBxC,EAAMyF,IAAM,SAAU1K,GACpB,OAAOA,aAAkBiF,EAAMsC,GAOjCtC,EAAM0F,KAAO,SAAUlD,EAAUQ,GAC/B,IAAIT,EAlHWwC,EAoHf,IAAKvC,EAAU,OAAOxC,EAAMsC,IACvB,GAAuB,iBAAZE,EAKZ,GAAmB,MAJnBA,EAAWA,EAASmD,QAIP,IAAa/G,EAAW+E,KAAKnB,GAAWD,EAAMvC,EAAMiF,SAASzC,EAAUT,OAAOsD,GAAIrC,GAAUR,EAAW,SAE/G,CAAA,QAzOPI,IAyOWI,EAAyB,OAAO1F,EAAE0F,GAASlG,KAAK0F,GAClDD,EAAMvC,EAAM0E,IAAIzG,EAAUuE,OAE9B,CAAA,GAAIvB,EAAWuB,GAAW,OAAOlF,EAAEW,GAAU2H,MAAMpD,GACjD,GAAIxC,EAAMyF,IAAIjD,GAAW,OAAOA,EAEjC,GAAIjH,EAAQiH,GAlILuC,EAkI8BvC,EAAdD,EAjIxBxE,EAAOvD,KAAKuK,GAAO,SAAUC,GAClC,OAAe,MAARA,UAiII,GAAI1D,EAASkB,GAAWD,EAAM,CAACC,GAAWA,EAAW,UACnD,GAAI5D,EAAW+E,KAAKnB,GAAWD,EAAMvC,EAAMiF,SAASzC,EAASmD,OAAQ5D,OAAOsD,GAAIrC,GAAUR,EAAW,SAEnG,CAAA,QAnPfI,IAmPmBI,EAAyB,OAAO1F,EAAE0F,GAASlG,KAAK0F,GAClDD,EAAMvC,EAAM0E,IAAIzG,EAAUuE,IAG7C,OAAOxC,EAAMsC,EAAEC,EAAKC,KAOtBlF,EAAI,SAAUkF,EAAUQ,GACtB,OAAOhD,EAAM0F,KAAKlD,EAAUQ,KAa5BP,OAAS,SAAU9J,GACnB,IAAIgK,EACAkD,EAAO7H,EAAMxD,KAAK2C,UAAW,GAUjC,MARqB,kBAAVxE,IACTgK,EAAOhK,EACPA,EAASkN,EAAKC,SAGhBD,EAAKE,SAAQ,SAAU9C,GACrBR,EAAO9J,EAAQsK,EAAKN,MAEfhK,GAMTqH,EAAM0E,IAAM,SAAUxC,EAASM,GAC7B,IAAIwD,EACAC,EAAyB,KAAfzD,EAAS,GACnB0D,GAAcD,GAA0B,KAAfzD,EAAS,GAClC2D,EAAWF,GAAWC,EAAa1D,EAASxE,MAAM,GAAKwE,EAE3D4D,EAAWtG,EAAiB6D,KAAKwC,GACjC,OAAOjE,EAAQmE,gBAAkBD,GAAYH,GAC5CD,EAAQ9D,EAAQmE,eAAeF,IAAa,CAACH,GAAS,GAA0B,IAArB9D,EAAQd,UAAuC,IAArBc,EAAQd,UAAuC,KAArBc,EAAQd,SAAkB,GAAKpD,EAAMxD,KAAK4L,IAAaH,GAAW/D,EAAQoE,uBAC1LJ,EAAahE,EAAQoE,uBAAuBH,GAC5CjE,EAAQqE,qBAAqB/D,GAC7BN,EAAQsE,iBAAiBhE,KAQ3BlF,EAAEmJ,SAAWxI,EAASyI,gBAAgBD,SAAW,SAAUnC,EAAQjC,GACjE,OAAOiC,IAAWjC,GAAQiC,EAAOmC,SAASpE,IACxC,SAAUiC,EAAQjC,GACpB,KAAOA,IAASA,EAAOA,EAAKkC,aAAa,GAAIlC,IAASiC,EAAQ,OAAO,EAErE,OAAO,GAmCThH,EAAEyD,KAAOA,EACTzD,EAAE2D,WAAaA,EACf3D,EAAE4D,SAAWA,EACb5D,EAAE/B,QAAUA,EACZ+B,EAAEiE,cAAgBA,EAElBjE,EAAEqJ,cAAgB,SAAU1O,GAC1B,IAAI6J,EAEJ,IAAKA,KAAQ7J,EAAK,OAAO,EAEzB,OAAO,GAGTqF,EAAEsJ,UAAY,SAAUC,GACtB,IAAIC,EAAMC,OAAOF,GACb9F,SAAc8F,EAClB,OAAc,MAAPA,GAAuB,WAAR9F,IAA8B,UAARA,GAAoB8F,EAAI/N,UAAYkO,MAAMF,IAAQG,SAASH,KAAQ,GAGjHxJ,EAAE4J,QAAU,SAAUC,EAAMpC,EAAOlM,GACjC,OAAOgF,EAAW8G,QAAQnK,KAAKuK,EAAOoC,EAAMtO,IAG9CyE,EAAE8J,UAAYzJ,EAEdL,EAAEqI,KAAO,SAAUjE,GACjB,OAAc,MAAPA,EAAc,GAAKV,OAAO3I,UAAUsN,KAAKnL,KAAKkH,IAIvDpE,EAAE+J,KAAO,EACT/J,EAAEgK,QAAU,GACZhK,EAAEiK,KAAO,GAETjK,EAAEkK,KAAO,aAETlK,EAAE6E,IAAM,SAAUsF,EAAUC,GAC1B,IAAI7N,EAEAhB,EACAQ,EA/QW0L,EA6QX4C,EAAS,GAGb,GAAInG,EAAUiG,GAAW,IAAK5O,EAAI,EAAGA,EAAI4O,EAAS3O,OAAQD,IAE3C,OADbgB,EAAQ6N,EAASD,EAAS5O,GAAIA,KACX8O,EAAOxL,KAAKtC,QAC1B,IAAKR,KAAOoO,EAEJ,OADb5N,EAAQ6N,EAASD,EAASpO,GAAMA,KACbsO,EAAOxL,KAAKtC,GAEjC,OAvRekL,EAuRA4C,GAtRF7O,OAAS,EAAIwE,EAAEsK,GAAG9J,OAAO+J,MAAM,GAAI9C,GAASA,GAyR3DzH,EAAEiI,KAAO,SAAUkC,EAAUC,GAC3B,IAAI7O,EAAGQ,EAEP,GAAImI,EAAUiG,IACZ,IAAK5O,EAAI,EAAGA,EAAI4O,EAAS3O,OAAQD,IAAK,IAAmD,IAA/C6O,EAASlN,KAAKiN,EAAS5O,GAAIA,EAAG4O,EAAS5O,IAAe,OAAO4O,OAEvG,IAAKpO,KAAOoO,EAAU,IAAyD,IAArDC,EAASlN,KAAKiN,EAASpO,GAAMA,EAAKoO,EAASpO,IAAiB,OAAOoO,EAG/F,OAAOA,GAGTnK,EAAEwK,KAAO,SAAUL,EAAUC,GAC3B,OAAO3J,EAAOvD,KAAKiN,EAAUC,IAG3B3P,OAAOgQ,OAAMzK,EAAEsG,UAAYmE,KAAKC,OAEpC1K,EAAEiI,KAAK,gEAAgE0C,MAAM,MAAM,SAAUpP,EAAGiJ,GAC9F/B,EAAW,WAAa+B,EAAO,KAAOA,EAAKF,iBAI7CtE,EAAEsK,GAAK,CACLxP,YAAa4H,EAAMsC,EACnBxJ,OAAQ,EAGRiN,QAASlI,EAAWkI,QACpBmC,OAAQrK,EAAWqK,OACnB/L,KAAM0B,EAAW1B,KACjBgM,KAAMtK,EAAWsK,KACjBC,OAAQvK,EAAWuK,OACnBzD,QAAS9G,EAAW8G,QACpB7G,OAAQ,WACN,IAAIjF,EACAgB,EACAgM,EAAO,GAEX,IAAKhN,EAAI,EAAGA,EAAIsE,UAAUrE,OAAQD,IAChCgB,EAAQsD,UAAUtE,GAClBgN,EAAKhN,GAAKmH,EAAMyF,IAAI5L,GAASA,EAAMwO,UAAYxO,EAGjD,OAAOiE,EAAO+J,MAAM7H,EAAMyF,IAAIzI,MAAQA,KAAKqL,UAAYrL,KAAM6I,IAI/D1D,IAAK,SAAUyF,GACb,OAAOtK,EAAEA,EAAE6E,IAAInF,MAAM,SAAUsL,EAAIzP,GACjC,OAAO+O,EAAGpN,KAAK8N,EAAIzP,EAAGyP,QAG1BtK,MAAO,WACL,OAAOV,EAAEU,EAAM6J,MAAM7K,KAAMG,aAE7ByI,MAAO,SAAU8B,GAMf,OAHI7H,EAAQ8D,KAAK1F,EAASsK,aAAetK,EAASuK,KAAMd,EAASpK,GAAQW,EAASwK,iBAAiB,oBAAoB,WACrHf,EAASpK,MACR,GACIN,MAETnC,IAAK,SAAUqI,GACb,YA9cAN,IA8cOM,EAAsBlF,EAAMxD,KAAKwC,MAAQA,KAAKkG,GAAO,EAAIA,EAAMA,EAAMlG,KAAKlE,SAEnFuP,QAAS,WACP,OAAOrL,KAAKnC,OAEd6N,KAAM,WACJ,OAAO1L,KAAKlE,QAEd6P,OAAQ,WACN,OAAO3L,KAAKuI,MAAK,WACQ,MAAnBvI,KAAKuH,YAAoBvH,KAAKuH,WAAWK,YAAY5H,UAG7DuI,KAAM,SAAUmC,GAId,OAHA7J,EAAW+K,MAAMpO,KAAKwC,MAAM,SAAUsL,EAAIpF,GACxC,OAAsC,IAA/BwE,EAASlN,KAAK8N,EAAIpF,EAAKoF,MAEzBtL,MAETe,OAAQ,SAAUyE,GAChB,OAAIvB,EAAWuB,GAAkBxF,KAAK6L,IAAI7L,KAAK6L,IAAIrG,IAC5ClF,EAAES,EAAOvD,KAAKwC,MAAM,SAAUkF,GACnC,OAAOlC,EAAMgE,QAAQ9B,EAASM,QAGlCsG,IAAK,SAAUtG,EAAUQ,GACvB,OAAO1F,EAAEM,EAAKZ,KAAKc,OAAOR,EAAEkF,EAAUQ,OAExC+F,GAAI,SAAUvG,GACZ,OAAOxF,KAAKlE,OAAS,GAAKkH,EAAMgE,QAAQhH,KAAK,GAAIwF,IAEnDqG,IAAK,SAAUrG,GACb,IAAIM,EAAQ,GACZ,GAAI7B,EAAWuB,SA/efI,IA+e4BJ,EAAShI,KAAsBwC,KAAKuI,MAAK,SAAUrC,GACxEV,EAAShI,KAAKwC,KAAMkG,IAAMJ,EAAM3G,KAAKa,aACpC,CACN,IAAIgM,EAA8B,iBAAZxG,EAAuBxF,KAAKe,OAAOyE,GAAYhB,EAAUgB,IAAavB,EAAWuB,EAASwC,MAAQhH,EAAMxD,KAAKgI,GAAYlF,EAAEkF,GACjJxF,KAAK+I,SAAQ,SAAUuC,GACjBU,EAASrE,QAAQ2D,GAAM,GAAGxF,EAAM3G,KAAKmM,MAG7C,OAAOhL,EAAEwF,IAEXmG,IAAK,SAAUzG,GACb,OAAOxF,KAAKe,QAAO,WACjB,OAAOuD,EAASkB,GAAYlF,EAAEmJ,SAASzJ,KAAMwF,GAAYlF,EAAEN,MAAMF,KAAK0F,GAAUkG,WAGpFQ,GAAI,SAAUhG,GACZ,OAAgB,IAATA,EAAalG,KAAKgB,MAAMkF,GAAOlG,KAAKgB,MAAMkF,GAAMA,EAAM,IAE/DiG,MAAO,WACL,IAAIb,EAAKtL,KAAK,GACd,OAAOsL,IAAOhH,EAASgH,GAAMA,EAAKhL,EAAEgL,IAEtCc,KAAM,WACJ,IAAId,EAAKtL,KAAKA,KAAKlE,OAAS,GAC5B,OAAOwP,IAAOhH,EAASgH,GAAMA,EAAKhL,EAAEgL,IAEtCxL,KAAM,SAAU0F,GACd,IACI6G,EAAQrM,KASZ,OARKwF,EAAmD,iBAAZA,EAA+BlF,EAAEkF,GAAUzE,QAAO,WAC5F,IAAIsE,EAAOrF,KACX,OAAOa,EAAWyL,KAAK9O,KAAK6O,GAAO,SAAU/E,GAC3C,OAAOhH,EAAEmJ,SAASnC,EAAQjC,SAEH,GAAfrF,KAAKlE,OAAsBwE,EAAE0C,EAAM0E,IAAI1H,KAAK,GAAIwF,IAAyBxF,KAAKmF,KAAI,WAC5F,OAAOnC,EAAM0E,IAAI1H,KAAMwF,MANDlF,KAU1BiM,QAAS,SAAU/G,EAAUQ,GAC3B,IAAIF,EAAQ,GACR0G,EAAgC,iBAAZhH,GAAwBlF,EAAEkF,GAMlD,OALAxF,KAAKuI,MAAK,SAAUkE,EAAGpH,GACrB,KAAOA,KAAUmH,EAAaA,EAAW7E,QAAQtC,IAAS,EAAIrC,EAAMgE,QAAQ3B,EAAMG,KAAYH,EAAOA,IAASW,IAAY7B,EAAWkB,IAASA,EAAKkC,WAE/IlC,GAAQS,EAAM6B,QAAQtC,GAAQ,GAAGS,EAAM3G,KAAKkG,MAE3C/E,EAAEwF,IAEX4G,QAAS,SAAUlH,GAIjB,IAHA,IAAImH,EAAY,GACZ7G,EAAQ9F,KAEL8F,EAAMhK,OAAS,GAAGgK,EAAQxF,EAAE6E,IAAIW,GAAO,SAAUT,GACtD,IAAKA,EAAOA,EAAKkC,cAAgBpD,EAAWkB,IAASsH,EAAUhF,QAAQtC,GAAQ,EAE7E,OADAsH,EAAUxN,KAAKkG,GACRA,KAIX,OAAOQ,EAAS8G,EAAWnH,IAE7B8B,OAAQ,SAAU9B,GAChB,OAAOK,EAASjF,EAAKZ,KAAK4M,MAAM,eAAgBpH,IAElDP,SAAU,SAAUO,GAClB,OAAOK,EAAS7F,KAAKmF,KAAI,WACvB,OAAOF,EAASjF,SACdwF,IAENqH,SAAU,WACR,OAAO7M,KAAKmF,KAAI,WACd,OAAOnF,KAAK8M,iBAAmB9L,EAAMxD,KAAKwC,KAAKoF,gBAGnD2H,SAAU,SAAUvH,GAClB,OAAOK,EAAS7F,KAAKmF,KAAI,SAAUtJ,EAAGyP,GACpC,OAAOvK,EAAOvD,KAAKyH,EAASqG,EAAG/D,aAAa,SAAUyF,GACpD,OAAOA,IAAU1B,QAEjB9F,IAENyH,MAAO,WACL,OAAOjN,KAAKuI,MAAK,WACfvI,KAAKsI,UAAY,OAIrBsE,MAAO,SAAUlP,GACf,OAAO4C,EAAE6E,IAAInF,MAAM,SAAUsL,GAC3B,OAAOA,EAAG5N,OAGdwP,KAAM,WACJ,OAAOlN,KAAKuI,MAAK,WA9brB,IAAwB4E,EAClBjI,EAASkI,EA8ba,QAAtBpN,KAAKqN,MAAMD,UAAsBpN,KAAKqN,MAAMD,QAAU,IACQ,QAA1DE,iBAAiBtN,KAAM,IAAIuN,iBAAiB,aAAsBvN,KAAKqN,MAAMD,SAhc/DD,EAgcwFnN,KAAKmN,SA7b9GjM,EAAeiM,KAClBjI,EAAUjE,EAASkB,cAAcgL,GACjClM,EAASuK,KAAK/D,YAAYvC,GAC1BkI,EAAUE,iBAAiBpI,EAAS,IAAIqI,iBAAiB,WACzDrI,EAAQqC,WAAWK,YAAY1C,GACpB,QAAXkI,IAAsBA,EAAU,SAChClM,EAAeiM,GAAYC,GAGtBlM,EAAeiM,SAubtBK,YAAa,SAAUC,GACrB,OAAOzN,KAAK0N,OAAOD,GAAY9B,UAEjCgC,KAAM,SAAUC,GACd,IAAIC,EAAO5J,EAAW2J,GACtB,GAAI5N,KAAK,KAAO6N,EAAM,IAAItI,EAAMjF,EAAEsN,GAAW/P,IAAI,GAC7CiQ,EAAQvI,EAAIgC,YAAcvH,KAAKlE,OAAS,EAC5C,OAAOkE,KAAKuI,MAAK,SAAUwF,GACzBzN,EAAEN,MAAMgO,QAAQH,EAAOD,EAAUpQ,KAAKwC,KAAM+N,GAASD,EAAQvI,EAAI0I,WAAU,GAAQ1I,OAGvFyI,QAAS,SAAUJ,GACjB,GAAI5N,KAAK,GAAI,CAEX,IAAIiF,EAEJ,IAHA3E,EAAEN,KAAK,IAAI0N,OAAOE,EAAYtN,EAAEsN,KAGxB3I,EAAW2I,EAAU3I,YAAYnJ,QAAQ8R,EAAY3I,EAASkH,QAEtE7L,EAAEsN,GAAWM,OAAOlO,MAGtB,OAAOA,MAETmO,UAAW,SAAUP,GACnB,IAAIC,EAAO5J,EAAW2J,GACtB,OAAO5N,KAAKuI,MAAK,SAAUwF,GACzB,IAAIjT,EAAOwF,EAAEN,MACT6M,EAAW/R,EAAK+R,WAChBtH,EAAMsI,EAAOD,EAAUpQ,KAAKwC,KAAM+N,GAASH,EAC/Cf,EAAS/Q,OAAS+Q,EAASmB,QAAQzI,GAAOzK,EAAKoT,OAAO3I,OAG1D6I,OAAQ,WAIN,OAHApO,KAAKsH,SAASiB,MAAK,WACjBjI,EAAEN,MAAMwN,YAAYlN,EAAEN,MAAMiF,eAEvBjF,MAET8N,MAAO,WACL,OAAO9N,KAAKmF,KAAI,WACd,OAAOnF,KAAKiO,WAAU,OAG1BI,KAAM,WACJ,OAAOrO,KAAKsO,IAAI,UAAW,SAE7BC,OAAQ,SAAUC,GAChB,OAAOxO,KAAKuI,MAAK,WACf,IAAI+C,EAAKhL,EAAEN,YAloBb4F,IAmoBG4I,EAA+C,QAArBlD,EAAGgD,IAAI,WAAuBE,GAAWlD,EAAG4B,OAAS5B,EAAG+C,WAGvFI,KAAM,SAAUjJ,GACd,OAAOlF,EAAEN,KAAK4M,MAAM,2BAA2B7L,OAAOyE,GAAY,MAEpEvG,KAAM,SAAUuG,GACd,OAAOlF,EAAEN,KAAK4M,MAAM,uBAAuB7L,OAAOyE,GAAY,MAEhE0C,KAAM,SAAUA,GACd,OAAO,KAAK/H,UAAYH,KAAKuI,MAAK,SAAUrC,GAC1C,IAAIwI,EAAa1O,KAAKsI,UACtBhI,EAAEN,MAAMiN,QAAQiB,OAAOnI,EAAQ/F,KAAMkI,EAAMhC,EAAKwI,OAC7C,KAAK1O,KAAOA,KAAK,GAAGsI,UAAY,MAEvCqG,KAAM,SAAUA,GACd,OAAO,KAAKxO,UAAYH,KAAKuI,MAAK,SAAUrC,GAC1C,IAAI0I,EAAU7I,EAAQ/F,KAAM2O,EAAMzI,EAAKlG,KAAK6O,aAC5C7O,KAAK6O,YAAyB,MAAXD,EAAkB,GAAK,GAAKA,KAC5C,KAAK5O,KAAOA,KAAK4M,MAAM,eAAekC,KAAK,IAAM,MAExDtG,KAAM,SAAU1D,EAAMjI,GACpB,IAAIkS,EACJ,MAAsB,iBAARjK,GAAsB,KAAK3E,UAA0HH,KAAKuI,MAAK,SAAUrC,GACrL,GAAsB,IAAlBlG,KAAKoE,SACT,GAAIE,EAASQ,GAAO,IAAKzI,KAAOyI,EAAMsB,EAAapG,KAAM3D,EAAKyI,EAAKzI,SAAW+J,EAAapG,KAAM8E,EAAMiB,EAAQ/F,KAAMnD,EAAOqJ,EAAKlG,KAAKgP,aAAalK,QAF/F,KAAK9E,MAA4B,GAApBA,KAAK,GAAGoE,UAA0D,OAAxC2K,EAAS/O,KAAK,GAAGgP,aAAalK,IAAiBiK,OA1pB5InJ,GA+pBFqJ,WAAY,SAAUnK,GACpB,OAAO9E,KAAKuI,MAAK,WACG,IAAlBvI,KAAKoE,UAAkBU,EAAKmG,MAAM,KAAKlC,SAAQ,SAAUmG,GACvD9I,EAAapG,KAAMkP,KAClBlP,UAGPmP,KAAM,SAAUrK,EAAMjI,GAEpB,OADAiI,EAAO5B,EAAQ4B,IAASA,EACjB,KAAK3E,UAAYH,KAAKuI,MAAK,SAAUrC,GAC1ClG,KAAK8E,GAAQiB,EAAQ/F,KAAMnD,EAAOqJ,EAAKlG,KAAK8E,OACzC9E,KAAK,IAAMA,KAAK,GAAG8E,IAE1BsK,WAAY,SAAUtK,GAEpB,OADAA,EAAO5B,EAAQ4B,IAASA,EACjB9E,KAAKuI,MAAK,kBACRvI,KAAK8E,OAGhBuK,KAAM,SAAUvK,EAAMjI,GACpB,IAAIyS,EAAW,QAAUxK,EAAKH,QAAQ3C,EAAW,OAAO4C,cACpDyK,EAAO,KAAKlP,UAAYH,KAAKwI,KAAK8G,EAAUzS,GAASmD,KAAKwI,KAAK8G,GACnE,OAAgB,OAATD,EAAgB3I,EAAiB2I,QArrBxCzJ,GAurBFiE,IAAK,SAAUhN,GACb,OAAI,KAAKsD,WACM,MAATtD,IAAeA,EAAQ,IACpBmD,KAAKuI,MAAK,SAAUrC,GACzBlG,KAAKnD,MAAQkJ,EAAQ/F,KAAMnD,EAAOqJ,EAAKlG,KAAKnD,WAGvCmD,KAAK,KAAOA,KAAK,GAAGuP,SAAWjP,EAAEN,KAAK,IAAIF,KAAK,UAAUiB,QAAO,WACrE,OAAOf,KAAKwP,YACX5C,MAAM,SAAW5M,KAAK,GAAGnD,QAGhC4S,OAAQ,SAAUC,GAChB,GAAIA,EAAa,OAAO1P,KAAKuI,MAAK,SAAUwF,GAC1C,IAAI1B,EAAQ/L,EAAEN,MACV2P,EAAS5J,EAAQ/F,KAAM0P,EAAa3B,EAAO1B,EAAMoD,UACjDG,EAAevD,EAAMwD,eAAeJ,SACpC7T,EAAQ,CACVkU,IAAKH,EAAOG,IAAMF,EAAaE,IAC/BC,KAAMJ,EAAOI,KAAOH,EAAaG,MAEN,UAAzB1D,EAAMiC,IAAI,cAAyB1S,EAAgB,SAAI,YAC3DyQ,EAAMiC,IAAI1S,MAEZ,IAAKoE,KAAKlE,OAAQ,OAAO,KACzB,GAAImF,EAASyI,kBAAoB1J,KAAK,KAAOM,EAAEmJ,SAASxI,EAASyI,gBAAiB1J,KAAK,IAAK,MAAO,CACjG8P,IAAK,EACLC,KAAM,GAER,IAAI9U,EAAM+E,KAAK,GAAGgQ,wBAClB,MAAO,CACLD,KAAM9U,EAAI8U,KAAOhV,OAAOkV,YACxBH,IAAK7U,EAAI6U,IAAM/U,OAAOmV,YACtBC,MAAOC,KAAKC,MAAMpV,EAAIkV,OACtBG,OAAQF,KAAKC,MAAMpV,EAAIqV,UAG3BhC,IAAK,SAAU5Q,EAAUb,GACvB,GAAIsD,UAAUrE,OAAS,EAAG,CACxB,IAAIoJ,EAAUlF,KAAK,GAEnB,GAAuB,iBAAZtC,EAAsB,CAC/B,IAAKwH,EAAS,OACd,OAAOA,EAAQmI,MAAM1M,EAASjD,KAAc4P,iBAAiBpI,EAAS,IAAIqI,iBAAiB7P,GACtF,GAAIa,EAAQb,GAAW,CAC5B,IAAKwH,EAAS,OACd,IAAItJ,EAAQ,GACR2U,EAAgBjD,iBAAiBpI,EAAS,IAI9C,OAHA5E,EAAEiI,KAAK7K,GAAU,SAAU+O,EAAG0C,GAC5BvT,EAAMuT,GAAQjK,EAAQmI,MAAM1M,EAASwO,KAAUoB,EAAchD,iBAAiB4B,MAEzEvT,GAIX,IAAI0S,EAAM,GAEV,GAAsB,UAAlBvK,EAAKrG,GACFb,GAAmB,IAAVA,EAENyR,EAAM7J,EAAU/G,GAAY,IAAMsH,EAAWtH,EAAUb,GAFpCmD,KAAKuI,MAAK,WACnCvI,KAAKqN,MAAMmD,eAAe/L,EAAU/G,YAGtC,IAAKrB,KAAOqB,EAAeA,EAASrB,IAA0B,IAAlBqB,EAASrB,GAE7CiS,GAAO7J,EAAUpI,GAAO,IAAM2I,EAAW3I,EAAKqB,EAASrB,IAAQ,IAFN2D,KAAKuI,MAAK,WACzEvI,KAAKqN,MAAMmD,eAAe/L,EAAUpI,OAIxC,OAAO2D,KAAKuI,MAAK,WACfvI,KAAKqN,MAAMoD,SAAW,IAAMnC,MAGhCP,MAAO,SAAU7I,GACf,OAAOA,EAAUlF,KAAK2H,QAAQrH,EAAE4E,GAAS,IAAMlF,KAAKsH,SAASrC,WAAW0C,QAAQ3H,KAAK,KAEvF0Q,SAAU,SAAU5L,GAClB,QAAKA,GACEjE,EAAWyL,KAAK9O,KAAKwC,MAAM,SAAUsL,GAC1C,OAAOtL,KAAK2G,KAAKL,EAAUgF,MAC1BzG,EAAQC,KAEb6L,SAAU,SAAU7L,GAClB,OAAKA,EACE9E,KAAKuI,MAAK,SAAUrC,GACzB,GAAM,cAAelG,KAArB,CACAU,EAAY,GACZ,IAAIkQ,EAAMtK,EAAUtG,MACN+F,EAAQ/F,KAAM8E,EAAMoB,EAAK0K,GAC/B3F,MAAM,QAAQlC,SAAQ,SAAUxC,GACjCjG,EAAEN,MAAM0Q,SAASnK,IAAQ7F,EAAUvB,KAAKoH,KAC5CvG,MACHU,EAAU5E,QAAUwK,EAAUtG,KAAM4Q,GAAOA,EAAM,IAAM,IAAMlQ,EAAUoO,KAAK,UAT5D9O,MAYpB6Q,YAAa,SAAU/L,GACrB,OAAO9E,KAAKuI,MAAK,SAAUrC,GACzB,GAAM,cAAelG,KAArB,CACA,QAvxBF4F,IAuxBMd,EAAsB,OAAOwB,EAAUtG,KAAM,IACjDU,EAAY4F,EAAUtG,MACtB+F,EAAQ/F,KAAM8E,EAAMoB,EAAKxF,GAAWuK,MAAM,QAAQlC,SAAQ,SAAUxC,GAClE7F,EAAYA,EAAUiE,QAAQE,EAAQ0B,GAAQ,QAEhDD,EAAUtG,KAAMU,EAAUiI,aAG9BmI,YAAa,SAAUhM,EAAMiM,GAC3B,OAAKjM,EACE9E,KAAKuI,MAAK,SAAUrC,GACzB,IAAImG,EAAQ/L,EAAEN,MACF+F,EAAQ/F,KAAM8E,EAAMoB,EAAKI,EAAUtG,OACzCiL,MAAM,QAAQlC,SAAQ,SAAUxC,SApyBxCX,IAqyBKmL,GAAwB1E,EAAMqE,SAASnK,GAASwK,GAAQ1E,EAAMsE,SAASpK,GAAS8F,EAAMwE,YAAYtK,SALrFvG,MASpBgR,UAAW,SAAUnU,GACnB,GAAKmD,KAAKlE,OAAV,CACA,IAAImV,EAAe,cAAejR,KAAK,GACvC,YA5yBA4F,IA4yBI/I,EAA8BoU,EAAejR,KAAK,GAAGgR,UAAYhR,KAAK,GAAGkQ,YACtElQ,KAAKuI,KAAK0I,EAAe,WAC9BjR,KAAKgR,UAAYnU,GACf,WACFmD,KAAKkR,SAASlR,KAAKmR,QAAStU,OAGhCuU,WAAY,SAAUvU,GACpB,GAAKmD,KAAKlE,OAAV,CACA,IAAIuV,EAAgB,eAAgBrR,KAAK,GACzC,YAtzBA4F,IAszBI/I,EAA8BwU,EAAgBrR,KAAK,GAAGoR,WAAapR,KAAK,GAAGiQ,YACxEjQ,KAAKuI,KAAK8I,EAAgB,WAC/BrR,KAAKoR,WAAavU,GAChB,WACFmD,KAAKkR,SAASrU,EAAOmD,KAAKsR,aAG9BC,SAAU,WACR,GAAKvR,KAAKlE,OAAV,CACA,IAAIqO,EAAOnK,KAAK,GAEhB6P,EAAe7P,KAAK6P,eAEpBJ,EAASzP,KAAKyP,SACVG,EAAe7N,EAAW4E,KAAKkJ,EAAa,GAAG1C,UAAY,CAC7D2C,IAAK,EACLC,KAAM,GACJF,EAAaJ,SAUjB,OANAA,EAAOK,KAAO0B,WAAWlR,EAAE6J,GAAMmE,IAAI,gBAAkB,EACvDmB,EAAOM,MAAQyB,WAAWlR,EAAE6J,GAAMmE,IAAI,iBAAmB,EAEzDsB,EAAaE,KAAO0B,WAAWlR,EAAEuP,EAAa,IAAIvB,IAAI,sBAAwB,EAC9EsB,EAAaG,MAAQyB,WAAWlR,EAAEuP,EAAa,IAAIvB,IAAI,uBAAyB,EAEzE,CACLwB,IAAKL,EAAOK,IAAMF,EAAaE,IAC/BC,KAAMN,EAAOM,KAAOH,EAAaG,QAGrCF,aAAc,WACZ,OAAO7P,KAAKmF,KAAI,WAGd,IAFA,IAAImC,EAAStH,KAAK6P,cAAgB5O,EAASuK,KAEpClE,IAAWvF,EAAW4E,KAAKW,EAAO6F,WAA0C,UAA7B7M,EAAEgH,GAAQgH,IAAI,aAAyBhH,EAASA,EAAOuI,aAE7G,OAAOvI,OAKbhH,EAAEsK,GAAG6G,OAASnR,EAAEsK,GAAGe,OAEnB,CAAC,QAAS,UAAU5C,SAAQ,SAAU2I,GACpC,IAAIC,EAAoBD,EAAU/M,QAAQ,KAAK,SAAUiN,GACvD,OAAOA,EAAE,GAAG9J,iBAGdxH,EAAEsK,GAAG8G,GAAa,SAAU7U,GAC1B,IAAI4S,EACAnE,EAAKtL,KAAK,GACd,YA32BA4F,IA22BI/I,EAA8BqH,EAASoH,GAAMA,EAAG,QAAUqG,GAAqBxN,EAAWmH,GAAMA,EAAG5B,gBAAgB,SAAWiI,IAAsBlC,EAASzP,KAAKyP,WAAaA,EAAOiC,GAAuB1R,KAAKuI,MAAK,SAAUrC,IACnOoF,EAAKhL,EAAEN,OACJsO,IAAIoD,EAAW3L,EAAQ/F,KAAMnD,EAAOqJ,EAAKoF,EAAGoG,cAl1B5B,CAAC,QAAS,UAAW,SAAU,UA+1BrC3I,SAAQ,SAAU8I,EAAUC,GAC7C,IAAIC,EAASD,EAAgB,EAE7BxR,EAAEsK,GAAGiH,GAAY,WAEf,IAAIG,EAeA1K,EAdAxB,EAAQxF,EAAE6E,IAAIhF,WAAW,SAAU8F,GACrC,IAAI5H,EAAM,GAGV,MAAe,UAFf2T,EAAUjO,EAAKkC,KAGbA,EAAI8C,SAAQ,SAAUuC,GACpB,YAt4BN1F,IAs4BU0F,EAAGlH,SAAiC/F,EAAIc,KAAKmM,GAAahL,EAAE0C,MAAMyF,IAAI6C,GAAYjN,EAAMA,EAAIyC,OAAOwK,EAAGzN,YAC1GQ,EAAMA,EAAIyC,OAAOkC,EAAMiF,SAASqD,QAE3BjN,GAGS,UAAX2T,GAA8B,MAAP/L,EAAcA,EAAMjD,EAAMiF,SAAShC,MAG/DgM,EAAcjS,KAAKlE,OAAS,EAChC,OAAIgK,EAAMhK,OAAS,EAAUkE,KACtBA,KAAKuI,MAAK,SAAUkE,EAAG9Q,GAC5B2L,EAASyK,EAASpW,EAASA,EAAO4L,WAElC5L,EAA0B,GAAjBmW,EAAqBnW,EAAOuW,YAA+B,GAAjBJ,EAAqBnW,EAAOwW,WAA8B,GAAjBL,EAAqBnW,EAAS,KAC1H,IAAIyW,EAAmB9R,EAAEmJ,SAASxI,EAASyI,gBAAiBpC,GAC5DxB,EAAMiD,SAAQ,SAAU1D,GACtB,GAAI4M,EAAa5M,EAAOA,EAAK4I,WAAU,QAAW,IAAK3G,EAAQ,OAAOhH,EAAE+E,GAAMsG,SAC9ErE,EAAO+K,aAAahN,EAAM1J,GACtByW,GAAkBtL,EAAazB,GAAM,SAAUiG,GACjD,KAAmB,MAAfA,EAAG6B,UAAkD,WAA9B7B,EAAG6B,SAASrF,eAAgCwD,EAAGvH,MAAoB,oBAAZuH,EAAGvH,MAAgCuH,EAAGgH,KAAK,CAC3H,IAAI3W,EAAS2P,EAAGiH,cAAgBjH,EAAGiH,cAAcC,YAAczX,OAC/DY,EAAa,KAAE6B,KAAK7B,EAAQ2P,EAAGhD,sBAWzChI,EAAEsK,GAAGmH,EAASF,EAAW,KAAO,UAAYC,EAAgB,SAAW,UAAY,SAAU5J,GAE3F,OADA5H,EAAE4H,GAAM2J,GAAU7R,MACXA,SAGXgD,EAAMsC,EAAEjK,UAAYiK,EAAEjK,UAAYiF,EAAEsK,GAEpC5H,EAAMpC,KAAOA,EACboC,EAAM0D,iBAAmBA,EACzBpG,EAAE0C,MAAQA,EACH1C,EAl7BG,GAq7BZvF,OAAO0F,MAAQA,OACF3B,IAAb/D,OAAOuF,IAAoBvF,OAAOuF,EAAIG,GAEtC,SAAWH,GACT,IAEIjE,EACAyI,EAHA2N,GAAW,IAAIC,KACfzR,EAAWlG,OAAOkG,SAGlB0R,EAAU,sDACVC,EAAe,qCACfC,EAAY,8BAGZC,EAAU,QACVC,EAAe9R,EAASkB,cAAc,KAU1C,SAAS6Q,EAAcC,EAAUjN,EAASkN,EAAW7D,GACnD,GAAI4D,EAASpY,OAAQ,OARvB,SAA0BmL,EAASkN,EAAW7D,GAC5C,IAAI8D,EAAQ7S,EAAE8S,MAAMF,GAEpB,OADA5S,EAAE0F,GAASqN,QAAQF,EAAO9D,IAClB8D,EAAMG,qBAKcC,CAAiBvN,GAAW/E,EAAUiS,EAAW7D,GAe/E,SAASmE,EAAeC,EAAKR,GAC3B,IAAIjN,EAAUiN,EAASjN,QACvB,IAAyD,IAArDiN,EAASS,WAAWlW,KAAKwI,EAASyN,EAAKR,KAA+F,IAAxED,EAAcC,EAAUjN,EAAS,iBAAkB,CAACyN,EAAKR,IAAsB,OAAO,EACxJD,EAAcC,EAAUjN,EAAS,WAAY,CAACyN,EAAKR,IAGrD,SAASU,EAAYtE,EAAMoE,EAAKR,EAAUW,GACxC,IAAI5N,EAAUiN,EAASjN,QAEvBiN,EAASY,QAAQrW,KAAKwI,EAASqJ,EADlB,UACgCoE,GACzCG,GAAUA,EAASE,YAAY9N,EAAS,CAACqJ,EAFhC,UAE8CoE,IAC3DT,EAAcC,EAAUjN,EAAS,cAAe,CAACyN,EAAKR,EAAU5D,IAChE0E,EAJa,UAIQN,EAAKR,GAI5B,SAASe,EAAUC,EAAOlQ,EAAM0P,EAAKR,EAAUW,GAC7C,IAAI5N,EAAUiN,EAASjN,QACvBiN,EAASgB,MAAMzW,KAAKwI,EAASyN,EAAK1P,EAAMkQ,GACpCL,GAAUA,EAASM,WAAWlO,EAAS,CAACyN,EAAK1P,EAAMkQ,IACvDjB,EAAcC,EAAUjN,EAAS,YAAa,CAACyN,EAAKR,EAAUgB,GAASlQ,IACvEgQ,EAAahQ,EAAM0P,EAAKR,GAI1B,SAASc,EAAaI,EAAQV,EAAKR,GACjC,IAAIjN,EAAUiN,EAASjN,QACvBiN,EAASmB,SAAS5W,KAAKwI,EAASyN,EAAKU,GACrCnB,EAAcC,EAAUjN,EAAS,eAAgB,CAACyN,EAAKR,IAjCzD,SAAkBA,GACZA,EAASpY,WAAcyF,EAAE+T,QAAQrB,EAAcC,EAAU,KAAM,YAiCnEqB,CAASrB,GAUX,SAAShG,KAkGT,SAASsH,EAAYC,EAAKC,GACxB,MAAa,IAATA,EAAoBD,GAChBA,EAAM,IAAMC,GAAO9P,QAAQ,YAAa,KAoHlD,SAAS+P,EAAeF,EAAKnF,EAAMwE,EAASc,GAG1C,OAFIrU,EAAE2D,WAAWoL,KAAOsF,EAAWd,EAASA,EAAUxE,EAAMA,OAAOvQ,GAC9DwB,EAAE2D,WAAW4P,KAAUc,EAAWd,EAASA,OAAU/U,GACnD,CACL0V,IAAKA,EACLnF,KAAMA,EACNwE,QAASA,EACTc,SAAUA,GA/Rd5B,EAAa6B,KAAO7Z,OAAO8Z,SAASD,KAcpCtU,EAAE+T,OAAS,EAoDX/T,EAAEwU,UAAY,SAAUC,EAASnB,GAC/B,KAAM,SAAUmB,GAAU,OAAOzU,EAAE0U,KAAKD,GAExC,IAIIE,EAOAC,EAXAC,EAAgBJ,EAAQK,cACxBC,GAAgB/U,EAAE2D,WAAWkR,GAAiBA,IAAkBA,IAAkB,QAAU1C,IAC5F6C,EAASrU,EAASkB,cAAc,UAChCoT,EAAmBxa,OAAOsa,GAE1BG,EAAQ,SAAUC,GACpBnV,EAAEgV,GAAQI,eAAe,QAASD,GAAa,UAE7ChC,EAAM,CACR+B,MAAOA,GAoBT,OAhBI5B,GAAUA,EAAS+B,QAAQlC,GAC/BnT,EAAEgV,GAAQM,GAAG,cAAc,SAAU/O,EAAG4O,GACtCI,aAAaX,GACb5U,EAAEgV,GAAQQ,MAAMnK,SAEF,SAAV9E,EAAE9C,MAAoBkR,EAGxBtB,EAAYsB,EAAa,GAAIxB,EAAKsB,EAASnB,GAF3CI,EAAU,KAAMyB,GAAa,QAAShC,EAAKsB,EAASnB,GAKtD7Y,OAAOsa,GAAgBE,EACnBN,GAAgB3U,EAAE2D,WAAWsR,IAAmBA,EAAiBN,EAAa,IAClFM,EAAmBN,OAAenW,MAGC,IAAjC0U,EAAeC,EAAKsB,IACtBS,EAAM,SACC/B,IAGT1Y,OAAOsa,GAAgB,WACrBJ,EAAe9U,WAGjBmV,EAAOhD,IAAMyC,EAAQP,IAAI7P,QAAQ,YAAa,OAAS0Q,GACvDpU,EAAS8U,KAAKtO,YAAY6N,GACtBP,EAAQiB,QAAU,IAAGd,EAAee,YAAW,WACjDT,EAAM,aACLT,EAAQiB,UACJvC,IAGTnT,EAAE4V,aAAe,CAEfnS,KAAM,MAEN2P,WAAYzG,EAEZ4G,QAAS5G,EAETgH,MAAOhH,EAEPmH,SAAUnH,EAEVjH,QAAS,KAETnL,QAAQ,EAER4Y,IAAK,WACH,OAAO,IAAI1Y,OAAOob,gBAIpBC,QAAS,CACPd,OAAQ,oEACRe,KA9IW,mBA+IXC,IAAK,4BACLpO,KA/IW,YAgJXyG,KAAM,cAGR4H,aAAa,EAEbP,QAAS,EAETQ,aAAa,EAEbC,OAAO,EAIPC,WAAYzJ,GAmBd3M,EAAE0U,KAAO,SAAUD,GACjB,IAEI4B,EACAC,EAHA3D,EAAW3S,EAAEmF,OAAO,GAAIsP,GAAW,IACnCnB,EAAWtT,EAAEuW,UAAYvW,EAAEuW,WAI/B,IAAKxa,KAAOiE,EAAE4V,kBAAoCpX,IAAlBmU,EAAS5W,KAAoB4W,EAAS5W,GAAOiE,EAAE4V,aAAa7Z,KAnK9F,SAAmB4W,GACbA,EAASpY,QAAyB,GAAfyF,EAAE+T,UAAgBrB,EAAcC,EAAU,KAAM,aAoKvE6D,CAAU7D,GAELA,EAASsD,eACZI,EAAY1V,EAASkB,cAAc,MACzByS,KAAO3B,EAASuB,IAE1BmC,EAAU/B,KAAO+B,EAAU/B,KAC3B3B,EAASsD,YAAcxD,EAAagE,SAAW,KAAOhE,EAAaiE,MAASL,EAAUI,SAAW,KAAOJ,EAAUK,MAG/G/D,EAASuB,MAAKvB,EAASuB,IAAMzZ,OAAO8Z,SAASpW,aAC7CmY,EAAY3D,EAASuB,IAAI7M,QAAQ,OAAS,IAAGsL,EAASuB,IAAMvB,EAASuB,IAAIxT,MAAM,EAAG4V,IAxBzF,SAAuB7B,GACjBA,EAAQyB,aAAezB,EAAQ1F,MAAgC,UAAxB/O,EAAEyD,KAAKgR,EAAQ1F,QAAmB0F,EAAQ1F,KAAO/O,EAAE2W,MAAMlC,EAAQ1F,KAAM0F,EAAQmC,eACtHnC,EAAQ1F,MAAU0F,EAAQhR,MAAsC,OAA9BgR,EAAQhR,KAAK+D,eAA0B,SAAWiN,EAAQJ,WAAWI,EAAQP,IAAMD,EAAYQ,EAAQP,IAAKO,EAAQ1F,MAAO0F,EAAQ1F,UAAOvQ,GAuBhLqY,CAAclE,GACd,IAAI0B,EAAW1B,EAAS0B,SACpByC,EAAiB,UAAUzQ,KAAKsM,EAASuB,KAI7C,GAHI4C,IAAgBzC,EAAW,UACR,IAAnB1B,EAASwD,QAAqB1B,IAA6B,IAAlBA,EAAQ0B,OAAoB,UAAY9B,GAAY,SAAWA,KAAW1B,EAASuB,IAAMD,EAAYtB,EAASuB,IAAK,KAAO9B,KAAK2E,QAExK,SAAW1C,EAEb,OADKyC,IAAgBnE,EAASuB,IAAMD,EAAYtB,EAASuB,IAAKvB,EAASqE,MAAQrE,EAASqE,MAAQ,MAA0B,IAAnBrE,EAASqE,MAAkB,GAAK,eAChIhX,EAAEwU,UAAU7B,EAAUW,GAG/B,IAQIsB,EARAqC,EAAOtE,EAASmD,QAAQzB,GACxB6C,EAAU,GACVC,EAAY,SAAU3S,EAAMjI,GAC9B2a,EAAQ1S,EAAKF,eAAiB,CAACE,EAAMjI,IAEnCka,EAAW,iBAAiBpQ,KAAKsM,EAASuB,KAAOzP,OAAOsD,GAAKtN,OAAO8Z,SAASkC,SAC7EtD,EAAMR,EAASQ,MACfiE,EAAkBjE,EAAIkE,iBAa1B,GAVI/D,GAAUA,EAAS+B,QAAQlC,GAC1BR,EAASsD,aAAakB,EAAU,mBAAoB,kBACzDA,EAAU,SAAUF,GAAQ,QAExBA,EAAOtE,EAAS2E,UAAYL,KAC1BA,EAAK5P,QAAQ,MAAQ,IAAG4P,EAAOA,EAAKtM,MAAM,IAAK,GAAG,IACtDwI,EAAIoE,kBAAoBpE,EAAIoE,iBAAiBN,KAG3CtE,EAAS6E,cAAwC,IAAzB7E,EAAS6E,aAAyB7E,EAAS5D,MAAuC,OAA/B4D,EAASlP,KAAK+D,gBAAwB2P,EAAU,eAAgBxE,EAAS6E,aAAe,qCACnK7E,EAASuE,QAAS,IAAK1S,KAAQmO,EAASuE,QAASC,EAAU3S,EAAMmO,EAASuE,QAAQ1S,IAiCtF,GAhCA2O,EAAIkE,iBAAmBF,EAEvBhE,EAAIsE,mBAAqB,WACvB,GAAsB,GAAlBtE,EAAIlI,WAAiB,CACvBkI,EAAIsE,mBAAqB9K,EACzB4I,aAAaX,GACb,IAAInG,EACAkF,GAAQ,EAEZ,GAAIR,EAAIU,QAAU,KAAOV,EAAIU,OAAS,KAAqB,KAAdV,EAAIU,QAA+B,GAAdV,EAAIU,QAA2B,SAAZ4C,EAAqB,CAExG,GADApC,EAAWA,GA9EnB,SAAwB4C,GAEtB,OADIA,IAAMA,EAAOA,EAAKtM,MAAM,IAAK,GAAG,IAC7BsM,IAlKM,aAkKGA,EAAmB,OAnKtB,oBAmK+BA,EAAmB,OAAS3E,EAAajM,KAAK4Q,GAAQ,SAAW1E,EAAUlM,KAAK4Q,IAAS,QAAU,OA4ElHS,CAAe/E,EAAS2E,UAAYnE,EAAIwE,kBAAkB,iBACzD,eAApBxE,EAAIyE,cAAqD,QAApBzE,EAAIyE,aAAwBnJ,EAAS0E,EAAI0E,aAAc,CAC9FpJ,EAAS0E,EAAI2E,aAEb,IAGErJ,EAzLZ,SAAwBM,EAAMtL,EAAMkP,GAClC,GAAIA,EAASyD,YAAczJ,EAAO,OAAOoC,EACzC,IAAIrJ,EAAUiN,EAASjN,QACvB,OAAOiN,EAASyD,WAAWlZ,KAAKwI,EAASqJ,EAAMtL,GAsL5BsU,CAAetJ,EAAQ4F,EAAU1B,GAC1B,UAAZ0B,GAAsB,EAAI2D,MAAMvJ,GAA6B,OAAZ4F,EAAmB5F,EAAS0E,EAAI8E,YAAiC,QAAZ5D,IAAoB5F,EAAS+D,EAAQnM,KAAKoI,GAAU,KAAOzO,EAAEsG,UAAUmI,IACjL,MAAOlI,GACPoN,EAAQpN,EAGV,GAAIoN,EAAO,OAAOD,EAAUC,EAAO,cAAeR,EAAKR,EAAUW,GAEnED,EAAY5E,EAAQ0E,EAAKR,EAAUW,QAEnCI,EAAUP,EAAI+E,YAAc,KAAM/E,EAAIU,OAAS,QAAU,QAASV,EAAKR,EAAUW,MAKjD,IAAlCJ,EAAeC,EAAKR,GAGtB,OAFAQ,EAAI+B,QACJxB,EAAU,KAAM,QAASP,EAAKR,EAAUW,GACjCH,EAGT,IAAIgF,IAAQ,UAAWxF,IAAWA,EAASwF,MAE3C,GADAhF,EAAIiF,KAAKzF,EAASlP,KAAMkP,EAASuB,IAAKiE,EAAOxF,EAAS0F,SAAU1F,EAAS2F,UACrE3F,EAAS4F,UAAW,IAAK/T,KAAQmO,EAAS4F,UAAWpF,EAAI3O,GAAQmO,EAAS4F,UAAU/T,GAExF,IAAKA,KAAQ0S,EAASE,EAAgB7M,MAAM4I,EAAK+D,EAAQ1S,IASzD,OAPImO,EAAS+C,QAAU,IAAGd,EAAee,YAAW,WAClDxC,EAAIsE,mBAAqB9K,EACzBwG,EAAI+B,QACJxB,EAAU,KAAM,UAAWP,EAAKR,EAAUW,KACzCX,EAAS+C,UAEZvC,EAAIqF,KAAK7F,EAAS5D,KAAO4D,EAAS5D,KAAO,MAClCoE,GAeTnT,EAAEzC,IAAM,WAGN,OAAOyC,EAAE0U,KAAKN,EAAe7J,MAAM,KAAM1K,aAG3CG,EAAEyY,KAAO,WAGP,IAAIhE,EAAUL,EAAe7J,MAAM,KAAM1K,WAEzC,OADA4U,EAAQhR,KAAO,OACRzD,EAAE0U,KAAKD,IAGhBzU,EAAE0Y,QAAU,WAGV,IAAIjE,EAAUL,EAAe7J,MAAM,KAAM1K,WAEzC,OADA4U,EAAQJ,SAAW,OACZrU,EAAE0U,KAAKD,IAGhBzU,EAAEsK,GAAGqO,KAAO,SAAUzE,EAAKnF,EAAMwE,GAC/B,IAAK7T,KAAKlE,OAAQ,OAAOkE,KACzB,IAEIwF,EAFA1K,EAAOkF,KACPkZ,EAAQ1E,EAAIvJ,MAAM,MAElB8J,EAAUL,EAAeF,EAAKnF,EAAMwE,GACpCnJ,EAAWqK,EAAQlB,QASvB,OARIqF,EAAMpd,OAAS,IAAGiZ,EAAQP,IAAM0E,EAAM,GAAI1T,EAAW0T,EAAM,IAE/DnE,EAAQlB,QAAU,SAAUsE,GAC1Brd,EAAKoN,KAAK1C,EAAWlF,EAAE,SAAS4H,KAAKiQ,EAASxT,QAAQgO,EAAS,KAAK7S,KAAK0F,GAAY2S,GACrFzN,GAAYA,EAASG,MAAM/P,EAAMqF,YAGnCG,EAAE0U,KAAKD,GACA/U,MAGT,IAAImZ,EAASC,mBAeb9Y,EAAE2W,MAAQ,SAAUhc,EAAKic,GACvB,IAAImC,EAAS,GASb,OAPAA,EAAOvN,IAAM,SAAUzP,EAAKQ,GACtByD,EAAE2D,WAAWpH,KAAQA,EAAQA,KACpB,MAATA,IAAeA,EAAQ,IAC3BmD,KAAKb,KAAKga,EAAO9c,GAAO,IAAM8c,EAAOtc,KAnBzC,SAASyc,EAAUD,EAAQpe,EAAKic,EAAaqC,GAC3C,IAAIxV,EACAgE,EAAQzH,EAAE/B,QAAQtD,GAClBue,EAAOlZ,EAAEiE,cAActJ,GAC3BqF,EAAEiI,KAAKtN,GAAK,SAAUoB,EAAKQ,GACzBkH,EAAOzD,EAAEyD,KAAKlH,GACV0c,IAAOld,EAAM6a,EAAcqC,EAAQA,EAAQ,KAAOC,GAAgB,UAARzV,GAA4B,SAARA,EAAkB1H,EAAM,IAAM,MAE3Gkd,GAASxR,EAAOsR,EAAOvN,IAAIjP,EAAMiI,KAAMjI,EAAMA,OACjC,SAARkH,IAAoBmT,GAAuB,UAARnT,EAAkBuV,EAAUD,EAAQxc,EAAOqa,EAAa7a,GAAUgd,EAAOvN,IAAIzP,EAAKQ,MAahIyc,CAAUD,EAAQpe,EAAKic,GAChBmC,EAAOvK,KAAK,KAAKnK,QAAQ,OAAQ,MAhX5C,CAkXGlE,IAEQH,EA+HRG,GAxHCgZ,UAAY,SAAU1E,GACtBA,EAAUzU,EAAEmF,OAAO,GAAIsP,GAEvB,IAAI2E,EAEJC,EAEAC,EAEAC,EAEAC,EAEAC,EAEAC,EAAO,GAEPC,GAASlF,EAAQmF,MAAQ,GAEzBC,EAAO,SAAU9K,GAQf,IAPAqK,EAAS3E,EAAQ2E,QAAUrK,EAC3BsK,GAAQ,EACRI,EAAcF,GAAe,EAC7BA,EAAc,EACdC,EAAeE,EAAKle,OACpB8d,GAAS,EAEFI,GAAQD,EAAcD,IAAgBC,EAC3C,IAAkD,IAA9CC,EAAKD,GAAalP,MAAMwE,EAAK,GAAIA,EAAK,KAAiB0F,EAAQqF,YAAa,CAC9EV,GAAS,EACT,MAIJE,GAAS,EAELI,IACEC,EAAOA,EAAMne,QAAUqe,EAAKF,EAAMnR,SAAkB4Q,EAAQM,EAAKle,OAAS,EAAO2d,EAAUY,YAG/FZ,EAAY,CACd3N,IAAK,WACH,GAAIkO,EAAM,CACR,IAAIM,EAAQN,EAAKle,OACbgQ,EAAM,SAAUjD,GAClBvI,EAAEiI,KAAKM,GAAM,SAAU4D,EAAGxG,GACL,mBAARA,EACJ8O,EAAQwF,QAAWd,EAAUxN,IAAIhG,IAAM+T,EAAK7a,KAAK8G,GAC7CA,GAAOA,EAAInK,QAAyB,iBAARmK,GAAkB6F,EAAI7F,OAIjE6F,EAAI3L,WACAyZ,EAAQE,EAAeE,EAAKle,OAAgB4d,IAC9CG,EAAcS,EACdH,EAAKT,IAIT,OAAO1Z,MAET2L,OAAQ,WAgBN,OAfIqO,GACF1Z,EAAEiI,KAAKpI,WAAW,SAAUsM,EAAGxG,GAG7B,IAFA,IAAI8H,GAEIA,EAAQzN,EAAE4J,QAAQjE,EAAK+T,EAAMjM,KAAW,GAC9CiM,EAAK5O,OAAO2C,EAAO,GAEf6L,IACE7L,GAAS+L,KAAgBA,EACzB/L,GAASgM,KAAeA,MAM7B/Z,MAETiM,IAAK,SAAUrB,GACb,SAAUoP,KAASpP,EAAKtK,EAAE4J,QAAQU,EAAIoP,IAAS,EAAIA,EAAKle,UAE1DmR,MAAO,WAEL,OADA6M,EAAeE,EAAKle,OAAS,EACtBkE,MAETqa,QAAS,WAEP,OADAL,EAAOC,EAAQP,OAAS5a,EACjBkB,MAETwa,SAAU,WACR,OAAQR,GAEVS,KAAM,WAGJ,OAFAR,OAAQnb,EACH4a,GAAQD,EAAUY,UAChBra,MAET0a,OAAQ,WACN,OAAQT,GAEVU,SAAU,SAAU3U,EAAS6C,GAO3B,OANImR,GAAUL,IAASM,IAErBpR,EAAO,CAAC7C,GADR6C,EAAOA,GAAQ,IACO7H,MAAQ6H,EAAK7H,QAAU6H,GACzC+Q,EAAQK,EAAM9a,KAAK0J,GAAWsR,EAAKtR,IAGlC7I,MAETma,KAAM,WACJ,OAAOV,EAAUkB,SAAS3a,KAAMG,YAElCwZ,MAAO,WACL,QAASA,IAIb,OAAOF,GAIX,SAAWnZ,GACT,IAAIU,EAAQ1C,MAAMjD,UAAU2F,MAE5B,SAAS6V,EAAShJ,GAChB,IAAI+M,EAAS,CACb,CAAC,UAAW,OAAQta,EAAEmZ,UAAU,CAC9BS,KAAM,EACNR,OAAQ,IACN,YAAa,CAAC,SAAU,OAAQpZ,EAAEmZ,UAAU,CAC9CS,KAAM,EACNR,OAAQ,IACN,YAAa,CAAC,SAAU,WAAYpZ,EAAEmZ,UAAU,CAClDC,OAAQ,MAENmB,EAAQ,UACRlF,EAAU,CACZkF,MAAO,WACL,OAAOA,GAETC,OAAQ,WAEN,OADAlH,EAAS1U,KAAKiB,WAAW4a,KAAK5a,WACvBH,MAETgb,KAAM,WAGJ,IAAIC,EAAM9a,UACV,OAAO0W,GAAS,SAAUqE,GACxB5a,EAAEiI,KAAKqS,GAAQ,SAAU/e,EAAGsf,GAC1B,IAAIvQ,EAAKtK,EAAE2D,WAAWgX,EAAIpf,KAAOof,EAAIpf,GACrC+X,EAASuH,EAAM,KAAI,WACjB,IAAIC,EAAWxQ,GAAMA,EAAGC,MAAM7K,KAAMG,WAEpC,GAAIib,GAAY9a,EAAE2D,WAAWmX,EAASzF,SACpCyF,EAASzF,UAAUzW,KAAKgc,EAAMG,SAASN,KAAKG,EAAMI,QAAQC,SAASL,EAAMM,YACpE,CACL,IAAIxV,EAAUhG,OAAS2V,EAAUuF,EAAMvF,UAAY3V,KAC/C2K,EAASC,EAAK,CAACwQ,GAAYjb,UAC/B+a,EAAMC,EAAM,GAAK,QAAQnV,EAAS2E,UAIxCsQ,EAAM,QACLtF,WAELA,QAAS,SAAU1a,GACjB,OAAc,MAAPA,EAAcqF,EAAEmF,OAAOxK,EAAK0a,GAAWA,IAG9C/B,EAAW,GAqBf,OApBAtT,EAAEiI,KAAKqS,GAAQ,SAAU/e,EAAGsf,GAC1B,IAAInB,EAAOmB,EAAM,GACbM,EAAcN,EAAM,GACxBxF,EAAQwF,EAAM,IAAMnB,EAAKlO,IAErB2P,GACFzB,EAAKlO,KAAI,WACP+O,EAAQY,IACPb,EAAW,EAAJ/e,GAAO,GAAGwe,QAASO,EAAO,GAAG,GAAGH,MAG5C7G,EAASuH,EAAM,IAAM,WAEnB,OADAvH,EAASuH,EAAM,GAAK,QAAQnb,OAAS4T,EAAW+B,EAAU3V,KAAMG,WACzDH,MAGT4T,EAASuH,EAAM,GAAK,QAAUnB,EAAKW,YAErChF,EAAQA,QAAQ/B,GACZ/F,GAAMA,EAAKrQ,KAAKoW,EAAUA,GACvBA,EAGTtT,EAAEyQ,KAAO,SAAU2K,GACjB,IAKIC,EACAC,EACAC,EAPAC,EAAgB9a,EAAMxD,KAAK2C,WAC3BF,EAAM6b,EAAchgB,OACpBD,EAAI,EACJkgB,EAAiB,IAAR9b,GAAayb,GAAOpb,EAAE2D,WAAWyX,EAAI/F,SAAW1V,EAAM,EAC/D2T,EAAsB,IAAXmI,EAAeL,EAAM7E,IAIhCmF,EAAW,SAAUngB,EAAGogB,EAAKpS,GAC/B,OAAO,SAAUhN,GACfof,EAAIpgB,GAAKmE,KACT6J,EAAIhO,GAAKsE,UAAUrE,OAAS,EAAIkF,EAAMxD,KAAK2C,WAAatD,EAEpDgN,IAAQ8R,EACV/H,EAASsI,WAAWD,EAAKpS,KACZkS,GACbnI,EAASE,YAAYmI,EAAKpS,KAKhC,GAAI5J,EAAM,EAKR,IAJA0b,EAAiB,IAAIrd,MAAM2B,GAC3B2b,EAAmB,IAAItd,MAAM2B,GAC7B4b,EAAkB,IAAIvd,MAAM2B,GAErBpE,EAAIoE,IAAOpE,EACZigB,EAAcjgB,IAAMyE,EAAE2D,WAAW6X,EAAcjgB,GAAG8Z,SACpDmG,EAAcjgB,GAAG8Z,UAAUzW,KAAK8c,EAASngB,EAAGggB,EAAiBC,IAAgBf,KAAKnH,EAAS0H,QAAQC,SAASS,EAASngB,EAAG+f,EAAkBD,MAExII,EAMR,OADKA,GAAQnI,EAASE,YAAY+H,EAAiBC,GAC5ClI,EAAS+B,WAGlBrV,EAAEuW,SAAWA,EAjHf,CAkHGpW,GAEH,SAAWH,GACT,IAAI6b,EAAO,EAEPnb,EAAQ1C,MAAMjD,UAAU2F,MACxBiD,EAAa3D,EAAE2D,WACfmY,EAAW,SAAUnhB,GACvB,MAAqB,iBAAPA,GAEZohB,EAAW,GACXC,EAAgB,GAChBC,EAAmB,cAAexhB,OAClCyhB,EAAQ,CACVA,MAAO,UACPC,KAAM,YAEJC,EAAQ,CACVC,WAAY,YACZC,WAAY,YAKd,SAASC,EAAI3X,GACX,OAAOA,EAAQiX,OAASjX,EAAQiX,KAAOA,KAGzC,SAASW,EAAa5X,EAASiO,EAAOvI,EAAIpF,GAExC,IADA2N,EAAQnI,EAAMmI,IACJ4J,GAAI,IAAIC,GAcAD,EAdqB5J,EAAM4J,GAetC,IAAIhY,OAAO,UAAYgY,EAAGpY,QAAQ,IAAK,SAAW,YAD3D,IAAoBoY,EAblB,OAAQV,EAASQ,EAAI3X,KAAa,IAAInE,QAAO,SAAUkc,GACrD,OAAOA,KAAa9J,EAAMtM,GAAKoW,EAAQpW,GAAKsM,EAAMtM,MAAQsM,EAAM4J,IAAMC,EAAQrW,KAAKsW,EAAQF,QAAUnS,GAAMiS,EAAII,EAAQrS,MAAQiS,EAAIjS,OAAUpF,GAAYyX,EAAQC,KAAO1X,MAI5K,SAASwF,EAAMmI,GACb,IAAI+F,GAAS,GAAK/F,GAAOlI,MAAM,KAC/B,MAAO,CACLpE,EAAGqS,EAAM,GACT6D,GAAI7D,EAAMlY,MAAM,GAAGmK,OAAO2D,KAAK,MAQnC,SAASqO,EAAaF,EAASG,GAC7B,OAAOH,EAAQI,MAAQd,GAAoBU,EAAQpW,KAAK2V,KAAWY,EAGrE,SAASE,EAAUvZ,GACjB,OAAO2Y,EAAM3Y,IAASwY,GAAoBC,EAAMzY,IAASA,EAG3D,SAAS+H,EAAI5G,EAASqY,EAAQ3S,EAAIyE,EAAM7J,EAAUgY,EAAWC,GAC3D,IAAIC,EAAKb,EAAI3X,GACTyY,EAAMtB,EAASqB,KAAQrB,EAASqB,GAAM,IAC1CH,EAAOtS,MAAM,MAAMlC,SAAQ,SAAUoK,GACnC,GAAa,SAATA,EAAkB,OAAO7S,EAAEW,UAAU2H,MAAMgC,GAC/C,IAAIqS,EAAUjS,EAAMmI,GACpB8J,EAAQrS,GAAKA,EACbqS,EAAQC,IAAM1X,EAEVyX,EAAQpW,KAAK6V,IAAO9R,EAAK,SAAU/D,GACrC,IAAI+W,EAAU/W,EAAEgX,cAChB,IAAKD,GAAWA,IAAY5d,OAASM,EAAEmJ,SAASzJ,KAAM4d,GAAU,OAAOX,EAAQrS,GAAGC,MAAM7K,KAAMG,aAEhG8c,EAAQI,IAAMG,EACd,IAAI9S,EAAW8S,GAAa5S,EAE5BqS,EAAQa,MAAQ,SAAUjX,GAExB,KADAA,EAAIkX,EAAWlX,IACTmX,gCAAN,CACAnX,EAAEwI,KAAOA,EACT,IAAIN,EAASrE,EAASG,MAAM3F,EAxE9BU,MAwEuCiB,EAAEoX,MAAuB,CAACpX,GAAK,CAACA,GAAG/F,OAAO+F,EAAEoX,QAEjF,OADe,IAAXlP,IAAkBlI,EAAEqX,iBAAkBrX,EAAEsX,mBACrCpP,IAGTkO,EAAQphB,EAAI8hB,EAAI7hB,OAChB6hB,EAAIxe,KAAK8d,GACL,qBAAsB/X,GAASA,EAAQuG,iBAAiB6R,EAAUL,EAAQpW,GAAIoW,EAAQa,MAAOX,EAAaF,EAASQ,OAI3H,SAAS9R,EAAOzG,EAASqY,EAAQ3S,EAAIpF,EAAUiY,GAC7C,IAAIC,EAAKb,EAAI3X,IACZqY,GAAU,IAAItS,MAAM,MAAMlC,SAAQ,SAAUoK,GAC3C2J,EAAa5X,EAASiO,EAAOvI,EAAIpF,GAAUuD,SAAQ,SAAUkU,UACpDZ,EAASqB,GAAIT,EAAQphB,GACxB,wBAAyBqJ,GAASA,EAAQkZ,oBAAoBd,EAAUL,EAAQpW,GAAIoW,EAAQa,MAAOX,EAAaF,EAASQ,UAtEnInB,EAAc+B,MAAQ/B,EAAcgC,UAAYhC,EAAciC,QAAUjC,EAAckC,UAAY,cA2ElGle,EAAE6S,MAAQ,CACRrH,IAAKA,EACLH,OAAQA,GAGVrL,EAAEwd,MAAQ,SAAUlT,EAAI5E,GACtB,IAAI6C,EAAO,KAAK1I,WAAaa,EAAMxD,KAAK2C,UAAW,GAEnD,GAAI8D,EAAW2G,GAAK,CAClB,IAAI6T,EAAU,WACZ,OAAO7T,EAAGC,MAAM7E,EAAS6C,EAAOA,EAAK/H,OAAOE,EAAMxD,KAAK2C,YAAcA,YAIvE,OADAse,EAAQtC,KAAOU,EAAIjS,GACZ6T,EACF,GAAIrC,EAASpW,GAClB,OAAI6C,GACFA,EAAK6V,QAAQ9T,EAAG5E,GAAU4E,GACnBtK,EAAEwd,MAAMjT,MAAM,KAAMhC,IAEpBvI,EAAEwd,MAAMlT,EAAG5E,GAAU4E,GAG9B,MAAM,IAAInP,UAAU,sBAIxB6E,EAAEsK,GAAG+T,KAAO,SAAUxL,EAAO9D,EAAM3E,GACjC,OAAO1K,KAAK4V,GAAGzC,EAAO9D,EAAM3E,IAG9BpK,EAAEsK,GAAGgU,OAAS,SAAUzL,EAAOzI,GAC7B,OAAO1K,KAAK8V,IAAI3C,EAAOzI,IAGzBpK,EAAEsK,GAAGiU,IAAM,SAAU1L,EAAO3N,EAAU6J,EAAM3E,GAC1C,OAAO1K,KAAK4V,GAAGzC,EAAO3N,EAAU6J,EAAM3E,EAAU,IAGlD,IAAIoU,EAAa,WACf,OAAO,GAELC,EAAc,WAChB,OAAO,GAELC,EAAmB,uDACnBC,EAAe,CACjBf,eAAgB,qBAChBgB,yBAA0B,gCAC1Bf,gBAAiB,wBAGnB,SAASJ,EAAW5K,EAAOzN,GAiBzB,OAhBIA,GAAWyN,EAAMG,qBACnB5N,IAAWA,EAASyN,GACpB7S,EAAEiI,KAAK0W,GAAc,SAAUna,EAAM/E,GACnC,IAAIof,EAAezZ,EAAOZ,GAE1BqO,EAAMrO,GAAQ,WAEZ,OADA9E,KAAKD,GAAa+e,EACXK,GAAgBA,EAAatU,MAAMnF,EAAQvF,YAGpDgT,EAAMpT,GAAagf,KAErB5L,EAAMiM,YAAcjM,EAAMiM,UAAY1M,KAAK2E,aA9J3CzR,IA+JIF,EAAO2Z,iBAAmC3Z,EAAO2Z,iBAAmB,gBAAiB3Z,GAAgC,IAAvBA,EAAO4Z,YAAwB5Z,EAAO6Z,mBAAqB7Z,EAAO6Z,uBAAqBpM,EAAMG,mBAAqBwL,IAG/M3L,EAGT,SAASqM,EAAYrM,GACnB,IAAI9W,EACAyhB,EAAQ,CACV2B,cAAetM,GAGjB,IAAK9W,KAAO8W,EAAY6L,EAAiBrY,KAAKtK,SA3K5CuJ,IA2KoDuN,EAAM9W,KAAsByhB,EAAMzhB,GAAO8W,EAAM9W,IAErG,OAAO0hB,EAAWD,EAAO3K,GAG3B7S,EAAEsK,GAAG8U,SAAW,SAAUla,EAAU2N,EAAOzI,GACzC,OAAO1K,KAAK4V,GAAGzC,EAAO3N,EAAUkF,IAGlCpK,EAAEsK,GAAG+U,WAAa,SAAUna,EAAU2N,EAAOzI,GAC3C,OAAO1K,KAAK8V,IAAI3C,EAAO3N,EAAUkF,IAGnCpK,EAAEsK,GAAGgV,KAAO,SAAUzM,EAAOzI,GAE3B,OADApK,EAAEW,SAASuK,MAAMkU,SAAS1f,KAAKwF,SAAU2N,EAAOzI,GACzC1K,MAGTM,EAAEsK,GAAGiV,IAAM,SAAU1M,EAAOzI,GAE1B,OADApK,EAAEW,SAASuK,MAAMmU,WAAW3f,KAAKwF,SAAU2N,EAAOzI,GAC3C1K,MAGTM,EAAEsK,GAAGgL,GAAK,SAAUzC,EAAO3N,EAAU6J,EAAM3E,EAAUmU,GACnD,IAAIiB,EACAtC,EACAnR,EAAQrM,KAEZ,OAAImT,IAAUiJ,EAASjJ,IACrB7S,EAAEiI,KAAK4K,GAAO,SAAUpP,EAAM6G,GAC5ByB,EAAMuJ,GAAG7R,EAAMyB,EAAU6J,EAAMzE,EAAIiU,MAE9BxS,IAGJ+P,EAAS5W,IAAcvB,EAAWyG,KAA0B,IAAbA,IAAoBA,EAAW2E,EAAMA,EAAO7J,EAAUA,OA9MxGI,QAAAA,IA+ME8E,IAAqC,IAAT2E,IAAgB3E,EAAW2E,EAAMA,OA/M/DzJ,IAgNe,IAAb8E,IAAoBA,EAAWqU,GAC5B1S,EAAM9D,MAAK,SAAUkE,EAAGvH,GACzB2Z,IAAKiB,EAAa,SAAUjZ,GAE9B,OADA8E,EAAOzG,EAAS2B,EAAE9C,KAAM2G,GACjBA,EAASG,MAAM7K,KAAMG,aAE1BqF,IAAUgY,EAAY,SAAU3W,GAClC,IAAIkZ,EACA1Y,EAAQ/G,EAAEuG,EAAElL,QAAQ4Q,QAAQ/G,EAAUN,GAASrH,IAAI,GAEvD,GAAIwJ,GAASA,IAAUnC,EAKrB,OAJA6a,EAAMzf,EAAEmF,OAAO+Z,EAAY3Y,GAAI,CAC7BmZ,cAAe3Y,EACf4Y,UAAW/a,KAEL4a,GAAcpV,GAAUG,MAAMxD,EAAO,CAAC0Y,GAAKjf,OAAOE,EAAMxD,KAAK2C,UAAW,OAGpF2L,EAAI5G,EAASiO,EAAOzI,EAAU2E,EAAM7J,EAAUgY,GAAasC,QAI/Dxf,EAAEsK,GAAGkL,IAAM,SAAU3C,EAAO3N,EAAUkF,GACpC,IAAI2B,EAAQrM,KAEZ,OAAImT,IAAUiJ,EAASjJ,IACrB7S,EAAEiI,KAAK4K,GAAO,SAAUpP,EAAM6G,GAC5ByB,EAAMyJ,IAAI/R,EAAMyB,EAAUoF,MAErByB,IAGJ+P,EAAS5W,IAAcvB,EAAWyG,KAA0B,IAAbA,IAAoBA,EAAWlF,EAAUA,OAhP3FI,IAiPe,IAAb8E,IAAoBA,EAAWqU,GAC5B1S,EAAM9D,MAAK,WAChBoD,EAAO3L,KAAMmT,EAAOzI,EAAUlF,QAIlClF,EAAEsK,GAAGyI,QAAU,SAAUF,EAAOtK,GAG9B,OAFAsK,EAAQiJ,EAASjJ,IAAU7S,EAAEiE,cAAc4O,GAAS7S,EAAE8S,MAAMD,GAAS4K,EAAW5K,IAC1E8K,MAAQpV,EACP7I,KAAKuI,MAAK,WAEX4K,EAAMpP,QAAQyY,GAAoC,mBAApBxc,KAAKmT,EAAMpP,MAAqB/D,KAAKmT,EAAMpP,QACpE,kBAAmB/D,KAAMA,KAAKkgB,cAAc/M,GAAY7S,EAAEN,MAAM0V,eAAevC,EAAOtK,OAMnGvI,EAAEsK,GAAG8K,eAAiB,SAAUvC,EAAOtK,GACrC,IAAIhC,EAAGkI,EAUP,OATA/O,KAAKuI,MAAK,SAAU1M,EAAGqJ,IACrB2B,EAAI2Y,EAAYpD,EAASjJ,GAAS7S,EAAE8S,MAAMD,GAASA,IACjD8K,MAAQpV,EACVhC,EAAElL,OAASuJ,EACX5E,EAAEiI,KAAKuU,EAAa5X,EAASiO,EAAMpP,MAAQoP,IAAQ,SAAUtX,EAAGohB,GAE9D,GADAlO,EAASkO,EAAQa,MAAMjX,GACnBA,EAAEmX,gCAAiC,OAAO,QAG3CjP,GAIT,uLAAmM9D,MAAM,KAAKlC,SAAQ,SAAUoK,GAC9N7S,EAAEsK,GAAGuI,GAAS,SAAUzI,GACtB,OAAO,KAAKvK,UAAYH,KAAK2e,KAAKxL,EAAOzI,GAAY1K,KAAKqT,QAAQF,OAItE7S,EAAE8S,MAAQ,SAAUrP,EAAMnI,GACnBwgB,EAASrY,KAAqBA,GAAdnI,EAAQmI,GAAmBA,MAChD,IAAIoP,EAAQlS,SAASkf,YAAY7D,EAAcvY,IAAS,UACpDqc,GAAU,EACd,GAAIxkB,EAAO,IAAK,IAAIkJ,KAAQlJ,EAAe,WAARkJ,EAAoBsb,IAAYxkB,EAAMkJ,GAAQqO,EAAMrO,GAAQlJ,EAAMkJ,GAErG,OADAqO,EAAMkN,UAAUtc,EAAMqc,GAAS,GACxBrC,EAAW5K,IAhStB,CAkSG1S,GAEH,WAGE,IACE6M,sBAAiBxO,GACjB,MAAO+H,GACP,IAAIyZ,EAAyBhT,iBAE7BvS,OAAOuS,iBAAmB,SAAUpI,EAASqb,GAC3C,IACE,OAAOD,EAAuBpb,EAASqb,GACvC,MAAO1Z,GACP,OAAO,QAZf,GAkBA,SAAWvG,GACT,IAAI0C,EAAQ1C,EAAE0C,MACVwd,EAASxd,EAAM0E,IACf+Y,EAAazd,EAAMgE,QAEvB,SAAS0Z,EAAQvW,GAEf,UADAA,EAAO7J,EAAE6J,IACMgG,UAAWhG,EAAKmG,WAAqC,SAAxBnG,EAAKmE,IAAI,WAcvD,IAAIqS,EAAUrgB,EAAEiK,KAAK,KAAO,CAC1BmW,QAAS,WACP,GAAIA,EAAQ1gB,MAAO,OAAOA,MAE5B4gB,OAAQ,WACN,IAAKF,EAAQ1gB,MAAO,OAAOA,MAE7BwP,SAAU,WACR,GAAIxP,KAAKwP,SAAU,OAAOxP,MAE5B6gB,QAAS,WACP,GAAI7gB,KAAK6gB,QAAS,OAAO7gB,MAE3BsH,OAAQ,WACN,OAAOtH,KAAKuH,YAEd4E,MAAO,SAAUjG,GACf,GAAY,IAARA,EAAW,OAAOlG,MAExBoM,KAAM,SAAUlG,EAAKJ,GACnB,GAAII,IAAQJ,EAAMhK,OAAS,EAAG,OAAOkE,MAEvCkM,GAAI,SAAUhG,EAAKuG,EAAG5P,GACpB,GAAIqJ,IAAQrJ,EAAO,OAAOmD,MAE5ByJ,SAAU,SAAUvD,EAAKuG,EAAGkC,GAC1B,GAAIrO,EAAEN,MAAM2O,OAAOhH,QAAQgH,IAAS,EAAG,OAAO3O,MAEhDiM,IAAK,SAAU/F,EAAKuG,EAAGyQ,GACrB,GAAIla,EAAM0E,IAAI1H,KAAMkd,GAAKphB,OAAQ,OAAOkE,OAGxC8gB,EAAW,IAAI/b,OAAO,sCACtBgc,EAAU,QACVC,EAAW,UAAW,IAAItO,KAE9B,SAASuO,EAAQ/D,EAAKtS,GAEpBsS,EAAMA,EAAIvY,QAAQ,QAAS,SAC3B,IAAI5D,EACAkF,EACAoB,EAAQyZ,EAASI,KAAKhE,GAE1B,GAAI7V,GAASA,EAAM,KAAMsZ,IACvB5f,EAAS4f,EAAQtZ,EAAM,IAAKpB,EAAMoB,EAAM,GACxC6V,EAAM7V,EAAM,GAERpB,GAAK,CACP,IAAI6D,EAAMC,OAAO9D,GACDA,EAAZ+D,MAAMF,GAAY7D,EAAItB,QAAQ,eAAgB,IAAemF,EAIrE,OAAOc,EAAGsS,EAAKnc,EAAQkF,GAGzBjD,EAAM0E,IAAM,SAAUrC,EAAMG,GAC1B,OAAOyb,EAAQzb,GAAU,SAAU0X,EAAKnc,EAAQkF,GAC9C,IACE,IAAIkb,GACCjE,GAAOnc,EAAQmc,EAAM,IAAa6D,EAAQpa,KAAKuW,KAElDiE,EAAe7gB,EAAE+E,GAAMsL,SAASqQ,GAAW9D,EAAM,IAAM8D,EAAW,IAAM9D,GAC1E,IAAIpX,EAAQ0a,EAAOnb,EAAM6X,GACzB,MAAOrW,GAEP,MADAua,QAAQnN,MAAM,gCAAiCzO,GACzCqB,UAEFsa,GAAcA,EAAatQ,YAAYmQ,GAG7C,OAAQjgB,EAAiBiC,EAAMpC,KAAKN,EAAE6E,IAAIW,GAAO,SAAUub,EAAGxlB,GAC5D,OAAOkF,EAAOvD,KAAK6jB,EAAGxlB,EAAGiK,EAAOG,OADjBH,MAMrB9C,EAAMgE,QAAU,SAAU3B,EAAMG,GAC9B,OAAOyb,EAAQzb,GAAU,SAAU0X,EAAKnc,EAAQkF,GAC9C,QAASiX,GAAOuD,EAAWpb,EAAM6X,OAAWnc,GAAUA,EAAOvD,KAAK6H,EAAM,KAAMY,KAASZ,OApG7F,CAuGG5E,GAEH,IA6ZM6gB,EAmB6BC,EAE7Bva,EAlbFhE,EAAQvC,EAIR+gB,EAAe,CAAC,CAClB1c,KAAM,WACN2c,MAAO,SACPC,WAAY,sBACX,CACD5c,KAAM,gBACN2c,MAAO,SACPC,WAAY,0BACZC,kBAAmB,oBAClB,CACD7c,KAAM,SACN2c,MAAO,SACPC,WAAY,oBACX,CACD5c,KAAM,iBACN2c,MAAO,SACPC,WAAY,mBACX,CACD5c,KAAM,kBACN2c,MAAO,SACPC,WAAY,kBACX,CACD5c,KAAM,UACN2c,MAAO,UACPC,WAAY,qBACX,CACD5c,KAAM,aACN2c,MAAO,QACPC,WAAY,wBACX,CACD5c,KAAM,QACN2c,MAAO,QACPC,WAAY,mBACX,CACD5c,KAAM,QACN2c,MAAO,QACPC,WAAY,kBACZC,kBAAmB,qBAClB,CACD7c,KAAM,WACN2c,MAAO,WACPC,WAAY,sBACX,CACD5c,KAAM,oBACN2c,MAAO,WACPC,WAAY,wBACX,CACD5c,KAAM,oBACN2c,MAAO,WACPC,WAAY,oBACZC,kBAAmB,gBAClB,CACD7c,KAAM,UACN2c,MAAO,UACPC,WAAY,iBACZC,kBAAmB,kBAClB,CACD7c,KAAM,SACN2c,MAAO,SACPC,WAAY,mBACZC,kBAAmB,sBAKjBC,EAAU,CAAC,CACb9c,KAAM,eACN2c,MAAO,UACPC,WAAY,iBACZG,QAAS,OACR,CACD/c,KAAM,aACN2c,MAAO,UACPC,WAAY,iBACZG,QAAS,OACR,CACD/c,KAAM,gBACN2c,MAAO,UACPC,WAAY,iBACZG,QAAS,OACR,CACD/c,KAAM,YACN2c,MAAO,UACPC,WAAY,iBACZG,QAAS,OACR,CACD/c,KAAM,YACN2c,MAAO,UACPC,WAAY,iBACZG,QAAS,OACR,CACD/c,KAAM,cACN2c,MAAO,UACPC,WAAY,iBACZG,QAAS,OACR,CACD/c,KAAM,aACN2c,MAAO,UACPC,WAAY,kBACZG,QAAS,QACR,CACD/c,KAAM,gBACN2c,MAAO,gBACPC,WAAY,2BACX,CACD5c,KAAM,gBACN2c,MAAO,gBACPC,WAAY,8BACX,CACD5c,KAAM,UACN2c,MAAO,UACPC,WAAY,WACX,CACD5c,KAAM,YACN2c,MAAO,YACPC,WAAY,QACX,CACD5c,KAAM,UACN2c,MAAO,UACPC,WAAY,UACZC,kBAAmB,4BAClB,CACD7c,KAAM,OACN2c,MAAO,MACPC,WAAY,OACZC,kBAAmB,eACnBG,iBAAkB,SACjB,CACDhd,KAAM,OACN2c,MAAO,MACPC,WAAY,OACZC,kBAAmB,eACnBG,iBAAkB,SACjB,CACDhd,KAAM,SACN2c,MAAO,MACPC,WAAY,YACZC,kBAAmB,eACnBG,iBAAkB,SACjB,CACDhd,KAAM,uBACN2c,MAAO,SACPC,WAAY,mCACZI,iBAAkB,SACjB,CACDhd,KAAM,kBACN2c,MAAO,SACPC,WAAY,mCACZI,iBAAkB,SACjB,CACDhd,KAAM,sBACN2c,MAAO,SACPC,WAAY,mCACZI,iBAAkB,SACjB,CACDhd,KAAM,oBACN2c,MAAO,SACPC,WAAY,mCACZI,iBAAkB,SACjB,CACDhd,KAAM,qBACN2c,MAAO,SACPC,WAAY,kCACZI,iBAAkB,SACjB,CACDhd,KAAM,yBACN2c,MAAO,SACPC,WAAY,kCACZI,iBAAkB,SACjB,CACDhd,KAAM,gBACN2c,MAAO,SACPC,WAAY,kCACZI,iBAAkB,SACjB,CACDhd,KAAM,wBACN2c,MAAO,SACPC,WAAY,kCACZI,iBAAkB,SACjB,CACDhd,KAAM,mBACN2c,MAAO,SACPC,WAAY,kCACZI,iBAAkB,SACjB,CACDhd,KAAM,iBACN2c,MAAO,SACPC,WAAY,kCACZI,iBAAkB,SACjB,CACDhd,KAAM,mBACN2c,MAAO,SACPC,WAAY,kCACZI,iBAAkB,SACjB,CACDhd,KAAM,kBACN2c,MAAO,SACPC,WAAY,kCACZI,iBAAkB,SACjB,CACDhd,KAAM,gBACN2c,MAAO,SACPC,WAAY,kCACZI,iBAAkB,SACjB,CACDhd,KAAM,mBACN2c,MAAO,SACPC,WAAY,kCACZI,iBAAkB,SACjB,CACDhd,KAAM,SACN2c,MAAO,SACPC,WAAY,UACX,CACD5c,KAAM,SACN2c,MAAO,QACPC,WAAY,SACZC,kBAAmB,oBAClB,CACD7c,KAAM,SACN2c,MAAO,QACPC,WAAY,UACX,CACD5c,KAAM,SACN2c,MAAO,QACPC,WAAY,UACX,CACD5c,KAAM,QACN2c,MAAO,QACPC,WAAY,SACX,CACD5c,KAAM,aACN2c,MAAO,aACPC,WAAY,eAGVK,EAAU,GAqGVC,EAAoB,SAA2BH,EAASI,GAC1D,IAAIC,EAAeL,EAAQ5W,MAAM,IAAK,GACtCgX,EAAcE,YAAcN,EAExBK,EAAa,KAAID,EAAcG,aAAeC,SAASH,EAAa,KAEpEA,EAAa,KAAID,EAAcK,aAAeD,SAASH,EAAa,MAqDtEK,EAAe,SAAsBV,EAASW,EAAWC,GAC3D,IAAIC,EAA2C,KAA1BF,EAAUG,OAAO,EAAG,GAAY,IAAI5d,OAAOyd,EAAW,KAAOA,EAC9EN,EAAeL,EAAQ5W,MAAMyX,EAAgB,GAChC,KAAbF,IAAkBX,EAAUA,EAAQld,QAAQ,IAAII,OAAOyd,EAAW,KAAM,MAC5EC,EAASN,YAAcN,EAEnBK,GAAgBA,EAAa,KAAIO,EAASL,aAAeC,SAASH,EAAa,KAE/EA,GAAgBA,EAAa,KAAIO,EAASH,aAAeD,SAASH,EAAa,MA8BjFU,EAjLiB,SAAwBrB,GAC3C,IACIsB,EADA3J,EAAQqI,EAAGla,MAAM,oFAAsF,GAG3G,GAAI,WAAWV,KAAKuS,EAAM,IAExB,OADA2J,EAAQ,kBAAkB3B,KAAKK,IAAO,GAC/B,CACLzc,KAAM,KACN+c,QAASQ,SAASQ,EAAM,IAAM,KAE3B,GAAiB,WAAb3J,EAAM,GAAiB,CAEhC,GAAa,OADb2J,EAAQtB,EAAGla,MAAM,iBACE,MAAO,CACxBvC,KAAM,QACN+c,QAASQ,SAASQ,EAAM,KAG1B,GAAa,OADbA,EAAQtB,EAAGla,MAAM,kBACE,MAAO,CACxBvC,KAAM,OACN+c,QAASQ,SAASQ,EAAM,SAEjB,WAAWlc,KAAK4a,KAAQsB,EAAQtB,EAAGla,MAAM,sBAClD6R,EAAM9N,OAAO,EAAG,EAAG,mBACnB8N,EAAM9N,OAAO,EAAG,EAAGyX,EAAM,KAI3B,MAAO,CACL/d,MAFFoU,EAAQA,EAAM,GAAK,CAACA,EAAM,GAAIA,EAAM,IAAM,CAAC4J,UAAUC,QAASD,UAAUE,WAAY,OAEtE,GACZnB,QAASQ,SAASnJ,EAAM,KAoJV+J,CAAeH,UAAUI,WAuC3C,SAASC,EAAOloB,EAAKyK,GACnB,GAAIA,EACF,IAAK,IAAIyJ,KAAQzJ,EAAQ,CACvB,IAAI0d,EAAiBjnB,OAAOgC,yBAAyBuH,EAAQyJ,GAC7DiU,EAAiBjnB,OAAOC,eAAenB,EAAKkU,EAAMiU,GAAkBnoB,EAAIkU,GAAQzJ,EAAOyJ,GAI3F,OAAOlU,EAET,SAASwK,EAAO6B,EAAQa,GACtB,IAAIkb,EAEJ,SAAUC,GAGR,SAASD,IACP,IAAIE,EAEAC,EAEJloB,EAAgB0E,KAAMqjB,GAEtB,IAAK,IAAII,EAAOtjB,UAAUrE,OAAQ+M,EAAO,IAAIvK,MAAMmlB,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/E7a,EAAK6a,GAAQvjB,UAAUujB,GAKzB,OAFAF,EAAQjmB,EAA2ByC,MAAOujB,EAAmBxmB,EAAgBsmB,IAAY7lB,KAAKqN,MAAM0Y,EAAkB,CAACvjB,MAAMc,OAAO+H,KAChIV,EAAWwb,YAAYxb,EAAWwb,WAAW9Y,MAAMxN,EAAuBmmB,GAAQ3a,GAC/E2a,EAGT,OAlBA/mB,EAAU4mB,EAAWC,GAkBdD,EAnBT,CAoBE/b,GAGF,OADA6b,EAAOE,EAAUhoB,UAAW8M,GACrBkb,EA1ETtB,EAAQ6B,OAAS,QAAQjd,KAAKmc,UAAUI,WACxCnB,EAAQ8B,SAAW,gBAAgBld,KAAKmc,UAAUI,aAAenB,EAAQ6B,OACzE7B,EAAQ+B,SAAW,UAAUnd,KAAKmc,UAAUI,aAAenB,EAAQ8B,WAAa9B,EAAQ6B,OACxF7B,EAAQgC,UAAY,WAAWpd,KAAKmc,UAAUI,WAC9CnB,EAAQiC,aAAejpB,OAAOkpB,cAC9BlC,EAAQmC,KAAOnC,EAAQiC,YAAc,mBAAmBrd,KAAKmc,UAAUI,WACvEnB,EAAQoC,OAAS,kBAAkBxd,KAAKmc,UAAUI,WAClDnB,EAAQqC,aAAerC,EAAQ8B,UAAY,SAASld,KAAKmc,UAAUI,WACnEnB,EAAQsC,SAAW,6FAA6F1d,KAAKmc,UAAUI,WAC/HnB,EAAQuC,MAAQ,oBAAoB3d,KAAKmc,UAAUI,WACnDnB,EAAQwC,UAAY,WAAW5d,KAAKmc,UAAUI,WAC9CnB,EAAQyC,eAAiB,iBAAiB7d,KAAKmc,UAAUI,WACzDnB,EAAQ0C,UAAY,aAAa9d,KAAKmc,UAAUI,WAChDnB,EAAQ2C,OAAS,QAAQ/d,KAAKmc,UAAUI,WACxCnB,EAAQ4C,MAAQ,iBAAiBhe,KAAKmc,UAAUI,WAChDnB,EAAQ6C,gBApNc,WACpB,IAGE,OAFAC,aAAaC,QAAQ,SAAU,UAC/BD,aAAaE,WAAW,WACjB,EACP,MAAOle,GACP,OAAO,GA8Me+d,GAC1B7C,EAAQiD,SA3MO,WACb,IAEE,QADS,IAAIf,cAAc,iCAE3B,MAAOpd,GACP,SAAUic,UAAUmC,gBAAsEnmB,IAAzDgkB,UAAUmC,UAAU,mCAAkDnC,UAAUmC,UAAU,iCAAiCC,gBAsM7IF,GAOnBjD,EAAQjd,KAAO8d,EAAY9d,KAO3Bid,EAAQF,QAAUe,EAAYf,QAC9BE,EAAQmB,UAAYJ,UAAUI,UAC9BnB,EAAQ1S,KAjLa,WACnB,IAAI4S,EAAgB,GAChBiB,EAAYnB,EAAQmB,UAAUte,cAE9BugB,GAA4B,EAC5BC,GAAoB,EACpBC,OAAiBvmB,EAErB,IACE,IAAK,IAAiDwmB,EAA7CC,EAAY/D,EAAatmB,OAAOC,cAAsBgqB,GAA6BG,EAAQC,EAAUtmB,QAAQC,MAAOimB,GAA4B,EAAM,CAC7J,IAAIK,EAAUF,EAAMzoB,MAEhB4oB,EADgB,IAAI1gB,OAAOygB,EAAQ9D,WAAW9c,eACVsc,KAAKgC,GAE7C,GAA2B,MAAvBuC,GAA+BA,EAAoB,GAAI,CAIzD,GAHAxD,EAAcnd,KAAO0gB,EAAQ1gB,KAC7Bmd,EAAcR,MAAQ+D,EAAQ/D,MAE1B+D,EAAQ7D,kBAAmB,CAC7B,IACI+D,EADgB,IAAI3gB,OAAOygB,EAAQ7D,kBAAkB/c,eACjBsc,KAAKgC,GAClB,MAAvBwC,GAA+BA,EAAoB,IAAI1D,EAAkB0D,EAAoB,GAAIzD,QAErGD,EAAkByD,EAAoB,GAAIxD,GAG5C,QAGJ,MAAO7iB,GACPgmB,GAAoB,EACpBC,EAAiBjmB,UAEjB,IACO+lB,GAAoD,MAAvBI,EAAkB,QAClDA,EAAkB,iBAGpB,GAAIH,EACF,MAAMC,GAKZ,OAAOpD,EAqIM0D,GACf5D,EAAQ6D,GAzHQ,WACd,IAAInD,EAAW,GACXS,EAAYnB,EAAQmB,UAAUte,cAE9BihB,GAA6B,EAC7BC,GAAqB,EACrBC,OAAkBjnB,EAEtB,IACE,IAAK,IAA6CknB,EAAzCC,EAAarE,EAAQ1mB,OAAOC,cAAuB0qB,GAA8BG,EAASC,EAAWhnB,QAAQC,MAAO2mB,GAA6B,EAAM,CAC9J,IAAID,EAAKI,EAAOnpB,MAEZqpB,EADW,IAAInhB,OAAO6gB,EAAGlE,WAAW9c,eACVsc,KAAKgC,GAEnC,GAAsB,MAAlBgD,EAAwB,CAI1B,GAHAzD,EAAS3d,KAAO8gB,EAAG9gB,KACnB2d,EAAShB,MAAQmE,EAAGnE,MAEhBmE,EAAG/D,QACLU,EAAaqD,EAAG/D,QAAS+D,EAAG9D,iBAAmB8D,EAAG9D,iBAAmB,IAAKW,QACrE,GAAIyD,EAAe,GACxB3D,EAAa2D,EAAe,GAAIN,EAAG9D,iBAAmB8D,EAAG9D,iBAAmB,IAAKW,QAC5E,GAAImD,EAAGjE,kBAAmB,CAC/B,IACI+D,EADgB,IAAI3gB,OAAO6gB,EAAGjE,kBAAkB/c,eACZsc,KAAKgC,GAClB,MAAvBwC,GAA+BA,EAAoB,IAAInD,EAAamD,EAAoB,GAAIE,EAAG9D,iBAAmB8D,EAAG9D,iBAAmB,IAAKW,GAGnJ,QAGJ,MAAOrjB,GACP0mB,GAAqB,EACrBC,EAAkB3mB,UAElB,IACOymB,GAAsD,MAAxBI,EAAmB,QACpDA,EAAmB,iBAGrB,GAAIH,EACF,MAAMC,GAKZ,OAAOtD,EA2EI0D,GACbpE,EAAQqE,WA5DF9E,EAAiB,IACNnR,MAAQnN,EAAMjI,QAAQoV,QACrCmR,EAAehR,OAAStN,EAAMjI,QAAQuV,SAC/BgR,GA0DTS,EAAQsE,QA1C2B9E,EA0CRQ,EAAQmB,WAxC7Blc,EADiB,qDACQka,KAAKK,MACTva,EAAQ,IAAMA,EAAQ,KAAO,SAwC1B,IAAvBjM,OAAOurB,aAxDe,WAC3B,OAAQvrB,OAAOurB,aACb,KAAM,GACN,KAAK,GACHvE,EAAQqE,SAASE,YAAc,YAC/B,MAEF,QACEvE,EAAQqE,SAASE,YAAc,YAgDQC,GA8D7C,IAAIC,EAAa,CACfC,kBAAmB,WACjB,OAAOxlB,SAASwlB,mBAAqBxlB,SAASylB,yBAA2BzlB,SAAS0lB,sBAAwB1lB,SAAS2lB,qBAErHC,kBAAmB,SAA2Bvb,GACxCA,EAAGub,kBAAmBvb,EAAGub,oBAA6Bvb,EAAGwb,wBAAyBxb,EAAGwb,0BAAmCxb,EAAGyb,qBAAsBzb,EAAGyb,uBAAgCzb,EAAG0b,oBAAqB1b,EAAG0b,sBAA+B1b,EAAG2b,eAAiB3b,EAAG2b,cAAc,UAAY3b,EAAG2b,cAAc,SAASC,sBAAuB5b,EAAG2b,cAAc,SAASC,wBAAiC5b,EAAG4b,uBAAuB5b,EAAG4b,yBAE9aC,iBAAkB,WAChB,IAAI7b,EAAKnL,UAAUrE,OAAS,QAAsBgD,IAAjBqB,UAAU,GAAmBA,UAAU,GAAKc,SACzEqK,EAAG8b,eAAgB9b,EAAG8b,iBAA0B9b,EAAG+b,uBAAwB/b,EAAG+b,yBAAkC/b,EAAGgc,qBAAsBhc,EAAGgc,uBAAgChc,EAAGic,oBAAqBjc,EAAGic,sBAA+Bjc,EAAGkc,kBAAkBlc,EAAGkc,oBAEpQC,kBAAmB,WACjB,SAAUxmB,SAASwmB,mBAAqBxmB,SAASymB,yBAA2BzmB,SAAS0mB,sBAAwB1mB,SAAS2mB,uBAGtHC,EAEJ,WACE,SAASA,IACPvsB,EAAgB0E,KAAM6nB,GA+CxB,OA5CAvrB,EAAaurB,EAAQ,KAAM,CAAC,CAC1BxrB,IAAK,iBACLQ,MAAO,WACL,MAAO,CACLirB,OAAQ,CACNjrB,MAAO,IACPmO,MAAOqX,aAIZ,CACDhmB,IAAK,mBACLQ,MAAO,SAA0BR,GAC/B,IACE,OAAO2D,KAAK+nB,iBAAiB1rB,GAAK2O,MAAMhL,KAAK+nB,iBAAiB1rB,GAAKQ,OACnE,MAAOgK,GACP,UAGH,CACDxK,IAAK,kBACLQ,MAAO,SAAyBR,GAC9B,MAAO,UAAUyE,OAAOG,SAAS+mB,OAAQ,KAAKlnB,OAAOzE,KAEtD,CACDA,IAAK,UACLQ,MAAO,SAAiBR,GACtB,OAAI0lB,EAAQ6C,iBAAmBC,aAAa7kB,KAAKioB,gBAAgB5rB,IAAc2D,KAAK+nB,iBAAiB1rB,GAAK2O,MAAM6Z,aAAa7kB,KAAKioB,gBAAgB5rB,KAC3I2D,KAAKkoB,iBAAiB7rB,KAE9B,CACDA,IAAK,UACLQ,MAAO,SAAiBR,EAAKQ,GAC3B,GAAIklB,EAAQ6C,gBACV,IAEE,OADAC,aAAa7kB,KAAKioB,gBAAgB5rB,IAAQQ,GACnC,EACP,MAAOgK,GACP,OAAO,OAMRghB,EAjDT,GAmDIM,EAEJ,WACE,SAASA,IACP7sB,EAAgB0E,KAAMmoB,GAiDxB,OA9CA7rB,EAAa6rB,EAAa,KAAM,CAAC,CAC/B9rB,IAAK,QACLQ,MAAO,SAAeurB,GAWpB,IAVA,IAAI/gB,EAEAghB,EAAK,MAETC,EAAS,qBACLC,EAAS,SAAgBC,GAC3B,OAAOC,mBAAmBD,EAAE7jB,QAAQ0jB,EAAI,OAEtChP,EAAS,GAENhS,EAAQihB,EAAOpH,KAAKkH,IAEzB/O,EAAOkP,EAAOlhB,EAAM,IAAIzC,eAAiB2jB,EAAOlhB,EAAM,IAGxD,OAAOgS,IAER,CACDhd,IAAK,SACLwB,IAAK,WACH,IAAI4W,EAAQ1Z,OAAO8Z,SAASyT,OAAOI,UAAU,GAO7C,OALIjU,IAAUzU,KAAKyU,QACjBzU,KAAK2oB,WAAa3oB,KAAKgL,MAAMyJ,GAC7BzU,KAAKyU,MAAQA,GAGRzU,KAAK2oB,aAEb,CACDtsB,IAAK,aACLwB,IAAK,WACH,IAAI2b,EAAOze,OAAO8Z,SAAS2E,KAAKkP,UAAU,GAO1C,OALIlP,IAASxZ,KAAKwZ,OAChBxZ,KAAK4oB,YAAc5oB,KAAKgL,MAAMwO,GAC9BxZ,KAAKwZ,KAAOA,GAGPxZ,KAAK4oB,gBAITT,EAnDT,GAqDA,SAASU,IACP,IAAIC,EAAY3oB,UAAUrE,OAAS,QAAsBgD,IAAjBqB,UAAU,GAAmBA,UAAU,GAAK,IAChF4oB,EAAU,EACVC,EAAab,EAAY9O,OAAOyP,IAAcX,EAAYc,WAAWH,IAAc,GACnF5P,EAAQ8P,EAAW3hB,MAAM,kBAAoB,GAEjD,GAAI6R,EAAMpd,OAAS,EAAG,CACpB,IAAIotB,EAAS,CACXC,EAAK,KACLvX,EAAK,GACL4W,EAAK,GAEPtP,EAAMnQ,SAAQ,SAAUuC,GACtB,GAAIA,EAAI,CACN,IAAI8d,EAAS9d,EAAGA,EAAGxP,OAAS,GACxButB,EAAOhH,SAAS/W,EAAGtK,MAAM,EAAGsK,EAAGxP,OAAS,GAAI,IAChDitB,GAAWM,EAAOH,EAAOE,YAGpBJ,IACTD,EAAU1G,SAAS2G,EAAY,KAGjC,OAAOD,EAET,IAAIO,EAAa,GACjB,SAASC,EAASC,GAGhB,OAFAF,EAAWE,KAAYF,EAAWE,GAAU,GAErCA,KADIF,EAAWE,GAGxB,SAASC,EAAS5sB,GAChB,OAAOA,EAAQ2U,WAAW3U,GAAS,GAAK,EAE1C,SAAS6sB,IACP,IAAIC,EAAU1oB,SAASsI,qBAAqB,UAC5C,OAAOogB,EAAQ7tB,OAAS6tB,EAAQA,EAAQ7tB,OAAS,GAAGwW,IAAM,GAE5D,IAAIsX,GAAyB7uB,OAAO6uB,uBAAyB7uB,OAAO8uB,0BAA4B9uB,OAAO+uB,6BAA+B,SAAUlf,GAC9I7P,OAAOkb,WAAWrL,EAAI,IAAO,MAC5B+T,KAAK5jB,QACJgvB,GAAwBhvB,OAAOgvB,sBAAwBhvB,OAAOivB,yBAA2BjvB,OAAOkvB,4BAA8BlvB,OAAO8a,cAAc8I,KAAK5jB,QAC5J,SAASmvB,IACP,OAAOnvB,OAAO+nB,WAAa/nB,OAAO+nB,UAAUqH,SAmB9C,SAASC,EAAiBC,EAAItV,GAS5B,IAAI7P,GARJ6P,EAAU5Y,OAAOgnB,OAAO,CACtBmH,QAAQ,EACRC,OAAO,EACPvU,QAAS,IACTjS,KAAM,QACN2B,OAAQnF,EAAMC,IACd0E,QAAS,MACR6P,IACmB7P,QAAU6P,EAAQ7P,QAAUjE,SAASkB,cAAc4S,EAAQhR,MACjFmB,EAAQqlB,MAAQxV,EAAQwV,OACF,IAAlBxV,EAAQwV,OAAgBrlB,EAAQkB,aAAa,QAAS,UACnC,IAAnB2O,EAAQuV,QAAiBplB,EAAQkB,aAAa,cAAe,eACjElB,EAAQoN,IAAMyC,EAAQrP,OACtB,IAAIiQ,EAAUzQ,EAAQslB,OAClBC,EAAYxU,YAAW,WACzByU,GAAU,EAAO,IAAIC,MAAM,WAAW7pB,OAAOiU,EAAQiB,QAAS,4BAC7DjB,EAAQiB,SAEP0U,EAAY,SAAmB3b,GACjC,IAAIkF,EAAQ9T,UAAUrE,OAAS,QAAsBgD,IAAjBqB,UAAU,GAAmBA,UAAU,GAAK,KAChF0V,aAAa4U,GACbJ,EAAGtb,EAAQkF,SAGGnV,IAAZ6W,EACFA,EAAQqF,MAAK,WACX,OAAO0P,GAAU,MACT,OAAE,SAAUtrB,GACpB,OAAOsrB,GAAU,EAAOtrB,MAG1BsrB,GAAU,GAId,IAAIE,EAAa,GACbC,EAEJ,WACE,SAASA,IACPvvB,EAAgB0E,KAAM6qB,GA0BxB,OAvBAvuB,EAAauuB,EAAa,KAAM,CAAC,CAC/BxuB,IAAK,YACLQ,MAAO,SAAmBkY,GACxB/U,KAAK+U,QAAU/R,EAAMyC,OAAOzF,KAAK+U,QAASA,KAE3C,CACD1Y,IAAK,SACLQ,MAAO,SAAgBiI,GACrB,OAAI9E,KAAK+U,QAAQ+V,cAAyB,UAAThmB,GAAoB8lB,EAAW9uB,OAAS,EAAU8uB,EAAW9hB,QACvF7H,SAASkB,cAAc2C,KAE/B,CACDzI,IAAK,UACLQ,MAAO,SAAiByO,GACjBtL,KAAK+U,QAAQ+V,cAA6C,UAA7Bxf,EAAGyf,QAAQjjB,gBAC7C9E,EAAMsI,GAAIrG,WAAW0G,SACrBxP,OAAOwO,OAAOW,EAAG0f,YAAYjiB,SAAQ,SAAUP,GAC7C,OAAO8C,EAAGjF,gBAAgBmC,EAAK1D,SAEjC8lB,EAAWzrB,KAAKmM,QAIbuf,EA5BT,GA8BAA,EAAY9V,QAAU,CACpB+V,cAAc,GAEhB,IAAIG,EAEJ,WACE,SAASA,IACP,IAAIC,EAAQ/qB,UAAUrE,OAAS,QAAsBgD,IAAjBqB,UAAU,GAAmBA,UAAU,GAAK,IAEhF7E,EAAgB0E,KAAMirB,GAEtBjrB,KAAKkrB,MAAQA,EACblrB,KAAKmrB,SAAW,EAoBlB,OAjBA7uB,EAAa2uB,EAAoB,CAAC,CAChC5uB,IAAK,SACLQ,MAAO,SAAgBsW,EAAOkX,GAC5B,IAAIe,IAAYjrB,UAAUrE,OAAS,QAAsBgD,IAAjBqB,UAAU,KAAmBA,UAAU,GAE3EkrB,GAAc,IAAI3Y,MAAO4Y,UACzBC,EAAWF,EAAcrrB,KAAKmrB,SAE9BI,EAAWvrB,KAAKkrB,OAASK,EAAW,IACtClB,IACAe,GAAajY,EAAM+K,kBAGrBle,KAAKmrB,SAAWE,MAIbJ,EA3BT,GA6BIO,EAAQ,CACV3D,OAAQA,EACRrB,WAAYA,EACZ2B,YAAaA,EACb0C,YAAaA,EACb1H,OAAQA,EACR1d,OAAQA,EACRgmB,WA7TF,SAAoBpC,EAAMqC,GACxB,IAAKzhB,SAASof,GAAO,MAAO,QAC5BA,GAAc,IAEd,IAAIN,GADJM,EAAOhH,SAASgH,EAAO,MACF,GAEjBsC,GADJtC,EAAOhH,SAASgH,EAAO,KACF,GAEjBuC,GADJvC,EAAOhH,SAASgH,EAAO,KACJ,GACfwC,EAAOxJ,SAASgH,EAAO,IACvByC,EAAM,GAUV,OARID,GAAQA,EAAO,IACjBC,GAAOD,EAAO,IACVD,EAAQ,IAAGE,GAAO,SAGpBF,GAASA,EAAQ,GAAKF,KAAaI,IAAQ,IAAMF,GAAO5qB,OAAO,GAAK,KACxE8qB,IAAQ,IAAMH,GAAS3qB,OAAO,GAAK,KACnC8qB,IAAQ,IAAM/C,GAAS/nB,OAAO,IACnB2H,QA0SXkgB,oBAAqBA,EACrBU,SAAUA,EACVG,iBAAkBA,EAClBD,SAAUA,EACVG,sBAAuBA,EACvBG,qBAAsBA,EACtBG,mBAAoBA,EACpB7S,IAvIF,WACE,OAAItc,OAAOgxB,aAAehxB,OAAOgxB,YAAY1U,IAAY0U,YAAY1U,MAC9D3E,KAAK2E,OAsIZ2U,gBAnIF,SAAyB3tB,EAAK2J,GAC5B,IAAInM,EAAIwC,EAAIsJ,QAAQK,GAChBnM,GAAK,GAAGwC,EAAI+M,OAAOvP,EAAG,IAkI1BowB,uBA/HF,SAAgCjkB,EAAMkkB,GACpC,YAAaptB,IAATkJ,QAAgClJ,IAAVotB,QAGnBptB,IAFAotB,EAAMpsB,MAAK,SAAUqsB,GAC1B,OAAOnkB,EAAKpD,gBAAkBunB,EAASvnB,kBA6HzCwlB,iBAAkBA,EAClB7pB,MAAOA,EACP0qB,mBAAoBA,GAKlBmB,EAAO,sCAGPC,EAAO,kBAAoBD,EAC3BE,EAAQ,kBAAoBF,EAM5BG,EAAS,CARD,qDADD,qDASgBF,EAAMC,EAAOA,GACpCE,EAAe,CAAC,QAAS,OAAQ,OAAQ,QAAS,YAElDC,EAEJ,WACE,SAASA,IACP,IAAIC,EAAQvsB,UAAUrE,OAAS,QAAsBgD,IAAjBqB,UAAU,GAAmBA,UAAU,GAX9D,EAYTwsB,EAAWxsB,UAAUrE,OAAS,QAAsBgD,IAAjBqB,UAAU,GAAmBA,UAAU,GAVhE,EAYd7E,EAAgB0E,KAAMysB,GAEtBzsB,KAAK4sB,UAAY,CAAC,aAAc,sBAAuB,oBAAqB,kBAAmB,uBAAwB,sBACvH5sB,KAAK0sB,MAAQA,EACb1sB,KAAK2sB,SAAWA,EA2DlB,OAxDArwB,EAAamwB,EAAK,CAAC,CACjBpwB,IAAK,QACLQ,MAAO,SAAe0J,GACpBvG,KAAK6sB,IAAItmB,EAzBG,EAyBiBjI,MAAMjD,UAAU2F,MAAMxD,KAAK2C,UAAW,MAEpE,CACD9D,IAAK,OACLQ,MAAO,SAAc0J,GACnBvG,KAAK6sB,IAAItmB,EA7BE,EA6BiBjI,MAAMjD,UAAU2F,MAAMxD,KAAK2C,UAAW,MAEnE,CACD9D,IAAK,OACLQ,MAAO,SAAc0J,GACnBvG,KAAK6sB,IAAItmB,EAjCE,EAiCiBjI,MAAMjD,UAAU2F,MAAMxD,KAAK2C,UAAW,MAEnE,CACD9D,IAAK,QACLQ,MAAO,SAAe0J,GACpBvG,KAAK6sB,IAAItmB,EArCG,EAqCiBjI,MAAMjD,UAAU2F,MAAMxD,KAAK2C,UAAW,MAEpE,CACD9D,IAAK,QACLQ,MAAO,WACDmD,KAAK0sB,QAAU1sB,KAAK2sB,SACtB3sB,KAAK0sB,MAAQ1sB,KAAK8sB,eAElB9sB,KAAK8sB,cAAgB9sB,KAAK0sB,MAC1B1sB,KAAK0sB,MAAQ1sB,KAAK2sB,UAIhB5xB,OAAOqmB,SAAWrmB,OAAOqmB,QAAQyL,KAAK9xB,OAAOqmB,QAAQyL,IAAI,mCAAqCL,EAAaxsB,KAAK0sB,OAAQL,KAE7H,CACDhwB,IAAK,QACLQ,MAAO,SAAekwB,GACpB/sB,KAAK0sB,MAAQK,IAEd,CACD1wB,IAAK,MACLQ,MAAO,SAAa0J,EAAOmmB,EAAOM,GAChC,KAAIhtB,KAAK4sB,UAAUjlB,QAAQqlB,EAAQ,KAAO,GACtCN,EAAQ1sB,KAAK0sB,OAAjB,CAEKM,IACHA,EAAUzmB,EACVA,EAAQ,MAGV,IAAI0mB,EAAQV,EAAOG,GACfQ,EAAmB,GACnB3mB,IAAO2mB,EAAmB,IAAM3mB,EAAQ,KACxCxL,OAAOqmB,SAAWrmB,OAAOqmB,QAAQyL,KAAK9xB,OAAOqmB,QAAQyL,IAAIhiB,MAAMuW,QAAS,CAAC,MAAQoL,EAAaE,GAAS,IAAMQ,EAAkBD,GAAOnsB,OAAOksB,SAI9IP,EApET,GAsEAA,EAAIU,YAhFc,EAiFlBV,EAAIW,WAhFa,EAiFjBX,EAAIY,WAhFa,EAiFjBZ,EAAIa,YAhFc,EAkFlBb,EAAIc,YAAc,WAEhB,YADuBzuB,IAAnBkB,KAAKwtB,YAAyBxtB,KAAKwtB,UAAY,IAAIxtB,MAChDA,KAAKwtB,WAGdf,EAAIgB,SAAW,SAAUf,GACvB1sB,KAAKutB,cAAcb,MAAQA,GAG7BD,EAAIiB,MAAQ,WACV1tB,KAAKutB,cAAcG,MAAM7iB,MAAM7K,KAAKutB,cAAeptB,YAGrDssB,EAAIkB,KAAO,WACT3tB,KAAKutB,cAAcI,KAAK9iB,MAAM7K,KAAKutB,cAAeptB,YAGpDssB,EAAImB,KAAO,WACT5tB,KAAKutB,cAAcK,KAAK/iB,MAAM7K,KAAKutB,cAAeptB,YAGpDssB,EAAIxY,MAAQ,WACVjU,KAAKutB,cAActZ,MAAMpJ,MAAM7K,KAAKutB,cAAeptB,YAGrD,IAAIa,EAAQ1C,MAAMjD,UAAU2F,MACxB6sB,EAAgB,MAEhBC,GAAY,SAAmB7yB,EAAK8yB,EAAQjpB,EAAMkpB,GACpD,IAAKlpB,EAAM,OAAO,EAElB,GAAsB,WAAlB9J,EAAQ8J,GAAoB,CAC9B,IAAK,IAAIzI,KAAOyI,EACd7J,EAAI8yB,GAAQljB,MAAM5P,EAAK,CAACoB,EAAKyI,EAAKzI,IAAMyE,OAAOktB,IAGjD,OAAO,EAIT,GAAIH,EAAclnB,KAAK7B,GAAO,CAG5B,IAFA,IAAImpB,EAAQnpB,EAAKmG,MAAM4iB,GAEdhyB,EAAI,EAAGqyB,EAAID,EAAMnyB,OAAQD,EAAIqyB,EAAGryB,IACvCZ,EAAI8yB,GAAQljB,MAAM5P,EAAK,CAACgzB,EAAMpyB,IAAIiF,OAAOktB,IAG3C,OAAO,EAGT,OAAO,GAGLG,GAAgB,SAAuB5Q,EAAQ1U,EAAMtC,EAAOzB,GAC9D,IAAIspB,EACAvyB,GAAK,EACLqyB,EAAI3Q,EAAOzhB,OACXuyB,EAAKxlB,EAAK,GACVylB,EAAKzlB,EAAK,GACV0lB,EAAK1lB,EAAK,IAGd,SAAS2lB,IACP,IACE,OAAQ3lB,EAAK/M,QAEX,KAAK,EACH,OAASD,EAAIqyB,IACVE,EAAK7Q,EAAO1hB,IAAI6O,SAASlN,KAAK4wB,EAAGnS,KAGpC,OAEF,KAAK,EACH,OAASpgB,EAAIqyB,IACVE,EAAK7Q,EAAO1hB,IAAI6O,SAASlN,KAAK4wB,EAAGnS,IAAKoS,GAGzC,OAEF,KAAK,EACH,OAASxyB,EAAIqyB,IACVE,EAAK7Q,EAAO1hB,IAAI6O,SAASlN,KAAK4wB,EAAGnS,IAAKoS,EAAIC,GAG7C,OAEF,KAAK,EACH,OAASzyB,EAAIqyB,IACVE,EAAK7Q,EAAO1hB,IAAI6O,SAASlN,KAAK4wB,EAAGnS,IAAKoS,EAAIC,EAAIC,GAGjD,OAEF,QACE,OAAS1yB,EAAIqyB,IACVE,EAAK7Q,EAAO1hB,IAAI6O,SAASG,MAAMujB,EAAGnS,IAAKpT,GAG1C,QAEJ,MAAO4lB,GACPhC,EAAIxY,MAAMpJ,MAAM4hB,EAAK,CAAClmB,EAAO,iBAAkBzB,EAAM,UAAW,IAAK2pB,IACrED,KA3CJA,IAsDEE,GAEJ,WACE,SAASA,IACPpzB,EAAgB0E,KAAM0uB,GAgKxB,OA7JApyB,EAAaoyB,EAAQ,CAAC,CACpBryB,IAAK,KASLQ,MAAO,SAAYiI,EAAM4F,EAAU1E,GACjC,OAAK8nB,GAAU9tB,KAAM,KAAM8E,EAAM,CAAC4F,EAAU1E,KAAc0E,GAC1D1K,KAAK2uB,UAAY3uB,KAAK2uB,QAAU,KACnB3uB,KAAK2uB,QAAQ7pB,KAAU9E,KAAK2uB,QAAQ7pB,GAAQ,KAClD3F,KAAK,CACVuL,SAAUA,EACV1E,QAASA,EACTiW,IAAKjW,GAAWhG,OAEXA,MARoEA,OAkB5E,CACD3D,IAAK,OACLQ,MAAO,SAAciI,EAAM4F,EAAU1E,GACnC,IAEI4oB,EAFApL,EAAQxjB,KAIZ,IAAK8tB,GAAU9tB,KAAM,OAAQ8E,EAAM,CAAC4F,EAAU1E,MAAc0E,EAAU,OAAO1K,KAE7E,IAAI8V,EAAM,WACR,OAAO0N,EAAM1N,IAAIhR,EAAM8pB,IAQzB,OALAA,EAAQ,WACN9Y,IACApL,EAASG,MAAM7K,KAAMG,YAGhBH,KAAK4V,GAAG9Q,EAAM8pB,EAAO5oB,KAU7B,CACD3J,IAAK,MACLQ,MAAO,SAAaiI,EAAM4F,EAAU1E,GAClC,IAAI6oB,EAAQT,EAAI7Q,EAAQ0Q,EAAOpyB,EAAGqyB,EAAGY,EAAG1uB,EACxC,IAAKJ,KAAK2uB,UAAYb,GAAU9tB,KAAM,MAAO8E,EAAM,CAAC4F,EAAU1E,IAAW,OAAOhG,KAEhF,IAAK8E,IAAS4F,IAAa1E,EAEzB,OADAhG,KAAK2uB,aAAU,EACR3uB,KAKT,IAAKnE,EAAI,EAAGqyB,GAFZD,EAAQnpB,EAAO,CAACA,GAAQ3I,OAAO4yB,KAAK/uB,KAAK2uB,UAEnB7yB,OAAQD,EAAIqyB,EAAGryB,IAInC,GAHAiJ,EAAOmpB,EAAMpyB,GACb0hB,EAASvd,KAAK2uB,QAAQ7pB,GAEV,CAGV,GAFA9E,KAAK2uB,QAAQ7pB,GAAQ+pB,EAAS,GAE1BnkB,GAAY1E,EACd,IAAK8oB,EAAI,EAAG1uB,EAAImd,EAAOzhB,OAAQgzB,EAAI1uB,EAAG0uB,IACpCV,EAAK7Q,EAAOuR,IACRpkB,GAAYA,IAAa0jB,EAAG1jB,UAAYA,IAAa0jB,EAAG1jB,SAASskB,WAAahpB,GAAWA,IAAYooB,EAAGpoB,UAAS6oB,EAAO1vB,KAAKivB,GAIhIS,EAAO/yB,eAAekE,KAAK2uB,QAAQ7pB,GAI5C,OAAO9E,OAQR,CACD3D,IAAK,UACLQ,MAAO,SAAiBiI,GACtB,IAAIyB,EAAQvG,KAAK8E,MAAQ9E,KAAK5E,YAAY0J,KAE1C,GADA2nB,EAAIiB,MAAM7iB,MAAM4hB,EAAK,CAAClmB,GAAOzF,OAAOxC,MAAMjD,UAAU2F,MAAMxD,KAAK2C,cAC1DH,KAAK2uB,QAAS,OAAO3uB,KAC1B,IAAI6I,EAAO7H,EAAMxD,KAAK2C,UAAW,GACjC,IAAK2tB,GAAU9tB,KAAM,UAAW8E,EAAM+D,GAAO,OAAO7I,KACpD,IAAIud,EAASvd,KAAK2uB,QAAQ7pB,GACtBmqB,EAAYjvB,KAAK2uB,QAAQO,IAG7B,OAFI3R,GAAQ4Q,GAAc5Q,EAAQ1U,EAAMtC,EAAOzB,GAC3CmqB,GAAWd,GAAcc,EAAW9uB,UAAWoG,EAAOzB,GACnD9E,OAUR,CACD3D,IAAK,gBACLQ,MAAO,SAAuB5B,EAAK6J,EAAM4F,GACvC,IAAIykB,EAAcnvB,KAAKovB,aACvB,IAAKD,EAAa,OAAOnvB,KACzB,IAAI2L,GAAU7G,IAAS4F,EAIvB,IAAK,IAAIgT,KAHJhT,GAA8B,WAAlB1P,EAAQ8J,KAAoB4F,EAAW1K,MACpD/E,KAAMk0B,EAAc,IAAIl0B,EAAIo0B,WAAap0B,GAE9Bk0B,GACbl0B,EAAMk0B,EAAYzR,IACd5H,IAAIhR,EAAM4F,EAAU1K,OACpB2L,GAA8C,IAApCxP,OAAO4yB,KAAK9zB,EAAI0zB,SAAS7yB,gBAAqBkE,KAAKovB,aAAa1R,GAGhF,OAAO1d,QAEP,CAAC,CACH3D,IAAK,WACLQ,MAAO,SAAkBqW,GACvBwb,EAAOY,SAAWZ,EAAOY,OAAS,IAClC,IAAI5xB,EAAgC,iBAAdwV,GAA0BA,EAAUpL,cAAca,OAEpEjL,IAAagxB,EAAOY,OAAO5xB,GAC7BgxB,EAAOY,OAAO5xB,GAAYA,EAASkH,cAAcqG,MAAM,KAAK9F,KAAI,SAAUtI,EAAOkR,GAC/E,OAAiB,IAAVA,EAAclR,EAAQA,EAAQA,EAAM,GAAGiL,cAAgBjL,EAAMmE,MAAM,MACzE8N,KAAK,IACH2d,EAAIxY,MAAM,SAAU,8BAAgCf,KAE5D,CACD7W,IAAK,4BACLQ,MAAO,WAEL,OADA6xB,EAAOY,SAAWZ,EAAOY,OAAS,IAC3BnzB,OAAO4yB,KAAKL,EAAOY,QAAQvuB,QAAO,SAAUrD,GACjD,MAA0C,iBAA5BgxB,EAAOY,OAAO5xB,UAK3BgxB,EAlKT,GAoKIa,GAAgB,CAClBC,SAAU,KACVC,aAAc,QAEhBtzB,OAAO4yB,KAAKQ,IAAexmB,SAAQ,SAAU2mB,GAC3ChB,GAAOrzB,UAAUq0B,GAAU,SAAUz0B,EAAK6J,EAAM4F,GAM9C,OALkB1K,KAAKovB,eAAiBpvB,KAAKovB,aAAe,KACnDn0B,EAAIo0B,YAAcp0B,EAAIo0B,UAAY9F,EAAS,OAClCtuB,EACbyP,GAA8B,WAAlB1P,EAAQ8J,KAAoB4F,EAAW1K,MACxD/E,EAAIs0B,GAAcG,IAAS5qB,EAAM4F,EAAU1K,MACpCA,SAUX0uB,GAAOiB,aAAe,QAQtBjB,GAAOkB,cAAgB,SAQvBlB,GAAOmB,kBAAoB,aAO3BnB,GAAOoB,YAAc,OAOrBpB,GAAOqB,aAAe,QAOtBrB,GAAOsB,YAAc,OAOrBtB,GAAOuB,aAAe,QAQtBvB,GAAOwB,YAAc,OAQrBxB,GAAOyB,aAAe,cAqBtBzB,GAAOpC,MAAQ,QAafoC,GAAO0B,kBAAoB,aAQ3B1B,GAAO2B,oBAAsB,eAO7B3B,GAAO4B,0BAA4B,oBAkBnC5B,GAAO6B,kBAAoB,oBAa3B7B,GAAO8B,oBAAsB,sBAO7B9B,GAAO+B,eAAiB,iBAWxB/B,GAAOgC,mBAAqB,qBAY5BhC,GAAOiC,oBAAsB,sBAO7BjC,GAAOkC,wBAA0B,0BAajClC,GAAOmC,wBAA0B,0BASjCnC,GAAOoC,8BAAgC,gCAiBvCpC,GAAOqC,iBAAmB,mBAW1BrC,GAAOsC,0BAA4B,4BAQnCtC,GAAOuC,4BAA8B,+BAQrCvC,GAAOwC,0BAA4B,6BAWnCxC,GAAOyC,uBAAyB,yBAQhCzC,GAAO0C,aAAe,eAEtB1C,GAAO2C,8BAAgC,gCAEvC3C,GAAO4C,6BAA+B,+BAQtC5C,GAAO6C,eAAiB,iBAOxB7C,GAAO8C,qBAAuB,uBAW9B9C,GAAO+C,cAAgB,gBAOvB/C,GAAOgD,eAAiB,iBAOxBhD,GAAOiD,cAAgB,gBAOvBjD,GAAOkD,gBAAkB,kBAOzBlD,GAAOmD,cAAgB,gBASvBnD,GAAOoD,eAAiB,iBAExBpD,GAAOqD,mBAAqB,qBAE5BrD,GAAOsD,yBAA2B,2BAElCtD,GAAOuD,sBAAwB,wBAO/BvD,GAAOwD,4BAA8B,8BAWrCxD,GAAOyD,0BAA4B,4BAQnCzD,GAAO0D,wBAA0B,0BAOjC1D,GAAO2D,8BAAgC,gCAQvC3D,GAAO4D,oBAAsB,sBAO7B5D,GAAO6D,WAAa,aAQpB7D,GAAO8D,gBAAkB,kBAQzB9D,GAAO+D,YAAc,cAcrB/D,GAAOgE,gCAAkC,kCAQzChE,GAAOiE,gBAAkB,iBAQzBjE,GAAOkE,iBAAmB,kBAY1BlE,GAAOmE,wBAA0B,0BACjCnE,GAAOoE,kCAAoC,gBAiB3CpE,GAAOqE,kBAAoB,oBAC3BrE,GAAOsE,uBAAyB,yBAChCtE,GAAOuE,oBAAsB,sBAO7BvE,GAAOwE,gBAAkB,kBASzBxE,GAAOyE,iBAAmB,mBAC1BzE,GAAO0E,gBAAkB,kBAazB1E,GAAO2E,yBAA2B,2BAOlC3E,GAAO4E,6BAA+B,+BAWtC5E,GAAO6E,2BAA6B,6BAapC7E,GAAO8E,qBAAuB,uBAe9B9E,GAAO+E,mBAAqB,qBAC5B/E,GAAOgF,eAAiB,iBACxBhF,GAAOiF,eAAiB,iBACxBjF,GAAOkF,gBAAkB,kBACzBlF,GAAOmF,gBAAkB,kBACzBnF,GAAOoF,gBAAkB,kBACzBpF,GAAOqF,mBAAqB,qBAC5BrF,GAAOsF,sBAAwB,wBAC/BtF,GAAOuF,sBAAwB,uBAC/BvF,GAAOwF,sBAAwB,uBAQ/BxF,GAAOyF,eAAiB,iBAQxBzF,GAAO0F,iBAAmB,mBAC1B1F,GAAO2F,iBAAmB,mBAC1B3F,GAAO4F,qBAAuB,uBAO9B5F,GAAO6F,0BAA4B,4BAOnC7F,GAAO8F,2BAA6B,6BAOpC9F,GAAO+F,yBAA2B,2BASlC/F,GAAOgG,+BAAiC,iCAOxChG,GAAOiG,4BAA8B,8BAOrCjG,GAAOkG,4BAA8B,8BACrClG,GAAOmG,+BAAiC,iCACxCnG,GAAOoG,8BAAgC,gCACvCpG,GAAOqG,oBAAsB,sBAO7BrG,GAAOsG,yBAA2B,2BAElCtG,GAAOuG,sBAAwB,wBAO/BvG,GAAOwG,wBAA0B,0BAOjCxG,GAAOyG,kBAAoB,oBAO3BzG,GAAO0G,kBAAoB,oBAS3B1G,GAAO2G,+BAAiC,iCASxC3G,GAAO4G,gCAAkC,kCAOzC5G,GAAO6G,qBAAuB,uBAO9B7G,GAAO8G,wBAA0B,0BAOjC9G,GAAO+G,8BAAgC,gCAOvC/G,GAAOgH,4BAA8B,8BASrC,IAAIC,GAEJ,SAAUC,GAqBR,SAASD,IACP,IAAInS,EAEAzO,EAAU5U,UAAUrE,OAAS,QAAsBgD,IAAjBqB,UAAU,GAAmBA,UAAU,GAAK,GAOlF,OALA7E,EAAgB0E,KAAM21B,IAEtBnS,EAAQjmB,EAA2ByC,KAAMjD,EAAgB44B,GAAYn4B,KAAKwC,KAAM+U,KAC1E8gB,SAAW9gB,EACjByO,EAAM+F,SAAWA,EAAS,KACnB/F,EAUT,OAxCA/mB,EAAUk5B,EAAYC,GAEtBt5B,EAAaq5B,EAAY,CAAC,CACxBt5B,IAAK,UAOLwB,IAAK,WACH,OAAOmC,KAAK61B,aA6BTF,EAzCT,CA0CEjH,IAEEoH,GAAwB,iBASxBC,GAEJ,SAAUC,GAgGR,SAASD,EAAShhB,GAChB,IAAIyO,EAWJ,OATAloB,EAAgB0E,KAAM+1B,IAEtBvS,EAAQjmB,EAA2ByC,KAAMjD,EAAgBg5B,GAAUv4B,KAAKwC,KAAM+U,KACxEkhB,IAAM1M,EAAS,KAErB/F,EAAM0S,iBAEN1S,EAAM2S,iBAEC3S,EAwHT,OAnOA/mB,EAAUs5B,EAAUC,GAEpB15B,EAAay5B,EAAU,CAAC,CACtB15B,IAAK,UA6BLwB,IAAK,WACH,MAAO,QAuBR,CACDxB,IAAK,SACLwB,IAAK,WACH,MAAO,KAoBR,CACDxB,IAAK,aACLwB,IAAK,WACH,MAAO,OAuCXvB,EAAay5B,EAAU,CAAC,CACtB15B,IAAK,IACLQ,MAAO,SAAW2I,GAChB,OAAOxF,KAAKo2B,IAAIt2B,KAAK0F,KAQtB,CACDnJ,IAAK,SACLQ,MAAO,WACL,OAAOmD,OAQR,CACD3D,IAAK,UACLQ,MAAO,WAIL,OAHAmD,KAAKo2B,IAAIzqB,SACT3L,KAAKq2B,gBACLr2B,KAAKs2B,mBACEt2B,OAUR,CACD3D,IAAK,aACLQ,MAAO,SAAoBqI,EAASwa,GAKlC,OAJI1f,KAAKo2B,KAAKp2B,KAAKs2B,mBACnBt2B,KAAKo2B,IAAMpzB,EAAMA,MAAMyF,IAAIvD,GAAWA,EAAUlC,EAAMkC,GACtDlF,KAAKsL,GAAKtL,KAAKo2B,IAAI,IACF,IAAb1W,GAAoB1f,KAAKm2B,iBACtBn2B,OASR,CACD3D,IAAK,iBACLQ,MAAO,SAAwB0gB,GAC7B,IAAMA,KAAWA,EAASvd,KAAKud,QAAU,OAAOvd,KAGhD,IAAK,IAAI3D,KAFT2D,KAAKs2B,mBAEW/Y,EAAQ,CACtB,IAAImS,EAASnS,EAAOlhB,GAEpB,GADIqzB,GAAUA,EAAOt0B,cAAgBm7B,WAAU7G,EAAS1vB,KAAKud,EAAOlhB,KAC/DqzB,EAAL,CACA,IAAIroB,EAAQhL,EAAIgL,MAAMyuB,IAClB5iB,EAAY7L,EAAM,GAClB7B,EAAW6B,EAAM,GACrB6L,GAAa,kBAAoBlT,KAAKi2B,IACrB,KAAbzwB,EAAiBxF,KAAKo2B,IAAIxgB,GAAG1C,EAAWwc,EAAO/Q,KAAK3e,OAAYA,KAAKo2B,IAAIxgB,GAAG1C,EAAW1N,EAAUkqB,EAAO/Q,KAAK3e,QAGnH,OAAOA,OAQR,CACD3D,IAAK,mBACLQ,MAAO,WAEL,OADAmD,KAAKo2B,IAAItgB,IAAI,kBAAoB9V,KAAKi2B,KAC/Bj2B,OAQR,CACD3D,IAAK,iBACLQ,MAAO,WACL,GAAKmD,KAAKsL,GAORtL,KAAKw2B,WAAWx2B,KAAKsL,IAAI,OAPb,CACZ,IAAImrB,EAAQzzB,EAAMyC,OAAO,GAAIzF,KAAKgrB,YAC9BhrB,KAAK0d,KAAI+Y,EAAM/Y,GAAK1d,KAAK0d,IACzB1d,KAAKsG,YAAWmwB,EAAa,MAAIz2B,KAAKsG,WAC1C,IAAI8vB,EAAMpzB,EAAM6nB,EAAYjuB,OAAOoD,KAAK+qB,UAAUviB,KAAKiuB,GACvDz2B,KAAKw2B,WAAWJ,GAAK,QAOpBL,EApOT,CAqOEJ,IAUEe,GAEJ,SAAUV,GAwBR,SAASU,IACP,IAAIlT,EAEAzO,EAAU5U,UAAUrE,OAAS,QAAsBgD,IAAjBqB,UAAU,GAAmBA,UAAU,GAAK,GAC9Ew2B,EAAOx2B,UAAUrE,OAAS,EAAIqE,UAAU,QAAKrB,EAMjD,OAJAxD,EAAgB0E,KAAM02B,IAEtBlT,EAAQjmB,EAA2ByC,KAAMjD,EAAgB25B,GAAal5B,KAAKwC,KAAM+U,KAC3E4hB,KAAOA,EACNnT,EAqBT,OAtDA/mB,EAAUi6B,EAAaV,GAEvB15B,EAAao6B,EAAa,CAAC,CACzBr6B,IAAK,OACLwB,IAAK,WACH,MAAO,WAOP,CAAC,CACHxB,IAAK,SACLwB,IAAK,WACH,MAAO,CACL+4B,MAAO,QACPvK,KAAM,OACNwK,KAAM,YAwBZv6B,EAAao6B,EAAa,CAAC,CACzBr6B,IAAK,cACLQ,MAAO,SAAqBuC,GACrBY,KAAK22B,KAKV32B,KAAK22B,KAAKtjB,QAAQqb,GAAOpC,MAAOltB,GAJ9BqtB,EAAImB,KAAK5tB,KAAK8E,KAAM,2BAA4B1F,OAQ/Cs3B,EAvDT,CAwDEf,IAEEmB,GAAa,CAOfC,YAAa,SAAqB9iB,GAChC,IAAIc,EAAU5U,UAAUrE,OAAS,QAAsBgD,IAAjBqB,UAAU,GAAmBA,UAAU,GAAK,CAChF62B,eAAe,GAEbzd,EAAQvZ,KAAK5E,aAAe4E,KAAK5E,YAAY2I,MAAQ,GACrDkzB,EAASj3B,KAAK8E,MAAQyU,EACtB2d,EAAOl3B,KAAKk3B,MAAQl3B,KAAK22B,MAAQ32B,KAAK22B,KAAKO,MAAQl3B,KAAKoI,WAAapI,KAAKoI,UAAU8uB,KACpFC,EAAe,GAAGr2B,OAAOm2B,EAAQ,KAAKn2B,OAAOmT,GAASA,EAAMmjB,MAAQ,WACpEC,EAAe,CACjBC,YAAa,GACb5K,MAAOgK,GAAYa,OAAOX,MAC1BK,OAAQA,EACR1d,MAAOA,EACPie,IAAK,IAEHC,EAAYt7B,OAAOgnB,OAAO,GAAIkU,EAAcpjB,EAAO,CACrDmjB,KAAMriB,EAAQiiB,cAAgBG,EAAeljB,EAAMmjB,OAGrD,GAAIF,GAAQO,EAAU/K,OAASgK,GAAYa,OAAOX,QAAUa,EAAUC,GAAI,CACxE,IAAIC,EAAY,CACdC,MAAOV,EAAKW,EAAE,uBACd7K,QAASkK,EAAKW,EAAE,0BAElBJ,EAAUC,GAAKC,EAIjB,OADI33B,KAAK83B,YAAa93B,KAAK83B,YAAYf,YAAYU,GAAgBhL,EAAImB,KAAKqJ,EAAQ,sCAAuCQ,GACpHA,IAIPM,GAEJ,SAAUC,GAUR,SAASD,EAAapB,GACpB,IAAInT,EAYJ,OAVAloB,EAAgB0E,KAAM+3B,IAEtBvU,EAAQjmB,EAA2ByC,KAAMjD,EAAgBg7B,GAAcv6B,KAAKwC,KAAM22B,EAAK5hB,WACjF4hB,KAAOA,EACbnT,EAAMyU,SAAU,EAEhBzU,EAAM0U,aAEN1U,EAAM2U,SAEC3U,EAkCT,OAxDA/mB,EAAUs7B,EAAcC,GAExB17B,EAAay7B,EAAc,CAAC,CAC1B17B,IAAK,cACLwB,IAAK,WACH,OAAOmC,KAAK22B,KAAKmB,gBAoBrBx7B,EAAay7B,EAAc,CAAC,CAC1B17B,IAAK,aACLQ,MAAO,cACN,CACDR,IAAK,uBACLQ,MAAO,WACL,MAAO,KAER,CACDR,IAAK,SACLQ,MAAO,WACAmD,KAAKi4B,UACRj4B,KAAKk4B,aACLl4B,KAAKo2B,IAAIlpB,OACTlN,KAAKi4B,SAAU,KAGlB,CACD57B,IAAK,UACLQ,MAAO,WACLmD,KAAKq2B,gBACLr2B,KAAKo2B,IAAI/nB,OACTrO,KAAKi4B,SAAU,IAEhB,CACD57B,IAAK,SACLQ,MAAO,WACL,OAAOmD,SAIJ+3B,EAzDT,CA0DEhC,IASF,SAASqC,GAAY9pB,EAAK+pB,QACX,IAARA,IAAiBA,EAAM,IAC5B,IAAIC,EAAWD,EAAIC,SAEnB,GAAKhqB,GAA2B,oBAAbrN,SAAnB,CAEA,IAAI8U,EAAO9U,SAAS8U,MAAQ9U,SAASsI,qBAAqB,QAAQ,GAC9D8D,EAAQpM,SAASkB,cAAc,SACnCkL,EAAMtJ,KAAO,WAEI,QAAbu0B,GACEviB,EAAK5D,WACP4D,EAAK1D,aAAahF,EAAO0I,EAAK5D,YAKhC4D,EAAKtO,YAAY4F,GAGfA,EAAMkrB,WACRlrB,EAAMkrB,WAAW9nB,QAAUnC,EAE3BjB,EAAM5F,YAAYxG,SAASu3B,eAAelqB,KA/B9CnS,OAAOgnB,OAAO4U,GAAa18B,UAAWy7B,IAEtCiB,GAAatyB,OAAS,SAAU0C,GAC9B,OAAO1C,EAAOsyB,GAAc5vB,IAG9B4vB,GAAah0B,KAAO,OA8BpBq0B,GADU,oUAYV,IAAIK,GAEJ,SAAUT,GAyHR,SAASS,EAAU1jB,EAASmiB,EAAMY,GAChC,IAAItU,EAoBJ,OAlBAloB,EAAgB0E,KAAMy4B,IAEtBjV,EAAQjmB,EAA2ByC,KAAMjD,EAAgB07B,GAAWj7B,KAAKwC,KAAM+U,KACzE2jB,MAAQxB,EACd1T,EAAM6H,YAAc,EACpB7H,EAAMsE,OAAS,IACftE,EAAMmV,SAAW5jB,EAAQ4jB,SACzBnV,EAAMsU,YAAcA,EACpBtU,EAAMvQ,SAAWjQ,EAAMyC,OAAO,GAAI+d,EAAMmV,SAAS1lB,UACjDuQ,EAAMoV,SAAU,EAChBpV,EAAMqV,sBAAuB,EAC7BrV,EAAMsV,QAAU,CAACtV,EAAMmV,UACvBnV,EAAMuV,cAAgB,IAAI9N,EAAmB,KAC7CzH,EAAMwV,WAAa,KACnBxV,EAAMyV,WAAa,IAEnBzV,EAAM0U,aAEC1U,EA4dT,OAzmBA/mB,EAAUg8B,EAAWT,GAErB17B,EAAam8B,EAAW,CAAC,CACvBp8B,IAAK,OAQLwB,IAAK,WACH,MAAO,cAER,CACDxB,IAAK,aACLwB,IAAK,WACH,MAAO,CACLyF,MAAS,YACT41B,iBAAkB,MAGrB,CACD78B,IAAK,SACLwB,IAAK,WACH,MAAO,CACLwgB,MAAS,UACT8a,SAAY,aACZC,SAAY,SACZC,YAAe,gBACf1c,WAAc,aACdC,WAAc,gBASjB,CACDvgB,IAAK,QACLwB,IAAK,WACH,OAAOmC,KAAK24B,SAASW,QAUtB,CACDj9B,IAAK,YACLwB,IAAK,WACH,OAAOmC,KAAK24B,SAASY,YAQtB,CACDl9B,IAAK,OACLwB,IAAK,WACH,OAAOmC,KAAK04B,QAQb,CACDr8B,IAAK,0BACLwB,IAAK,WACH,OAAOmC,KAAK24B,SAASa,0BAQtB,CACDn9B,IAAK,uBACLwB,IAAK,WACH,OAAOmC,KAAK24B,SAASc,uBAQtB,CACDp9B,IAAK,wBACLwB,IAAK,WACH,OAAOmC,KAAK24B,SAASe,uBAQvB/b,IAAK,SAAagc,GAChB35B,KAAK24B,SAASe,sBAAwBC,MAgE1Cr9B,EAAam8B,EAAW,CAAC,CACvBp8B,IAAK,aACLQ,MAAO,WACLmD,KAAKwvB,SAASxvB,KAAK24B,SAAUjK,GAAO6B,kBAAmBvwB,KAAK45B,YAC5D55B,KAAKwvB,SAASxvB,KAAK24B,SAAUjK,GAAO8B,oBAAqBxwB,KAAK65B,aAC9D75B,KAAKwvB,SAASxvB,KAAK24B,SAAUjK,GAAO+B,eAAgBzwB,KAAK4I,OACzD5I,KAAKwvB,SAASxvB,KAAK24B,SAAUjK,GAAOgC,mBAAoB1wB,KAAK85B,aAC7D95B,KAAKwvB,SAASxvB,KAAK24B,SAAUjK,GAAOiC,oBAAqB3wB,KAAK+5B,YAC9D/5B,KAAKwvB,SAASxvB,KAAK24B,SAAUjK,GAAOkC,wBAAyB5wB,KAAKg6B,gBAClEh6B,KAAKwvB,SAASxvB,KAAK24B,SAAUjK,GAAOmC,wBAAyB7wB,KAAKi6B,gBAClEj6B,KAAKwvB,SAASxvB,KAAK24B,SAAUjK,GAAOoC,8BAA+B9wB,KAAKk6B,sBACxEl6B,KAAKwvB,SAASxvB,KAAK24B,SAAUjK,GAAOqC,iBAAkB/wB,KAAKm6B,eAC3Dn6B,KAAKwvB,SAASxvB,KAAK24B,SAAUjK,GAAOyC,uBAAwBnxB,KAAKo6B,sBACjEp6B,KAAKwvB,SAASxvB,KAAK24B,SAAUjK,GAAO0C,aAAcpxB,KAAKq6B,yBACvDr6B,KAAKwvB,SAASxvB,KAAK24B,SAAUjK,GAAO2C,8BAA+BrxB,KAAKs6B,qBACxEt6B,KAAKwvB,SAASxvB,KAAK24B,SAAUjK,GAAO4C,6BAA8BtxB,KAAKu6B,oBACvEv6B,KAAKwvB,SAASxvB,KAAK24B,SAAUjK,GAAOkD,gBAAiB5xB,KAAKw6B,UAC1Dx6B,KAAKwvB,SAASxvB,KAAK24B,SAAUjK,GAAO6C,eAAgBvxB,KAAKy6B,SACzDz6B,KAAKwvB,SAASxvB,KAAK24B,SAAUjK,GAAO+C,cAAezxB,KAAK06B,SACxD16B,KAAKwvB,SAASxvB,KAAK24B,SAAUjK,GAAOgD,eAAgB1xB,KAAK26B,QACzD36B,KAAKwvB,SAASxvB,KAAK24B,SAAUjK,GAAOmD,cAAe7xB,KAAK46B,SACxD56B,KAAKwvB,SAASxvB,KAAK24B,SAAUjK,GAAOoD,eAAgB9xB,KAAKiU,OACzDjU,KAAKwvB,SAASxvB,KAAK24B,SAAUjK,GAAOwD,4BAA6BlyB,KAAK66B,mBACtE76B,KAAKwvB,SAASxvB,KAAK24B,SAAUjK,GAAOyD,0BAA2BnyB,KAAK86B,mBAErE,CACDz+B,IAAK,oBACLQ,MAAO,WACLmD,KAAKqT,QAAQqb,GAAO4E,gCAErB,CACDj3B,IAAK,kBACLQ,MAAO,SAAyBk+B,GAC9B/6B,KAAKqT,QAAQqb,GAAO6E,2BAA4BwH,KAEjD,CACD1+B,IAAK,uBACLQ,MAAO,SAA8Bge,GACnC7a,KAAKqT,QAAQqb,GAAOmE,wBAAyBhY,KAE9C,CACDxe,IAAK,0BACLQ,MAAO,SAAiCm+B,GACtCh7B,KAAKiT,SAAWjT,KAAK24B,SAAS1lB,SAC9BjT,KAAKg7B,SAAWA,EAChBh7B,KAAKqT,QAAQqb,GAAOoE,kCAAmCkI,KAExD,CACD3+B,IAAK,gBACLQ,MAAO,SAAuBo+B,GAC5Bj7B,KAAKqT,QAAQqb,GAAOqE,kBAAmBkI,KAExC,CACD5+B,IAAK,cACLQ,MAAO,SAAqBq+B,GAC1Bl7B,KAAKqT,QAAQqb,GAAOsE,uBAAwBkI,KAE7C,CACD7+B,IAAK,kBACLQ,MAAO,WACL,OAAOmD,KAAK24B,SAASwC,oBAQtB,CACD9+B,IAAK,eACLQ,MAAO,WACL,QAASmD,KAAK24B,SAASyC,aAQxB,CACD/+B,IAAK,aACLQ,MAAO,WACL,QAASmD,KAAKg7B,WAOf,CACD3+B,IAAK,UACLQ,MAAO,WACLmD,KAAKq7B,wBACLr7B,KAAKqT,QAAQqb,GAAOuE,oBAAqBjzB,KAAMA,KAAK8E,MACpD9E,KAAKq2B,gBACLr2B,KAAK84B,QAAQ/vB,SAAQ,SAAUuyB,GAC7B,OAAOA,EAAOC,aAEhBv7B,KAAKo2B,IAAIzqB,WAEV,CACDtP,IAAK,WACLQ,MAAO,SAAkBwQ,GACvBrN,KAAKo2B,IAAI9nB,IAAIjB,KAEd,CACDhR,IAAK,UACLQ,MAAO,SAAiBwQ,EAAOmuB,GAC7B,OAAOx7B,KAAKo2B,IAAIqF,QAAQpuB,EAAOmuB,GAAU7lB,YAE1C,CACDtZ,IAAK,QACLQ,MAAO,WACLmD,KAAK44B,SAAU,EACf54B,KAAKqT,QAAQqb,GAAOwE,gBAAiBlzB,KAAK8E,QAE3C,CACDzI,IAAK,YACLQ,MAAO,WACL,OAAOmD,KAAK24B,SAAS+C,cAEtB,CACDr/B,IAAK,qBACLQ,MAAO,WACL,OAAOmD,KAAK24B,SAASgD,uBAEtB,CACDt/B,IAAK,iBACLQ,MAAO,WACL,OAAOmD,KAAKqrB,cAEb,CACDhvB,IAAK,cACLQ,MAAO,WACL,OAAOmD,KAAK24B,SAASiD,gBAEtB,CACDv/B,IAAK,QACLQ,MAAO,SAAeg/B,GACf77B,KAAK44B,SAAS54B,KAAK4I,QACxB5I,KAAKqT,QAAQqb,GAAO0E,gBAAiByI,EAAQ77B,KAAK8E,QAEnD,CACDzI,IAAK,iBACLQ,MAAO,SAAwBi/B,GAC7B97B,KAAKqT,QAAQqb,GAAO2E,yBAA0ByI,KAE/C,CACDz/B,IAAK,cACLQ,MAAO,SAAqBk/B,GAC1B/7B,KAAKqrB,YAAc0Q,EAAaC,QAChCh8B,KAAKqT,QAAQqb,GAAO8E,qBAAsBuI,EAAc/7B,KAAK8E,QAE9D,CACDzI,IAAK,aACLQ,MAAO,WACL,IAAK,IAAI4mB,EAAOtjB,UAAUrE,OAAQ+M,EAAO,IAAIvK,MAAMmlB,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/E7a,EAAK6a,GAAQvjB,UAAUujB,GAGzB1jB,KAAKqT,QAAQxI,MAAM7K,KAAM,CAAC0uB,GAAO+E,oBAAoB3yB,OAAO+H,EAAM,CAAC7I,KAAK8E,UAEzE,CACDzI,IAAK,UACLQ,MAAO,WACLmD,KAAKqT,QAAQqb,GAAOgF,eAAgB1zB,KAAK8E,QAE1C,CACDzI,IAAK,SACLQ,MAAO,WACLmD,KAAKqT,QAAQqb,GAAOkF,gBAAiB5zB,KAAK8E,QAO3C,CACDzI,IAAK,OACLQ,MAAO,WACLmD,KAAK24B,SAASnO,SAOf,CACDnuB,IAAK,OACLQ,MAAO,WACLmD,KAAK24B,SAASsD,OACdj8B,KAAKqrB,YAAc,IAOpB,CACDhvB,IAAK,QACLQ,MAAO,WACLmD,KAAK24B,SAASuD,UAEf,CACD7/B,IAAK,UACLQ,MAAO,WACLmD,KAAKqT,QAAQqb,GAAOmF,gBAAiB7zB,KAAMA,KAAK8E,MAChD9E,KAAKqrB,YAAc,IAEpB,CACDhvB,IAAK,UACLQ,MAAO,WACLmD,KAAKqT,QAAQqb,GAAOiF,kBAErB,CACDt3B,IAAK,UACLQ,MAAO,WACL,IAAIs/B,EAASn8B,KAERA,KAAK+U,QAAQqnB,aAAcp8B,KAAK+U,QAAQsnB,uBAG3Cr8B,KAAKg5B,WAAa/iB,YAAW,WAC3BkmB,EAAOnD,YAAcmD,EAAO9oB,QAAQqb,GAAOoF,gBAAiBqI,EAAQA,EAAOr3B,QAC1E9E,KAAKi5B,eAGX,CACD58B,IAAK,gBACLQ,MAAO,WACLgZ,aAAa7V,KAAKg5B,YAClBh5B,KAAKg5B,WAAa,OAEnB,CACD38B,IAAK,aACLQ,MAAO,WACAmD,KAAK+U,QAAQqnB,aAAcp8B,KAAK+U,QAAQsnB,uBAC3Cr8B,KAAKs8B,gBACLt8B,KAAKqT,QAAQqb,GAAOqF,mBAAoB/zB,KAAMA,KAAK8E,SAGtD,CACDzI,IAAK,SACLQ,MAAO,SAAgBkjB,GACrB,IAAIwc,EAASv8B,KAERA,KAAK+U,QAAQqnB,aAAcp8B,KAAK+U,QAAQsnB,sBAC3Cr8B,KAAK+4B,cAAcyD,OAAOzc,GAAK,WAC7Bwc,EAAOD,gBAEPC,EAAOlpB,QAAQqb,GAAOqF,mBAAoBwI,EAAQA,EAAOz3B,WAI9D,CACDzI,IAAK,gBACLQ,MAAO,SAAuBsW,GACvBnT,KAAK+U,QAAQqnB,aAAcp8B,KAAK+U,QAAQsnB,sBAAsBr8B,KAAKqT,QAAQqb,GAAOsF,sBAAuB7gB,EAAOnT,KAAK8E,QAE3H,CACDzI,IAAK,OACLQ,MAAO,SAAcwsB,GACnBrpB,KAAKqT,QAAQqb,GAAOyF,eAAgB9K,EAAMrpB,KAAK8E,MAC/C9E,KAAK24B,SAAS8D,KAAKpT,KAEpB,CACDhtB,IAAK,WACLQ,MAAO,WACLmD,KAAKqT,QAAQqb,GAAO0F,iBAAkBp0B,KAAK8E,QAE5C,CACDzI,IAAK,iBACLQ,MAAO,SAAwB6/B,GAC7B,IAAIlB,EAAWx7B,KAAK47B,cAEpB,GAAIc,GAAc,GAAKA,GAAc,IAAK,CACxC,IAAIrT,EAAOmS,GAAYkB,EAAa,KACpC18B,KAAKy8B,KAAKpT,MAGb,CACDhtB,IAAK,YACLQ,MAAO,SAAmBA,GACxBmD,KAAK8nB,OAAStW,WAAW3U,GACzBmD,KAAKqT,QAAQqb,GAAO2F,iBAAkBr0B,KAAK8nB,OAAQ9nB,KAAK8E,MACxD9E,KAAK24B,SAAS7Q,OAAO9nB,KAAK8nB,UAE3B,CACDzrB,IAAK,aACLQ,MAAO,WACLmD,KAAKqT,QAAQqb,GAAO4F,qBAAsBt0B,KAAK8E,QAEhD,CACDzI,IAAK,cACLQ,MAAO,WACLmD,KAAKqT,QAAQqb,GAAO6F,0BAA2Bv0B,KAAK8E,QAErD,CACDzI,IAAK,aACLQ,MAAO,WACLmD,KAAKqT,QAAQqb,GAAO8F,2BAA4Bx0B,KAAK8E,QAQtD,CACDzI,IAAK,YACLQ,MAAO,SAAmBy+B,GACxBt7B,KAAK84B,QAAQ35B,KAAKm8B,KASnB,CACDj/B,IAAK,YACLQ,MAAO,SAAmBiI,GACxB,QAAS9E,KAAK28B,UAAU73B,KAQzB,CACDzI,IAAK,YACLQ,MAAO,SAAmBiI,GACxB,OAAO9E,KAAK84B,QAAQ/3B,QAAO,SAAUu6B,GACnC,OAAOA,EAAOx2B,OAASA,KACtB,KAEJ,CACDzI,IAAK,aACLQ,MAAO,WACAmD,KAAK+U,QAAQqnB,aAAcp8B,KAAK+U,QAAQsnB,sBAAsBr8B,KAAKqT,QAAQqb,GAAOuF,yBAExF,CACD53B,IAAK,aACLQ,MAAO,WACAmD,KAAK+U,QAAQqnB,aAAcp8B,KAAK+U,QAAQsnB,sBAAsBr8B,KAAKqT,QAAQqb,GAAOwF,yBAExF,CACD73B,IAAK,iBACLQ,MAAO,WACLmD,KAAKiT,SAAWjT,KAAK24B,SAAS1lB,SAC9BjT,KAAKqT,QAAQqb,GAAO+F,4BAErB,CACDp4B,IAAK,uBACLQ,MAAO,SAA8B+/B,GACnC58B,KAAKqT,QAAQqb,GAAOgG,+BAAgCkI,KAErD,CACDvgC,IAAK,wBACLQ,MAAO,WACL,OAAOmD,KAAK24B,SAASkE,0BAEtB,CACDxgC,IAAK,sBACLQ,MAAO,WACAmD,KAAK64B,uBACR74B,KAAK64B,sBAAuB,EAC5B74B,KAAKqT,QAAQqb,GAAOmG,mCAGvB,CACDx4B,IAAK,qBACLQ,MAAO,WACDmD,KAAK64B,uBACP74B,KAAK64B,sBAAuB,EAC5B74B,KAAKqT,QAAQqb,GAAOoG,kCAGvB,CACDz4B,IAAK,cACLQ,MAAO,YACAmD,KAAK+U,QAAQqnB,YAAcp8B,KAAK+U,QAAQsnB,qBAAsBr8B,KAAKo2B,IAAIvlB,YAAY,cAAmB7Q,KAAKo2B,IAAIzlB,SAAS,gBAE9H,CACDtU,IAAK,uBACLQ,MAAO,WACL,IAAIigC,EAAS98B,KAEbA,KAAKq7B,wBACLr7B,KAAK+8B,uBAAyBC,aAAY,WACxC,OAAOF,EAAOG,gBACb,OAEJ,CACD5gC,IAAK,wBACLQ,MAAO,WACLmD,KAAK+8B,wBAA0BG,cAAcl9B,KAAK+8B,0BAEnD,CACD1gC,IAAK,cACLQ,MAAO,WACL,IAAIsgC,EAAU,CACZhtB,MAAOnQ,KAAKsL,GAAG8xB,YACf9sB,OAAQtQ,KAAKsL,GAAG+xB,cAGdC,EAAOt9B,KAAKu9B,aAAe,GAC3BptB,EAAQmtB,EAAKntB,OACJmtB,EAAKhtB,SAEQ6sB,EAAQ7sB,QAAUH,IAAUgtB,EAAQhtB,SAG5DnQ,KAAKu9B,YAAcJ,EACnBn9B,KAAKqT,QAAQqb,GAAOyE,iBAAkBgK,MASzC,CACD9gC,IAAK,YACLQ,MAAO,SAAmBkY,GACxB/U,KAAK61B,SAAW7yB,EAAMyC,OAAOzF,KAAK61B,SAAU9gB,GAC5C/U,KAAKw9B,cACLx9B,KAAK24B,SAAS8E,UAAUz9B,KAAK+U,SAC7B/U,KAAKqT,QAAQqb,GAAOsG,4BAErB,CACD34B,IAAK,SACLQ,MAAO,WAKL,OAJAmD,KAAKo2B,IAAIloB,OAAOlO,KAAK24B,SAASR,SAAS7sB,IACvCtL,KAAKw9B,cACLx9B,KAAKi9B,cACLj9B,KAAK09B,uBACE19B,SAIJy4B,EA1mBT,CA2mBE1C,IACF55B,OAAOgnB,OAAOsV,GAAUp9B,UAAWy7B,IAUnC,IAAI6G,GAEJ,SAAU3F,GA8DR,SAAS2F,EAAS5oB,EAASmiB,EAAMY,GAC/B,IAAItU,EASJ,OAPAloB,EAAgB0E,KAAM29B,IAEtBna,EAAQjmB,EAA2ByC,KAAMjD,EAAgB4gC,GAAUngC,KAAKwC,KAAM+U,KACxE9B,SAAW,GACjBuQ,EAAMkV,MAAQxB,EACd1T,EAAMsU,YAAcA,EACpBtU,EAAMoa,YAAa,EACZpa,EA+OT,OAtTA/mB,EAAUkhC,EAAU3F,GAEpB17B,EAAaqhC,EAAU,CAAC,CACtBthC,IAAK,cAOLwB,IAAK,WACH,OAAO,IAER,CACDxB,IAAK,aACLwB,IAAK,WACH,OAAO,IAQR,CACDxB,IAAK,QACLwB,IAAK,WACH,OAAO,IAQR,CACDxB,IAAK,OACLwB,IAAK,WACH,OAAOmC,KAAK04B,QAUb,CACDr8B,IAAK,YACLwB,IAAK,WACH,OAAO,MA6BXvB,EAAaqhC,EAAU,CAAC,CACtBthC,IAAK,UACLQ,MAAO,SAAiBwtB,GACJ,mBAAPA,GAAmBA,MAO/B,CACDhuB,IAAK,OACLQ,MAAO,cAMN,CACDR,IAAK,QACLQ,MAAO,cAMN,CACDR,IAAK,OACLQ,MAAO,cAON,CACDR,IAAK,OACLQ,MAAO,SAAcwsB,MAQpB,CACDhtB,IAAK,iBACLQ,MAAO,SAAwB6/B,MAU9B,CACDrgC,IAAK,qBACLQ,MAAO,WACL,OAAO,IAQR,CACDR,IAAK,cACLQ,MAAO,WACL,OAAO,IAQR,CACDR,IAAK,YACLQ,MAAO,WACL,OAAO,IAQR,CACDR,IAAK,kBAeLQ,MAAO,WACL,OAAO8gC,EAASE,QAQjB,CACDxhC,IAAK,wBACLQ,MAAO,WACL,OAAO,IAOR,CACDR,IAAK,OACLQ,MAAO,cAMN,CACDR,IAAK,SACLQ,MAAO,cAON,CACDR,IAAK,SACLQ,MAAO,SAAgBA,MAQtB,CACDR,IAAK,YACLQ,MAAO,SAAmBkY,GACxB/U,KAAK61B,SAAW7yB,EAAMyC,OAAOzF,KAAK61B,SAAU9gB,KAO7C,CACD1Y,IAAK,kBACLQ,MAAO,WACL,IAAIs/B,EAASn8B,KAEbA,KAAK89B,aAAY,SAAU/uB,EAAQkF,GAEjClF,GAAUotB,EAAO3R,YASpB,CACDnuB,IAAK,cACLQ,MAAO,SAAqBwtB,GAC1BA,GAAG,EAAM,QAEV,CACDhuB,IAAK,UACLwB,IAAK,WACH,OAAO,IAQR,CACDxB,IAAK,0BACLwB,IAAK,WACH,OAAOmC,KAAKy5B,qBAAqB39B,OAAS,IAQ3C,CACDO,IAAK,uBACLwB,IAAK,WACH,MAAO,KAQR,CACDxB,IAAK,wBACLwB,IAAK,WACH,OAAQ,GAQV8f,IAAK,SAAagc,QAGbgE,EAvTT,CAwTE5H,IACF55B,OAAOgnB,OAAOwa,GAAStiC,UAAWy7B,IAElC6G,GAASl4B,OAAS,SAAU0C,GAC1B,OAAO1C,EAAOk4B,GAAUx1B,IAc1Bw1B,GAASI,QAAU,SAAUr4B,EAAQkS,GAEnC,OAAO,GAWT+lB,GAASK,IAAM,MASfL,GAASM,IAAM,MASfN,GAASO,KAAO,OAShBP,GAASE,MAAQ,QASjBF,GAAS55B,KAAO,WAEhB,IAAIo6B,GAEJ,SAAUnI,GAaR,SAASmI,EAAiBppB,EAASqpB,EAAQlH,EAAMY,GAC/C,IAAItU,EAQJ,OANAloB,EAAgB0E,KAAMm+B,IAEtB3a,EAAQjmB,EAA2ByC,KAAMjD,EAAgBohC,GAAkB3gC,KAAKwC,KAAM+U,KAChF2jB,MAAQxB,EACd1T,EAAM4a,OAASA,EACf5a,EAAMsU,YAAcA,EACbtU,EA+DT,OApFA/mB,EAAU0hC,EAAkBnI,GAE5B15B,EAAa6hC,EAAkB,CAAC,CAC9B9hC,IAAK,UACLwB,IAAK,WACH,OAAOmC,KAAK61B,UAEdlY,IAAK,SAAa5I,GAChB/U,KAAK61B,SAAW9gB,MAgBpBzY,EAAa6hC,EAAkB,CAAC,CAC9B9hC,IAAK,mBACLQ,MAAO,WACL,IAAIs/B,EAASn8B,KAEb,OAAOgD,EAAM6T,UAAS,SAAUlB,GAC9BA,EAAQ0F,QAAQ8gB,EAAOpnB,QAAQspB,QAAQl5B,KAAI,SAAUO,GACnD,OAAOy2B,EAAOmC,gBAAgB54B,YAInC,CACDrJ,IAAK,qBACLQ,MAAO,SAA4B6I,EAAQkS,GACzC,OAAO5X,KAAKo+B,OAAOG,gBAAgBx9B,QAAO,SAAU3D,GAClD,OAAOA,EAAE2gC,QAAQr4B,EAAQkS,MACxB,KAEJ,CACDvb,IAAK,kBACLQ,MAAO,SAAyB6I,GAC9B,IAAI84B,EAAiB,KACjB5mB,EAAW5X,KAAK+U,QAAQ6C,SAEJ,WAApB5c,EAAQ0K,IACV84B,EAAiB94B,EAAOA,OAAOjH,WAC3BiH,EAAOkS,WAAUA,EAAWlS,EAAOkS,WAEvC4mB,EAAiB94B,EAAOjH,WAGtB+/B,EAAen3B,MAAM,WAAUm3B,EAAiBzjC,OAAO8Z,SAASkC,SAAWynB,GAC/E,IAAIzpB,EAAU/R,EAAMyC,OAAO,GAAIzF,KAAK+U,QAAS,CAC3CzC,IAAKksB,EACL5mB,SAAUA,IAER6mB,EAAiBz+B,KAAK0+B,mBAAmBF,EAAgB5mB,GAEzD+gB,EAAW8F,EAAiB,IAAIA,EAAe1pB,EAAS/U,KAAK04B,MAAO14B,KAAK83B,aAAe,IAAI6F,GAChG5oB,EAAU/R,EAAMyC,OAAO,GAAIsP,EAAS,CAClC4jB,SAAUA,IAEZ,IAAIvwB,EAAY,IAAIqwB,GAAU1jB,EAAS/U,KAAK04B,MAAO14B,KAAK83B,aACpD5c,EAAQlY,EAAM6T,WAMlB,OALAqE,EAAMvF,QAAQvN,GACdpI,KAAK2+B,oBAAoBv2B,GACzBpI,KAAKyvB,aAAarnB,EAAWsmB,GAAOwE,iBAAiB,WACnD,OAAOhY,EAAMG,QAAQjT,MAEhBA,IAER,CACD/L,IAAK,sBACLQ,MAAO,SAA6BuL,GAClCpI,KAAKo+B,OAAOQ,iBAAiB71B,SAAQ,SAAU81B,GAC7Cz2B,EAAU02B,UAAU,IAAID,EAAOz2B,WAK9B+1B,EArFT,CAsFExI,IAGFyC,GADY,qtGAWZ,IAAI2G,GAEJ,SAAU/G,GAmGR,SAAS+G,EAAKhqB,GACZ,IAAIyO,EAuBJ,OArBAloB,EAAgB0E,KAAM++B,IAEtBvb,EAAQjmB,EAA2ByC,KAAMjD,EAAgBgiC,GAAMvhC,KAAKwC,KAAM+U,KACpE+iB,YAAc,IAAIpB,GAAY3hB,EAAS1X,EAAuBmmB,IAEpEA,EAAMwb,uBAENxb,EAAMyb,aAAc,EACpBzb,EAAMsV,QAAU,GAChBtV,EAAMnhB,WAAa,GAEnBmhB,EAAM0b,wBAA0B,WAC9B,OAAO1b,EAAM2b,0BAGfn8B,EAAM/B,UAAU0d,KAAK,mBAAoB6E,EAAM0b,yBAC/Cl8B,EAAM/B,UAAU0d,KAAK,qBAAsB6E,EAAM0b,yBACjDl8B,EAAM/B,UAAU0d,KAAK,sBAAuB6E,EAAM0b,yBAClDnd,EAAQsC,UAAYrhB,EAAMjI,QAAQ4jB,KAAK,UAAU,SAAU3hB,GACzDwmB,EAAM4b,mBAAmBpiC,MAEpBwmB,EAsVT,OAhdA/mB,EAAUsiC,EAAM/G,GAEhB17B,EAAayiC,EAAM,CAAC,CAClB1iC,IAAK,SACLwB,IAAK,WACH,MAAO,CACLwhC,uBAA0B,yBAC1B7gB,UAAa,cACb5B,WAAc,kBAGjB,CACDvgB,IAAK,aACLwB,IAAK,WACH,MAAO,CACLyhC,cAAe,GACfn8B,SAAU,QASb,CACD9G,IAAK,UACLwB,IAAK,WACH,QAASmC,KAAK4I,QAQf,CACDvM,IAAK,OACLwB,IAAK,WACH,OAAOmC,KAAK28B,UAAU,YAAc,CAClC9E,EAAG,SAAWx7B,GACZ,OAAOA,MAWZ,CACDA,IAAK,eACLwB,IAAK,WACH,OAAOmC,KAAKu/B,gBAAkBv/B,KAAKu/B,cAAgBv/B,KAAK28B,UAAU,mBAAqB38B,KAAKw/B,oBAE7F,CACDnjC,IAAK,oBACLwB,IAAK,WACH,OAAImC,KAAKy/B,qBACTz/B,KAAKy/B,mBAAqB,IAAI1H,GAAa/3B,OADPA,KAAKy/B,qBAU1C,CACDpjC,IAAK,kBACLwB,IAAK,WACH,OAAOmC,KAAK0/B,kBAQd/hB,IAAK,SAAavV,GAChBpI,KAAK0/B,iBAAmBt3B,EACxBpI,KAAKqT,QAAQqb,GAAO2D,8BAA+BryB,KAAK0/B,oBAQzD,CACDrjC,IAAK,iBACLwB,IAAK,WACH,OAAOmC,KAAK2/B,iBAAmB3/B,KAAK2/B,gBAAgBhH,aA+BxDr8B,EAAayiC,EAAM,CAAC,CAClB1iC,IAAK,uBACLQ,MAAO,WACL,IAAIiuB,EAAe9qB,KAAK+U,SAAW/U,KAAK+U,QAAQ4jB,UAAY34B,KAAK+U,QAAQ4jB,SAAS7N,aAClFD,EAAY4S,UAAU,CACpB3S,aAAcA,MAGjB,CACDzuB,IAAK,mBACLQ,MAAO,SAA0BkY,GAC/B/U,KAAKkb,MAAQlY,EAAM6T,WACnB7W,KAAKkb,MAAMvF,QAAQ3V,MACnBA,KAAK4/B,iBAAmB,IAAIzB,GAAiBppB,EAASA,EAAQqpB,OAAQp+B,KAAKk3B,KAAMl3B,KAAK83B,aACtF93B,KAAK6/B,sBAEN,CACDxjC,IAAK,oBACLQ,MAAO,WACL,IAAIs/B,EAASn8B,KAEbA,KAAK4/B,iBAAiBE,mBAAmB9kB,MAAK,SAAU3Y,GACtD,OAAO85B,EAAO4D,gBAAgB19B,MAC7B2Y,MAAK,SAAU3Y,GAChB,OAAO85B,EAAO6D,yBAAyB39B,QAG1C,CACDhG,IAAK,aACLQ,MAAO,WACLmD,KAAKigC,eAAiBjgC,KAAKkgC,gBAAkBlgC,KAAKmgC,kBAEnD,CACD9jC,IAAK,gBACLQ,MAAO,WACAklB,EAAQuC,QACXtkB,KAAKo2B,IAAIzlB,SAAS,cAClB3Q,KAAKo2B,IAAInnB,WAAW,SACpBjP,KAAKogC,aAAe,CAClBjwB,MAAOnQ,KAAK+U,QAAQ5E,MACpBG,OAAQtQ,KAAK+U,QAAQzE,QAEvBtQ,KAAKu9B,YAAc,CACjBptB,MAAOnN,EAAMjI,QAAQoV,QACrBG,OAAQtN,EAAMjI,QAAQuV,aAI3B,CACDjU,IAAK,gBACLQ,MAAO,WACLmD,KAAKo2B,IAAIvlB,YAAY,cACrB7Q,KAAKu9B,YAAcv9B,KAAKogC,aACxBpgC,KAAKogC,aAAe,CAClBjwB,MAAOnN,EAAMjI,QAAQoV,QACrBG,OAAQtN,EAAMjI,QAAQuV,UAExBtQ,KAAKqgC,OAAOrgC,KAAKu9B,eAElB,CACDlhC,IAAK,SACLQ,MAAO,SAAgBkY,GAChB0U,EAAS1U,EAAQzE,SAAYmZ,EAAS1U,EAAQ5E,QAIjDnQ,KAAKsL,GAAG+B,MAAMiD,OAAS,GAAGxP,OAAOiU,EAAQzE,OAAQ,MACjDtQ,KAAKsL,GAAG+B,MAAM8C,MAAQ,GAAGrP,OAAOiU,EAAQ5E,MAAO,QAJ/CnQ,KAAKsL,GAAG+B,MAAMiD,OAAS,GAAGxP,OAAOiU,EAAQzE,QACzCtQ,KAAKsL,GAAG+B,MAAM8C,MAAQ,GAAGrP,OAAOiU,EAAQ5E,QAM1CnQ,KAAKogC,aAAe,CAClBjwB,MAAOnQ,KAAK+U,QAAQ5E,MACpBG,OAAQtQ,KAAK+U,QAAQzE,QAEvBtQ,KAAK+U,QAAQ5E,MAAQ4E,EAAQ5E,MAC7BnQ,KAAK+U,QAAQzE,OAASyE,EAAQzE,OAC9BtQ,KAAKu9B,YAAcxoB,EACnB/U,KAAKsgC,cAActgC,KAAKu9B,eAEzB,CACDlhC,IAAK,uBACLQ,MAAO,WACL,IAAI0/B,EAASv8B,KAEbA,KAAKq7B,wBASLr7B,KAAK+8B,uBAAyBC,aAPN,WACtBT,EAAO+D,cAAc,CACnBnwB,MAAOosB,EAAOjxB,GAAG8xB,YACjB9sB,OAAQisB,EAAOjxB,GAAG+xB,iBAIuC,OAE9D,CACDhhC,IAAK,gBACLQ,MAAO,SAAuBsgC,IACPn9B,KAAKi/B,aAAej/B,KAAKugC,YAAcpD,EAAQ7sB,QAAUtQ,KAAKwgC,WAAarD,EAAQhtB,SAGtGnQ,KAAKugC,UAAYpD,EAAQ7sB,OACzBtQ,KAAKwgC,SAAWrD,EAAQhtB,MACxBnQ,KAAKygC,aAAetD,EACpBn9B,KAAKi/B,aAAc,EACnBj/B,KAAKqT,QAAQqb,GAAO+D,YAAa0K,MAGpC,CACD9gC,IAAK,wBACLQ,MAAO,WACLmD,KAAK+8B,wBAA0BG,cAAcl9B,KAAK+8B,wBAClD/8B,KAAK+8B,uBAAyB,OAE/B,CACD1gC,IAAK,2BACLQ,MAAO,SAAkCwF,GACvC,IAAIy6B,EAAS98B,KAEbgD,EAAM+N,KAAKlG,MAAM7H,EAAOX,GAAYnD,MAAK,WACvC49B,EAAO5hB,MAAMG,QAAQyhB,GAErBA,EAAOl0B,OAAQ,EAEfk0B,EAAOzpB,QAAQqb,GAAO6D,iBAGzB,CACDl2B,IAAK,YACLQ,MAAO,SAAmBy+B,GACxBt7B,KAAK84B,QAAQ35B,KAAKm8B,KAEnB,CACDj/B,IAAK,YACLQ,MAAO,SAAmBiI,GACxB,QAAS9E,KAAK28B,UAAU73B,KAEzB,CACDzI,IAAK,YACLQ,MAAO,SAAmBiI,GACxB,OAAO9E,KAAK84B,QAAQ/3B,QAAO,SAAUu6B,GACnC,OAAOA,EAAOx2B,OAASA,KACtB,KAEJ,CACDzI,IAAK,OACLQ,MAAO,SAAcwhC,EAASzmB,GAC5B5X,KAAK+U,QAAQ6C,SAAWA,EACxBymB,EAAUA,GAAWA,EAAQjjC,cAAgBkD,MAAQ+/B,EAAU,CAACA,GAChEr+B,KAAK+U,QAAQspB,QAAUA,EACvBr+B,KAAKqC,WAAW0G,SAAQ,SAAUX,GAChC,OAAOA,EAAUmzB,aAEnBv7B,KAAK4/B,iBAAiB7qB,QAAU/R,EAAMyC,OAAOzF,KAAK+U,QAAS,CACzDspB,QAASA,IAEXr+B,KAAK6/B,sBAEN,CACDxjC,IAAK,UACLQ,MAAO,WACLmD,KAAKq7B,wBACLr7B,KAAKqC,WAAW0G,SAAQ,SAAUX,GAChC,OAAOA,EAAUmzB,aAEnBv7B,KAAK84B,QAAQ/vB,SAAQ,SAAUuyB,GAC7B,OAAOA,EAAOC,aAEhBv7B,KAAKo2B,IAAIzqB,SACT3I,EAAM/B,UAAU2d,OAAO,mBAAoB5e,KAAKk/B,yBAChDl8B,EAAM/B,UAAU2d,OAAO,qBAAsB5e,KAAKk/B,yBAClDl8B,EAAM/B,UAAU2d,OAAO,sBAAuB5e,KAAKk/B,yBACnDl/B,KAAKq2B,kBAEN,CACDh6B,IAAK,yBACLQ,MAAO,WACLmD,KAAKqT,QAAQqb,GAAO8D,gBAAiBxyB,KAAKigC,gBAC1CjgC,KAAK0gC,eAEN,CACDrkC,IAAK,qBACLQ,MAAO,SAA4BsW,GACjC,IAAImT,EAAcvrB,OAAO4lC,WAAa5lC,OAAO6lC,YAAc,YAAc,WACrE5gC,KAAK6gC,qBAAuBva,IAChCtmB,KAAK6gC,mBAAqBva,EAC1BtmB,KAAKsgC,cAAc,CACjBnwB,MAAOnQ,KAAKsL,GAAG8xB,YACf9sB,OAAQtQ,KAAKsL,GAAG+xB,eAElBr9B,KAAKqT,QAAQqb,GAAOgE,gCAAiC,CACnDvf,MAAOA,EACPmT,YAAatmB,KAAK6gC,wBAGrB,CACDxkC,IAAK,kBACLQ,MAAO,SAAyBuL,GAC9BpI,KAAKq2B,cAAcjuB,GACnBpI,KAAKqC,WAAarC,KAAKqC,WAAWtB,QAAO,SAAU+/B,GACjD,OAAOA,IAAM14B,OAGhB,CACD/L,IAAK,iBACLQ,MAAO,SAAwBuL,GAC7BpI,KAAKwvB,SAASpnB,EAAWsmB,GAAOuE,oBAAqBjzB,KAAK+gC,iBAC1D/gC,KAAKqC,WAAWlD,KAAKiJ,KAEtB,CACD/L,IAAK,kBACLQ,MAAO,SAAyBwF,GAO9B,OANAA,EAAW0G,QAAQ/I,KAAKghC,eAAeriB,KAAK3e,OAC5CA,KAAKqT,QAAQqb,GAAO0D,yBACpBpyB,KAAKihC,mBACLjhC,KAAK2/B,gBAAkBt9B,EAAW,GAClCrC,KAAKm4B,SACLn4B,KAAKkhC,iBACElhC,KAAKqC,aAEb,CACDhG,IAAK,mBACLQ,MAAO,WACL,IAAIskC,EAASnhC,KAEbA,KAAKqC,WAAW0G,SAAQ,SAAUX,GAChC,OAAO+4B,EAAO71B,GAAG7D,YAAYW,EAAU+vB,SAAS7sB,SAGnD,CACDjP,IAAK,kBACLQ,MAAO,SAAyB6I,EAAQqP,GACtC,IAAI3M,EAAYpI,KAAK4/B,iBAAiBtB,gBAAgB54B,EAAQqP,GAG9D,OAFA/U,KAAKghC,eAAe54B,GACpBpI,KAAKsL,GAAG7D,YAAYW,EAAU+vB,SAAS7sB,IAChClD,IAQR,CACD/L,IAAK,sBACLQ,MAAO,WACL,OAAOmD,KAAK2/B,kBAQb,CACDtjC,IAAK,qBACLQ,MAAO,WACL,OAAOmD,KAAKohC,iBAEb,CACD/kC,IAAK,kBACLQ,MAAO,WACL,OAAOmD,KAAK2/B,iBAAmB3/B,KAAK2/B,gBAAgBxE,oBAErD,CACD9+B,IAAK,eACLQ,MAAO,WAEL,IAAI4pB,EAAoBD,EAAWC,oBACnC,IAAKA,EAAmB,OAAO,EAC/B,IAAI4a,EAAarhC,KAAKohC,gBAAkBphC,KAAKohC,eAAe91B,GAC5D,OAAOmb,IAAsBzmB,KAAKsL,IAAMmb,IAAsB4a,IAE/D,CACDhlC,IAAK,mBACLQ,MAAO,WACL,GAAImD,KAAKigC,eACPzZ,EAAWW,oBACVpF,EAAQuC,OAAStkB,KAAKo2B,IAAIvlB,YAAY,2BAClC,CACL,IAAIywB,EAAevf,EAAQuC,MAAQtkB,KAAKohC,gBAAkBphC,KAAKohC,eAAe91B,GAAKtL,KAAKsL,GACxF,IAAKg2B,EAAc,OACnB9a,EAAWK,kBAAkBya,IAC5Bvf,EAAQuC,OAAStkB,KAAKo2B,IAAIzlB,SAAS,iBAGvC,CACDtU,IAAK,cACLQ,MAAO,SAAqBsW,GAC1BnT,KAAKqT,QAAQqb,GAAOiE,gBAAiBxf,KAEtC,CACD9W,IAAK,eACLQ,MAAO,SAAsBsW,GAC3BnT,KAAKqT,QAAQqb,GAAOkE,iBAAkBzf,KAQvC,CACD9W,IAAK,YACLQ,MAAO,SAAmBkY,GACxB,IAAIwsB,EAASvhC,KAEbA,KAAK61B,SAAW7yB,EAAMyC,OAAOzF,KAAK61B,SAAU9gB,GAC5C/U,KAAKg/B,uBACL,IAAIX,EAAUtpB,EAAQrP,QAAUqP,EAAQspB,QACxCA,GAAWr+B,KAAKiZ,KAAKolB,EAAStpB,EAAQ6C,UAAY5X,KAAK+U,QAAQ6C,UAC/D5X,KAAKqT,QAAQqb,GAAO4D,oBAAqBvd,GAEzC/U,KAAKqC,WAAW0G,SAAQ,SAAUX,GAChC,OAAOA,EAAUq1B,UAAU8D,EAAOxsB,cAGrC,CACD1Y,IAAK,iBACLQ,MAAO,aACemD,KAAKo2B,IAAI9uB,UAAYtH,KAAKo2B,IAAI9uB,SAASxL,SACzCkE,KAAKo2B,IAAIoL,SAASxhC,KAAK+U,QAAQ0sB,iBAElD,CACDplC,IAAK,SACLQ,MAAO,WACLmD,KAAK+U,QAAQ5E,MAAQnQ,KAAK+U,QAAQ5E,OAASnQ,KAAKo2B,IAAIjmB,QACpDnQ,KAAK+U,QAAQzE,OAAStQ,KAAK+U,QAAQzE,QAAUtQ,KAAKo2B,IAAI9lB,SACtD,IAAI5E,EAAO,CACTyE,MAAOnQ,KAAK+U,QAAQ5E,MACpBG,OAAQtQ,KAAK+U,QAAQzE,QAKvB,OAHAtQ,KAAKogC,aAAepgC,KAAKu9B,YAAcv9B,KAAKygC,aAAe/0B,EAC3D1L,KAAK0gC,aACL1gC,KAAK09B,uBACE19B,SAIJ++B,EAjdT,CAkdEhJ,IACF55B,OAAOgnB,OAAO4b,GAAK1jC,UAAWy7B,IAU9B,IAAI4K,GAEJ,SAAU1L,GAgBR,SAAS0L,EAAYC,GACnB,IAAIne,EAOJ,OALAloB,EAAgB0E,KAAM0hC,IAEtBle,EAAQjmB,EAA2ByC,KAAMjD,EAAgB2kC,GAAalkC,KAAKwC,QACrE2hC,OAASA,EACfne,EAAMqS,SAAW8L,EAAO5sB,QACjByO,EAiDT,OAxEA/mB,EAAUilC,EAAa1L,GAEvB15B,EAAaolC,EAAa,CAAC,CACzBrlC,IAAK,SACLwB,IAAK,WACH,OAAOmC,KAAK2hC,OAAOvD,WA2BvB9hC,EAAaolC,EAAa,CAAC,CACzBrlC,IAAK,SACLQ,MAAO,WAKL,OAJAmD,KAAK+U,QAAQqpB,OAASp+B,KAAKo+B,OAC3Bp+B,KAAK22B,KAAO,IAAIoI,GAAK/+B,KAAK+U,SAC1B/U,KAAK4hC,iBACL5hC,KAAK22B,KAAKmJ,iBAAiB9/B,KAAK+U,SACzB/U,KAAK22B,OAQb,CACDt6B,IAAK,iBACLQ,MAAO,WACL,IAAIs/B,EAASn8B,KASb,OAPAA,KAAKo+B,OAAOyD,YAAY94B,SAAQ,SAAU81B,GACxC,IAAIvD,EAAS,IAAIuD,EAAO1C,EAAOxF,MAE/BwF,EAAOxF,KAAKmI,UAAUxD,GAEtBa,EAAO2F,uBAAuBxG,MAEzBt7B,KAAK22B,OAEb,CACDt6B,IAAK,yBACLQ,MAAO,SAAgCy+B,GACrC,IAAIyG,EAAoBzG,EAAO0G,uBAE/B,IAAK,IAAI3lC,KAAO0lC,EACd/hC,KAAK2hC,OAAOtlC,GAAO0lC,EAAkB1lC,GAAKsiB,KAAK2c,OAK9CoG,EAzET,CA0EE/L,IAEEsM,QAA8B,IAAXpnC,EAAyBA,EACpB,oBAATC,KAAuBA,KACZ,oBAAXC,OAAyBA,OAAS,GAKrD,SAASmnC,KACL,MAAM,IAAIvX,MAAM,mCAEpB,SAASwX,KACL,MAAM,IAAIxX,MAAM,qCAEpB,IAAIyX,GAAmBF,GACnBG,GAAqBF,GAQzB,SAASG,GAAWv7B,GAChB,GAAIq7B,KAAqBnsB,WAErB,OAAOA,WAAWlP,EAAK,GAG3B,IAAKq7B,KAAqBF,KAAqBE,KAAqBnsB,WAEhE,OADAmsB,GAAmBnsB,WACZA,WAAWlP,EAAK,GAE3B,IAEI,OAAOq7B,GAAiBr7B,EAAK,GAC/B,MAAMF,GACJ,IAEI,OAAOu7B,GAAiB5kC,KAAK,KAAMuJ,EAAK,GAC1C,MAAMF,GAEJ,OAAOu7B,GAAiB5kC,KAAKwC,KAAM+G,EAAK,KA1BjB,mBAAxBk7B,GAAShsB,aAChBmsB,GAAmBnsB,YAEc,mBAA1BgsB,GAASpsB,eAChBwsB,GAAqBxsB,cAuDzB,IAEI0sB,GAFAC,GAAQ,GACRC,IAAW,EAEXC,IAAc,EAElB,SAASC,KACAF,IAAaF,KAGlBE,IAAW,EACPF,GAAazmC,OACb0mC,GAAQD,GAAazhC,OAAO0hC,IAE5BE,IAAc,EAEdF,GAAM1mC,QACN8mC,MAIR,SAASA,KACL,IAAIH,GAAJ,CAGA,IAAIzsB,EAAUssB,GAAWK,IACzBF,IAAW,EAGX,IADA,IAAIxiC,EAAMuiC,GAAM1mC,OACVmE,GAAK,CAGP,IAFAsiC,GAAeC,GACfA,GAAQ,KACCE,GAAaziC,GACdsiC,IACAA,GAAaG,IAAYlU,MAGjCkU,IAAc,EACdziC,EAAMuiC,GAAM1mC,OAEhBymC,GAAe,KACfE,IAAW,EAnEf,SAAyBI,GACrB,GAAIR,KAAuBxsB,aAEvB,OAAOA,aAAagtB,GAGxB,IAAKR,KAAuBF,KAAwBE,KAAuBxsB,aAEvE,OADAwsB,GAAqBxsB,aACdA,aAAagtB,GAExB,IAEWR,GAAmBQ,GAC5B,MAAOh8B,GACL,IAEI,OAAOw7B,GAAmB7kC,KAAK,KAAMqlC,GACvC,MAAOh8B,GAGL,OAAOw7B,GAAmB7kC,KAAKwC,KAAM6iC,KAgD7CC,CAAgB9sB,IAEpB,SAAS+sB,GAASh8B,GACd,IAAI8B,EAAO,IAAIvK,MAAM6B,UAAUrE,OAAS,GACxC,GAAIqE,UAAUrE,OAAS,EACnB,IAAK,IAAID,EAAI,EAAGA,EAAIsE,UAAUrE,OAAQD,IAClCgN,EAAKhN,EAAI,GAAKsE,UAAUtE,GAGhC2mC,GAAMrjC,KAAK,IAAI6jC,GAAKj8B,EAAK8B,IACJ,IAAjB25B,GAAM1mC,QAAiB2mC,IACvBH,GAAWM,IAInB,SAASI,GAAKj8B,EAAKgB,GACf/H,KAAK+G,IAAMA,EACX/G,KAAK+H,MAAQA,EAEjBi7B,GAAK3nC,UAAUmzB,IAAM,WACjBxuB,KAAK+G,IAAI8D,MAAM,KAAM7K,KAAK+H,QAY9B,SAASyC,MAET,IAAIoL,GAAKpL,GACLy4B,GAAcz4B,GACd0P,GAAO1P,GACPsL,GAAMtL,GACN04B,GAAiB14B,GACjB24B,GAAqB34B,GACrB44B,GAAO54B,GAYX,IAAI64B,GAAgBpB,GAASlW,aAAe,GACxCuX,GACFD,GAAchsB,KACdgsB,GAAcE,QACdF,GAAcG,OACdH,GAAcI,MACdJ,GAAcK,WACd,WAAY,OAAO,IAAKhxB,MAAQ4Y,WAmBlC,IAAIqY,GAAY,IAAIjxB,KAOpB,IAAIuO,GAAU,CACZ8hB,SAAUA,GACVnL,MAjEU,UAkEVpS,SAhEY,EAiEZoe,IAhEQ,GAiERC,KAhES,GAiEThiB,QAhEY,GAiEZiiB,SAhEa,GAiEbluB,GAAIA,GACJqtB,YAAaA,GACb/oB,KAAMA,GACNpE,IAAKA,GACLotB,eAAgBA,GAChBC,mBAAoBA,GACpBC,KAAMA,GACNW,QA1DF,SAAiBj/B,GACb,MAAM,IAAI6lB,MAAM,qCA0DlBqZ,IAvDF,WAAkB,MAAO,KAwDvBC,MAvDF,SAAgBC,GACZ,MAAM,IAAIvZ,MAAM,mCAuDlBwZ,MAtDD,WAAmB,OAAO,GAuDzBC,OAzCF,SAAgBC,GACd,IAAIC,EAA+C,KAAnChB,GAAe9lC,KAAK6lC,IAChCta,EAAU3Y,KAAKm0B,MAAMD,GACrBE,EAAcp0B,KAAKm0B,MAAOD,EAAU,EAAG,KAS3C,OARID,IACFtb,GAAoBsb,EAAkB,IACtCG,GAA4BH,EAAkB,IAC9B,IACdtb,IACAyb,GAAe,MAGZ,CAACzb,EAAQyb,IA8BhBC,SAlFa,UAmFbC,QA7EY,GA8EZC,OA7EW,GA8EXC,OA7BF,WAGE,OAFkB,IAAIlyB,KACEixB,IACX,MAiCf,IAkoDMkB,GAloDFC,GAJJ,SAA8Bl6B,EAAIm6B,GACjC,OAAiCn6B,EAA1Bm6B,EAAS,CAAEC,QAAS,IAAiBD,EAAOC,SAAUD,EAAOC,QAGxDC,EAAqB,SAAUF,EAAQC,GAGpD,IAAItX,EAFJsX,EAAUD,EAAOC,QAAUE,EAQzBxX,EAJqB,iBAAZzM,IACPA,GAAQ2iB,KACR3iB,GAAQ2iB,IAAIuB,YACZ,cAAcx+B,KAAKsa,GAAQ2iB,IAAIuB,YACzB,WACN,IAAIt8B,EAAOvK,MAAMjD,UAAU2F,MAAMxD,KAAK2C,UAAW,GACjD0I,EAAK6V,QAAQ,UACb0C,QAAQyL,IAAIhiB,MAAMuW,QAASvY,IAGrB,aAKVm8B,EAAQI,oBAAsB,QAE9B,IACIC,EAAmBt7B,OAAOs7B,kBACD,iBAMzBC,EAAKN,EAAQM,GAAK,GAClBhzB,EAAM0yB,EAAQ1yB,IAAM,GACpBulB,EAAImN,EAAQO,OAAS,GACrBC,EAAI,EAER,SAASC,EAAKpkB,GACZwW,EAAExW,GAAKmkB,IASTC,EAAI,qBACJnzB,EAAIulB,EAAE6N,mBAAqB,cAC3BD,EAAI,0BACJnzB,EAAIulB,EAAE8N,wBAA0B,SAMhCF,EAAI,wBACJnzB,EAAIulB,EAAE+N,sBAAwB,6BAK9BH,EAAI,eACJnzB,EAAIulB,EAAEgO,aAAe,IAAMvzB,EAAIulB,EAAE6N,mBAAqB,QAC7BpzB,EAAIulB,EAAE6N,mBAAqB,QAC3BpzB,EAAIulB,EAAE6N,mBAAqB,IAEpDD,EAAI,oBACJnzB,EAAIulB,EAAEiO,kBAAoB,IAAMxzB,EAAIulB,EAAE8N,wBAA0B,QAClCrzB,EAAIulB,EAAE8N,wBAA0B,QAChCrzB,EAAIulB,EAAE8N,wBAA0B,IAK9DF,EAAI,wBACJnzB,EAAIulB,EAAEkO,sBAAwB,MAAQzzB,EAAIulB,EAAE6N,mBAChB,IAAMpzB,EAAIulB,EAAE+N,sBAAwB,IAEhEH,EAAI,6BACJnzB,EAAIulB,EAAEmO,2BAA6B,MAAQ1zB,EAAIulB,EAAE8N,wBAChB,IAAMrzB,EAAIulB,EAAE+N,sBAAwB,IAMrEH,EAAI,cACJnzB,EAAIulB,EAAEoO,YAAc,QAAU3zB,EAAIulB,EAAEkO,sBAClB,SAAWzzB,EAAIulB,EAAEkO,sBAAwB,OAE3DN,EAAI,mBACJnzB,EAAIulB,EAAEqO,iBAAmB,SAAW5zB,EAAIulB,EAAEmO,2BACnB,SAAW1zB,EAAIulB,EAAEmO,2BAA6B,OAKrEP,EAAI,mBACJnzB,EAAIulB,EAAEsO,iBAAmB,gBAMzBV,EAAI,SACJnzB,EAAIulB,EAAEuO,OAAS,UAAY9zB,EAAIulB,EAAEsO,iBACpB,SAAW7zB,EAAIulB,EAAEsO,iBAAmB,OAWjDV,EAAI,QACJA,EAAI,aACJnzB,EAAIulB,EAAEwO,WAAa,KAAO/zB,EAAIulB,EAAEgO,aACdvzB,EAAIulB,EAAEoO,YAAc,IACpB3zB,EAAIulB,EAAEuO,OAAS,IAEjC9zB,EAAIulB,EAAEyO,MAAQ,IAAMh0B,EAAIulB,EAAEwO,WAAa,IAKvCZ,EAAI,cACJnzB,EAAIulB,EAAE0O,YAAc,WAAaj0B,EAAIulB,EAAEiO,kBACrBxzB,EAAIulB,EAAEqO,iBAAmB,IACzB5zB,EAAIulB,EAAEuO,OAAS,IAEjCX,EAAI,SACJnzB,EAAIulB,EAAE2O,OAAS,IAAMl0B,EAAIulB,EAAE0O,YAAc,IAEzCd,EAAI,QACJnzB,EAAIulB,EAAE4O,MAAQ,eAKdhB,EAAI,yBACJnzB,EAAIulB,EAAE6O,uBAAyBp0B,EAAIulB,EAAE8N,wBAA0B,WAC/DF,EAAI,oBACJnzB,EAAIulB,EAAE8O,kBAAoBr0B,EAAIulB,EAAE6N,mBAAqB,WAErDD,EAAI,eACJnzB,EAAIulB,EAAE+O,aAAe,YAAct0B,EAAIulB,EAAE8O,kBAAoB,WAC9Br0B,EAAIulB,EAAE8O,kBAAoB,WAC1Br0B,EAAIulB,EAAE8O,kBAAoB,OAC9Br0B,EAAIulB,EAAEoO,YAAc,KAC5B3zB,EAAIulB,EAAEuO,OAAS,QAGlCX,EAAI,oBACJnzB,EAAIulB,EAAEgP,kBAAoB,YAAcv0B,EAAIulB,EAAE6O,uBAAyB,WACnCp0B,EAAIulB,EAAE6O,uBAAyB,WAC/Bp0B,EAAIulB,EAAE6O,uBAAyB,OACnCp0B,EAAIulB,EAAEqO,iBAAmB,KACjC5zB,EAAIulB,EAAEuO,OAAS,QAGvCX,EAAI,UACJnzB,EAAIulB,EAAEiP,QAAU,IAAMx0B,EAAIulB,EAAE4O,MAAQ,OAASn0B,EAAIulB,EAAE+O,aAAe,IAClEnB,EAAI,eACJnzB,EAAIulB,EAAEkP,aAAe,IAAMz0B,EAAIulB,EAAE4O,MAAQ,OAASn0B,EAAIulB,EAAEgP,kBAAoB,IAI5EpB,EAAI,UACJnzB,EAAIulB,EAAEmP,QAAU,0EAKhBvB,EAAI,aACJH,EAAGzN,EAAEoP,WAAa,IAAIliC,OAAOuN,EAAIulB,EAAEmP,QAAS,KAI5CvB,EAAI,aACJnzB,EAAIulB,EAAEqP,WAAa,UAEnBzB,EAAI,aACJnzB,EAAIulB,EAAEsP,WAAa,SAAW70B,EAAIulB,EAAEqP,WAAa,OACjD5B,EAAGzN,EAAEsP,WAAa,IAAIpiC,OAAOuN,EAAIulB,EAAEsP,WAAY,KAG/C1B,EAAI,SACJnzB,EAAIulB,EAAEuP,OAAS,IAAM90B,EAAIulB,EAAEqP,WAAa50B,EAAIulB,EAAE+O,aAAe,IAC7DnB,EAAI,cACJnzB,EAAIulB,EAAEwP,YAAc,IAAM/0B,EAAIulB,EAAEqP,WAAa50B,EAAIulB,EAAEgP,kBAAoB,IAIvEpB,EAAI,aACJnzB,EAAIulB,EAAEyP,WAAa,UAEnB7B,EAAI,aACJnzB,EAAIulB,EAAE0P,WAAa,SAAWj1B,EAAIulB,EAAEyP,WAAa,OACjDhC,EAAGzN,EAAE0P,WAAa,IAAIxiC,OAAOuN,EAAIulB,EAAE0P,WAAY,KAG/C9B,EAAI,SACJnzB,EAAIulB,EAAE2P,OAAS,IAAMl1B,EAAIulB,EAAEyP,WAAah1B,EAAIulB,EAAE+O,aAAe,IAC7DnB,EAAI,cACJnzB,EAAIulB,EAAE4P,YAAc,IAAMn1B,EAAIulB,EAAEyP,WAAah1B,EAAIulB,EAAEgP,kBAAoB,IAGvEpB,EAAI,mBACJnzB,EAAIulB,EAAE6P,iBAAmB,IAAMp1B,EAAIulB,EAAE4O,MAAQ,QAAUn0B,EAAIulB,EAAE0O,YAAc,QAC3Ed,EAAI,cACJnzB,EAAIulB,EAAE8P,YAAc,IAAMr1B,EAAIulB,EAAE4O,MAAQ,QAAUn0B,EAAIulB,EAAEwO,WAAa,QAIrEZ,EAAI,kBACJnzB,EAAIulB,EAAE+P,gBAAkB,SAAWt1B,EAAIulB,EAAE4O,MACnB,QAAUn0B,EAAIulB,EAAE0O,YAAc,IAAMj0B,EAAIulB,EAAE+O,aAAe,IAG/EtB,EAAGzN,EAAE+P,gBAAkB,IAAI7iC,OAAOuN,EAAIulB,EAAE+P,gBAAiB,KAOzDnC,EAAI,eACJnzB,EAAIulB,EAAEgQ,aAAe,SAAWv1B,EAAIulB,EAAE+O,aAAe,cAE5Bt0B,EAAIulB,EAAE+O,aAAe,SAG9CnB,EAAI,oBACJnzB,EAAIulB,EAAEiQ,kBAAoB,SAAWx1B,EAAIulB,EAAEgP,kBAAoB,cAEjCv0B,EAAIulB,EAAEgP,kBAAoB,SAIxDpB,EAAI,QACJnzB,EAAIulB,EAAEkQ,MAAQ,kBAId,IAAK,IAAIlsC,EAAI,EAAGA,EAAI2pC,EAAG3pC,IACrB6xB,EAAM7xB,EAAGyW,EAAIzW,IACRypC,EAAGzpC,KACNypC,EAAGzpC,GAAK,IAAIkJ,OAAOuN,EAAIzW,KAK3B,SAASmP,EAAO6W,EAAS9M,GAQvB,GAPKA,GAA8B,iBAAZA,IACrBA,EAAU,CACRizB,QAASjzB,EACTkzB,mBAAmB,IAInBpmB,aAAmBqjB,EACrB,OAAOrjB,EAGT,GAAuB,iBAAZA,EACT,OAAO,KAGT,GAAIA,EAAQ/lB,OAxPG,IAyPb,OAAO,KAIT,KADQiZ,EAAQizB,MAAQ1C,EAAGzN,EAAE2O,OAASlB,EAAGzN,EAAEyO,OACpC3/B,KAAKkb,GACV,OAAO,KAGT,IACE,OAAO,IAAIqjB,EAAOrjB,EAAS9M,GAC3B,MAAOmzB,GACP,OAAO,MAkBX,SAAShD,EAAQrjB,EAAS9M,GAOxB,GANKA,GAA8B,iBAAZA,IACrBA,EAAU,CACRizB,QAASjzB,EACTkzB,mBAAmB,IAGnBpmB,aAAmBqjB,EAAQ,CAC7B,GAAIrjB,EAAQmmB,QAAUjzB,EAAQizB,MAC5B,OAAOnmB,EAEPA,EAAUA,EAAQA,aAEf,GAAuB,iBAAZA,EAChB,MAAM,IAAIpmB,UAAU,oBAAsBomB,GAG5C,GAAIA,EAAQ/lB,OAvSG,IAwSb,MAAM,IAAIL,UAAU,yCAGtB,KAAMuE,gBAAgBklC,GACpB,OAAO,IAAIA,EAAOrjB,EAAS9M,GAG7B2Y,EAAM,SAAU7L,EAAS9M,GACzB/U,KAAK+U,QAAUA,EACf/U,KAAKgoC,QAAUjzB,EAAQizB,MAEvB,IAAIp2B,EAAIiQ,EAAQlZ,OAAOtB,MAAM0N,EAAQizB,MAAQ1C,EAAGzN,EAAE2O,OAASlB,EAAGzN,EAAEyO,OAEhE,IAAK10B,EACH,MAAM,IAAInW,UAAU,oBAAsBomB,GAU5C,GAPA7hB,KAAKw3B,IAAM3V,EAGX7hB,KAAKmoC,OAASv2B,EAAE,GAChB5R,KAAKooC,OAASx2B,EAAE,GAChB5R,KAAKqoC,OAASz2B,EAAE,GAEZ5R,KAAKmoC,MAAQ9C,GAAoBrlC,KAAKmoC,MAAQ,EAChD,MAAM,IAAI1sC,UAAU,yBAGtB,GAAIuE,KAAKooC,MAAQ/C,GAAoBrlC,KAAKooC,MAAQ,EAChD,MAAM,IAAI3sC,UAAU,yBAGtB,GAAIuE,KAAKqoC,MAAQhD,GAAoBrlC,KAAKqoC,MAAQ,EAChD,MAAM,IAAI5sC,UAAU,yBAIjBmW,EAAE,GAGL5R,KAAKsoC,WAAa12B,EAAE,GAAG3G,MAAM,KAAK9F,KAAI,SAAUuY,GAC9C,GAAI,WAAW/W,KAAK+W,GAAK,CACvB,IAAI5T,GAAO4T,EACX,GAAI5T,GAAO,GAAKA,EAAMu7B,EACpB,OAAOv7B,EAGX,OAAO4T,KATT1d,KAAKsoC,WAAa,GAapBtoC,KAAKuoC,MAAQ32B,EAAE,GAAKA,EAAE,GAAG3G,MAAM,KAAO,GACtCjL,KAAKwoC,SArHPxD,EAAQh6B,MAAQA,EAiChBg6B,EAAQyD,MACR,SAAgB5mB,EAAS9M,GACvB,IAAI2zB,EAAI19B,EAAM6W,EAAS9M,GACvB,OAAO2zB,EAAIA,EAAE7mB,QAAU,MAGzBmjB,EAAQ2D,MACR,SAAgB9mB,EAAS9M,GACvB,IAAIyT,EAAIxd,EAAM6W,EAAQlZ,OAAOhE,QAAQ,SAAU,IAAKoQ,GACpD,OAAOyT,EAAIA,EAAE3G,QAAU,MAGzBmjB,EAAQE,OAASA,EA2EjBA,EAAO7pC,UAAUmtC,OAAS,WAKxB,OAJAxoC,KAAK6hB,QAAU7hB,KAAKmoC,MAAQ,IAAMnoC,KAAKooC,MAAQ,IAAMpoC,KAAKqoC,MACtDroC,KAAKsoC,WAAWxsC,SAClBkE,KAAK6hB,SAAW,IAAM7hB,KAAKsoC,WAAWx5B,KAAK,MAEtC9O,KAAK6hB,SAGdqjB,EAAO7pC,UAAUoD,SAAW,WAC1B,OAAOuB,KAAK6hB,SAGdqjB,EAAO7pC,UAAUutC,QAAU,SAAUC,GAMnC,OALAnb,EAAM,iBAAkB1tB,KAAK6hB,QAAS7hB,KAAK+U,QAAS8zB,GAC9CA,aAAiB3D,IACrB2D,EAAQ,IAAI3D,EAAO2D,EAAO7oC,KAAK+U,UAG1B/U,KAAK8oC,YAAYD,IAAU7oC,KAAK+oC,WAAWF,IAGpD3D,EAAO7pC,UAAUytC,YAAc,SAAUD,GAKvC,OAJMA,aAAiB3D,IACrB2D,EAAQ,IAAI3D,EAAO2D,EAAO7oC,KAAK+U,UAG1Bi0B,EAAmBhpC,KAAKmoC,MAAOU,EAAMV,QACrCa,EAAmBhpC,KAAKooC,MAAOS,EAAMT,QACrCY,EAAmBhpC,KAAKqoC,MAAOQ,EAAMR,QAG9CnD,EAAO7pC,UAAU0tC,WAAa,SAAUF,GAMtC,GALMA,aAAiB3D,IACrB2D,EAAQ,IAAI3D,EAAO2D,EAAO7oC,KAAK+U,UAI7B/U,KAAKsoC,WAAWxsC,SAAW+sC,EAAMP,WAAWxsC,OAC9C,OAAQ,EACH,IAAKkE,KAAKsoC,WAAWxsC,QAAU+sC,EAAMP,WAAWxsC,OACrD,OAAO,EACF,IAAKkE,KAAKsoC,WAAWxsC,SAAW+sC,EAAMP,WAAWxsC,OACtD,OAAO,EAGT,IAAID,EAAI,EACR,EAAG,CACD,IAAIotC,EAAIjpC,KAAKsoC,WAAWzsC,GACpBqtC,EAAIL,EAAMP,WAAWzsC,GAEzB,GADA6xB,EAAM,qBAAsB7xB,EAAGotC,EAAGC,QACxBpqC,IAANmqC,QAAyBnqC,IAANoqC,EACrB,OAAO,EACF,QAAUpqC,IAANoqC,EACT,OAAO,EACF,QAAUpqC,IAANmqC,EACT,OAAQ,EACH,GAAIA,IAAMC,EAGf,OAAOF,EAAmBC,EAAGC,WAEtBrtC,IAGbqpC,EAAO7pC,UAAU8tC,aAAe,SAAUN,GAClCA,aAAiB3D,IACrB2D,EAAQ,IAAI3D,EAAO2D,EAAO7oC,KAAK+U,UAGjC,IAAIlZ,EAAI,EACR,EAAG,CACD,IAAIotC,EAAIjpC,KAAKuoC,MAAM1sC,GACfqtC,EAAIL,EAAMN,MAAM1sC,GAEpB,GADA6xB,EAAM,qBAAsB7xB,EAAGotC,EAAGC,QACxBpqC,IAANmqC,QAAyBnqC,IAANoqC,EACrB,OAAO,EACF,QAAUpqC,IAANoqC,EACT,OAAO,EACF,QAAUpqC,IAANmqC,EACT,OAAQ,EACH,GAAIA,IAAMC,EAGf,OAAOF,EAAmBC,EAAGC,WAEtBrtC,IAKbqpC,EAAO7pC,UAAU+tC,IAAM,SAAU1E,EAAShjB,GACxC,OAAQgjB,GACN,IAAK,WACH1kC,KAAKsoC,WAAWxsC,OAAS,EACzBkE,KAAKqoC,MAAQ,EACbroC,KAAKooC,MAAQ,EACbpoC,KAAKmoC,QACLnoC,KAAKopC,IAAI,MAAO1nB,GAChB,MACF,IAAK,WACH1hB,KAAKsoC,WAAWxsC,OAAS,EACzBkE,KAAKqoC,MAAQ,EACbroC,KAAKooC,QACLpoC,KAAKopC,IAAI,MAAO1nB,GAChB,MACF,IAAK,WAIH1hB,KAAKsoC,WAAWxsC,OAAS,EACzBkE,KAAKopC,IAAI,QAAS1nB,GAClB1hB,KAAKopC,IAAI,MAAO1nB,GAChB,MAGF,IAAK,aAC4B,IAA3B1hB,KAAKsoC,WAAWxsC,QAClBkE,KAAKopC,IAAI,QAAS1nB,GAEpB1hB,KAAKopC,IAAI,MAAO1nB,GAChB,MAEF,IAAK,QAKgB,IAAf1hB,KAAKooC,OACU,IAAfpoC,KAAKqoC,OACsB,IAA3BroC,KAAKsoC,WAAWxsC,QAClBkE,KAAKmoC,QAEPnoC,KAAKooC,MAAQ,EACbpoC,KAAKqoC,MAAQ,EACbroC,KAAKsoC,WAAa,GAClB,MACF,IAAK,QAKgB,IAAftoC,KAAKqoC,OAA0C,IAA3BroC,KAAKsoC,WAAWxsC,QACtCkE,KAAKooC,QAEPpoC,KAAKqoC,MAAQ,EACbroC,KAAKsoC,WAAa,GAClB,MACF,IAAK,QAK4B,IAA3BtoC,KAAKsoC,WAAWxsC,QAClBkE,KAAKqoC,QAEProC,KAAKsoC,WAAa,GAClB,MAGF,IAAK,MACH,GAA+B,IAA3BtoC,KAAKsoC,WAAWxsC,OAClBkE,KAAKsoC,WAAa,CAAC,OACd,CAEL,IADA,IAAIzsC,EAAImE,KAAKsoC,WAAWxsC,SACfD,GAAK,GACsB,iBAAvBmE,KAAKsoC,WAAWzsC,KACzBmE,KAAKsoC,WAAWzsC,KAChBA,GAAK,IAGE,IAAPA,GAEFmE,KAAKsoC,WAAWnpC,KAAK,GAGrBuiB,IAGE1hB,KAAKsoC,WAAW,KAAO5mB,EACrB1X,MAAMhK,KAAKsoC,WAAW,MACxBtoC,KAAKsoC,WAAa,CAAC5mB,EAAY,IAGjC1hB,KAAKsoC,WAAa,CAAC5mB,EAAY,IAGnC,MAEF,QACE,MAAM,IAAIiJ,MAAM,+BAAiC+Z,GAIrD,OAFA1kC,KAAKwoC,SACLxoC,KAAKw3B,IAAMx3B,KAAK6hB,QACT7hB,MAGTglC,EAAQoE,IACR,SAAcvnB,EAAS6iB,EAASsD,EAAOtmB,GACd,qBACrBA,EAAasmB,EACbA,OAAQlpC,GAGV,IACE,OAAO,IAAIomC,EAAOrjB,EAASmmB,GAAOoB,IAAI1E,EAAShjB,GAAYG,QAC3D,MAAOqmB,GACP,OAAO,OAIXlD,EAAQqE,KACR,SAAeC,EAAUC,GACvB,GAAIr9B,EAAGo9B,EAAUC,GACf,OAAO,KAEP,IAAIC,EAAKx+B,EAAMs+B,GACXG,EAAKz+B,EAAMu+B,GACX/f,EAAS,GACb,GAAIggB,EAAGlB,WAAWxsC,QAAU2tC,EAAGnB,WAAWxsC,OAAQ,CAChD0tB,EAAS,MACT,IAAIkgB,EAAgB,aAEtB,IAAK,IAAIrtC,KAAOmtC,EACd,IAAY,UAARntC,GAA2B,UAARA,GAA2B,UAARA,IACpCmtC,EAAGntC,KAASotC,EAAGptC,GACjB,OAAOmtB,EAASntB,EAItB,OAAOqtC,GAIX1E,EAAQgE,mBAAqBA,EAE7B,IAAIW,EAAU,WACd,SAASX,EAAoBC,EAAGC,GAC9B,IAAIU,EAAOD,EAAQhjC,KAAKsiC,GACpBY,EAAOF,EAAQhjC,KAAKuiC,GAOxB,OALIU,GAAQC,IACVZ,GAAKA,EACLC,GAAKA,GAGAD,IAAMC,EAAI,EACZU,IAASC,GAAS,EAClBA,IAASD,EAAQ,EAClBX,EAAIC,GAAK,EACT,EAwBN,SAASN,EAASK,EAAGC,EAAGlB,GACtB,OAAO,IAAI9C,EAAO+D,EAAGjB,GAAOY,QAAQ,IAAI1D,EAAOgE,EAAGlB,IAmCpD,SAAS8B,EAAIb,EAAGC,EAAGlB,GACjB,OAAOY,EAAQK,EAAGC,EAAGlB,GAAS,EAIhC,SAAS+B,EAAId,EAAGC,EAAGlB,GACjB,OAAOY,EAAQK,EAAGC,EAAGlB,GAAS,EAIhC,SAAS97B,EAAI+8B,EAAGC,EAAGlB,GACjB,OAAgC,IAAzBY,EAAQK,EAAGC,EAAGlB,GAIvB,SAASgC,EAAKf,EAAGC,EAAGlB,GAClB,OAAgC,IAAzBY,EAAQK,EAAGC,EAAGlB,GAIvB,SAASiC,EAAKhB,EAAGC,EAAGlB,GAClB,OAAOY,EAAQK,EAAGC,EAAGlB,IAAU,EAIjC,SAASkC,EAAKjB,EAAGC,EAAGlB,GAClB,OAAOY,EAAQK,EAAGC,EAAGlB,IAAU,EAIjC,SAASmC,EAAKlB,EAAGmB,EAAIlB,EAAGlB,GACtB,OAAQoC,GACN,IAAK,MAKH,MAJiB,iBAANnB,IACTA,EAAIA,EAAEpnB,SACS,iBAANqnB,IACTA,EAAIA,EAAErnB,SACDonB,IAAMC,EAEf,IAAK,MAKH,MAJiB,iBAAND,IACTA,EAAIA,EAAEpnB,SACS,iBAANqnB,IACTA,EAAIA,EAAErnB,SACDonB,IAAMC,EAEf,IAAK,GACL,IAAK,IACL,IAAK,KACH,OAAOh9B,EAAG+8B,EAAGC,EAAGlB,GAElB,IAAK,KACH,OAAOgC,EAAIf,EAAGC,EAAGlB,GAEnB,IAAK,IACH,OAAO8B,EAAGb,EAAGC,EAAGlB,GAElB,IAAK,KACH,OAAOiC,EAAIhB,EAAGC,EAAGlB,GAEnB,IAAK,IACH,OAAO+B,EAAGd,EAAGC,EAAGlB,GAElB,IAAK,KACH,OAAOkC,EAAIjB,EAAGC,EAAGlB,GAEnB,QACE,MAAM,IAAIvsC,UAAU,qBAAuB2uC,IAKjD,SAASC,EAAYC,EAAMv1B,GAQzB,GAPKA,GAA8B,iBAAZA,IACrBA,EAAU,CACRizB,QAASjzB,EACTkzB,mBAAmB,IAInBqC,aAAgBD,EAAY,CAC9B,GAAIC,EAAKtC,UAAYjzB,EAAQizB,MAC3B,OAAOsC,EAEPA,EAAOA,EAAKztC,MAIhB,KAAMmD,gBAAgBqqC,GACpB,OAAO,IAAIA,EAAWC,EAAMv1B,GAG9B2Y,EAAM,aAAc4c,EAAMv1B,GAC1B/U,KAAK+U,QAAUA,EACf/U,KAAKgoC,QAAUjzB,EAAQizB,MACvBhoC,KAAKgL,MAAMs/B,GAEPtqC,KAAK8kC,SAAWyF,EAClBvqC,KAAKnD,MAAQ,GAEbmD,KAAKnD,MAAQmD,KAAK6R,SAAW7R,KAAK8kC,OAAOjjB,QAG3C6L,EAAM,OAAQ1tB,MAhKhBglC,EAAQwF,oBACR,SAA8BvB,EAAGC,GAC/B,OAAOF,EAAmBE,EAAGD,IAG/BjE,EAAQmD,MACR,SAAgBc,EAAGjB,GACjB,OAAO,IAAI9C,EAAO+D,EAAGjB,GAAOG,OAG9BnD,EAAQoD,MACR,SAAgBa,EAAGjB,GACjB,OAAO,IAAI9C,EAAO+D,EAAGjB,GAAOI,OAG9BpD,EAAQqD,MACR,SAAgBY,EAAGjB,GACjB,OAAO,IAAI9C,EAAO+D,EAAGjB,GAAOK,OAG9BrD,EAAQ4D,QAAUA,EAKlB5D,EAAQyF,aACR,SAAuBxB,EAAGC,GACxB,OAAON,EAAQK,EAAGC,GAAG,IAGvBlE,EAAQmE,aACR,SAAuBF,EAAGC,EAAGlB,GAC3B,IAAI0C,EAAW,IAAIxF,EAAO+D,EAAGjB,GACzB2C,EAAW,IAAIzF,EAAOgE,EAAGlB,GAC7B,OAAO0C,EAAS9B,QAAQ+B,IAAaD,EAASvB,aAAawB,IAG7D3F,EAAQ4F,SACR,SAAmB3B,EAAGC,EAAGlB,GACvB,OAAOY,EAAQM,EAAGD,EAAGjB,IAGvBhD,EAAQ75B,KACR,SAAe6O,EAAMguB,GACnB,OAAOhuB,EAAK7O,MAAK,SAAU89B,EAAGC,GAC5B,OAAOlE,EAAQmE,aAAaF,EAAGC,EAAGlB,OAItChD,EAAQ6F,MACR,SAAgB7wB,EAAMguB,GACpB,OAAOhuB,EAAK7O,MAAK,SAAU89B,EAAGC,GAC5B,OAAOlE,EAAQmE,aAAaD,EAAGD,EAAGjB,OAItChD,EAAQ8E,GAAKA,EAKb9E,EAAQ+E,GAAKA,EAKb/E,EAAQ94B,GAAKA,EAKb84B,EAAQgF,IAAMA,EAKdhF,EAAQiF,IAAMA,EAKdjF,EAAQkF,IAAMA,EAKdlF,EAAQmF,IAAMA,EA0CdnF,EAAQqF,WAAaA,EAmCrB,IAAIE,EAAM,GAiGV,SAASO,EAAOC,EAAOh2B,GAQrB,GAPKA,GAA8B,iBAAZA,IACrBA,EAAU,CACRizB,QAASjzB,EACTkzB,mBAAmB,IAInB8C,aAAiBD,EACnB,OAAIC,EAAM/C,UAAYjzB,EAAQizB,OAC1B+C,EAAM9C,sBAAwBlzB,EAAQkzB,kBACjC8C,EAEA,IAAID,EAAMC,EAAMvT,IAAKziB,GAIhC,GAAIg2B,aAAiBV,EACnB,OAAO,IAAIS,EAAMC,EAAMluC,MAAOkY,GAGhC,KAAM/U,gBAAgB8qC,GACpB,OAAO,IAAIA,EAAMC,EAAOh2B,GAgB1B,GAbA/U,KAAK+U,QAAUA,EACf/U,KAAKgoC,QAAUjzB,EAAQizB,MACvBhoC,KAAKioC,oBAAsBlzB,EAAQkzB,kBAGnCjoC,KAAKw3B,IAAMuT,EACX/qC,KAAK2d,IAAMotB,EAAM9/B,MAAM,cAAc9F,KAAI,SAAU4lC,GACjD,OAAO/qC,KAAKgrC,WAAWD,EAAMpiC,UAC5B3I,MAAMe,QAAO,SAAU+/B,GAExB,OAAOA,EAAEhlC,WAGNkE,KAAK2d,IAAI7hB,OACZ,MAAM,IAAIL,UAAU,yBAA2BsvC,GAGjD/qC,KAAKwoC,SA8EP,SAASyC,EAAeC,EAAan2B,GAKnC,IAJA,IAAIhG,GAAS,EACTo8B,EAAuBD,EAAYlqC,QACnCoqC,EAAiBD,EAAqBE,MAEnCt8B,GAAUo8B,EAAqBrvC,QACpCiT,EAASo8B,EAAqBv/B,OAAM,SAAU0/B,GAC5C,OAAOF,EAAeG,WAAWD,EAAiBv2B,MAGpDq2B,EAAiBD,EAAqBE,MAGxC,OAAOt8B,EA6BT,SAASy8B,EAAK9tB,GACZ,OAAQA,GAA2B,MAArBA,EAAG9Y,eAAgC,MAAP8Y,EAuM5C,SAAS+tB,EAAeC,EACtB/rC,EAAMgsC,EAAIC,EAAIC,EAAIC,EAAKC,EACvBC,EAAIC,EAAIC,EAAIC,EAAIC,EAAKC,GAuBrB,QArBE1sC,EADE6rC,EAAIG,GACC,GACEH,EAAII,GACN,KAAOD,EAAK,OACVH,EAAIK,GACN,KAAOF,EAAK,IAAMC,EAAK,KAEvB,KAAOjsC,GAeD,KAXbqsC,EADER,EAAIS,GACD,GACIT,EAAIU,GACR,MAAQD,EAAK,GAAK,OACdT,EAAIW,GACR,IAAMF,EAAK,MAAQC,EAAK,GAAK,KACzBE,EACJ,KAAOH,EAAK,IAAMC,EAAK,IAAMC,EAAK,IAAMC,EAExC,KAAOJ,IAGWrjC,OAyB3B,SAAS2jC,EAAS3uB,EAAKkE,EAAS9M,GAC9B,IAAK,IAAIlZ,EAAI,EAAGA,EAAI8hB,EAAI7hB,OAAQD,IAC9B,IAAK8hB,EAAI9hB,GAAG8K,KAAKkb,GACf,OAAO,EAIX,GAAIA,EAAQymB,WAAWxsC,SAAWiZ,EAAQkzB,kBAAmB,CAM3D,IAAKpsC,EAAI,EAAGA,EAAI8hB,EAAI7hB,OAAQD,IAE1B,GADA6xB,EAAM/P,EAAI9hB,GAAGipC,QACTnnB,EAAI9hB,GAAGipC,SAAWyF,GAIlB5sB,EAAI9hB,GAAGipC,OAAOwD,WAAWxsC,OAAS,EAAG,CACvC,IAAIywC,EAAU5uB,EAAI9hB,GAAGipC,OACrB,GAAIyH,EAAQpE,QAAUtmB,EAAQsmB,OAC1BoE,EAAQnE,QAAUvmB,EAAQumB,OAC1BmE,EAAQlE,QAAUxmB,EAAQwmB,MAC5B,OAAO,EAMb,OAAO,EAGT,OAAO,EAIT,SAASmE,EAAW3qB,EAASkpB,EAAOh2B,GAClC,IACEg2B,EAAQ,IAAID,EAAMC,EAAOh2B,GACzB,MAAOmzB,GACP,OAAO,EAET,OAAO6C,EAAMpkC,KAAKkb,GA6HpB,SAAS4qB,EAAS5qB,EAASkpB,EAAO2B,EAAM33B,GAItC,IAAI43B,EAAMC,EAAOC,EAAMvC,EAAMwC,EAC7B,OAJAjrB,EAAU,IAAIqjB,EAAOrjB,EAAS9M,GAC9Bg2B,EAAQ,IAAID,EAAMC,EAAOh2B,GAGjB23B,GACN,IAAK,IACHC,EAAO7C,EACP8C,EAAQ1C,EACR2C,EAAO9C,EACPO,EAAO,IACPwC,EAAQ,KACR,MACF,IAAK,IACHH,EAAO5C,EACP6C,EAAQ3C,EACR4C,EAAO/C,EACPQ,EAAO,IACPwC,EAAQ,KACR,MACF,QACE,MAAM,IAAIrxC,UAAU,yCAIxB,GAAI+wC,EAAU3qB,EAASkpB,EAAOh2B,GAC5B,OAAO,EAMT,IAAK,IAAIlZ,EAAI,EAAGA,EAAIkvC,EAAMptB,IAAI7hB,SAAUD,EAAG,CACzC,IAAIqvC,EAAcH,EAAMptB,IAAI9hB,GAExBkxC,EAAO,KACPC,EAAM,KAiBV,GAfA9B,EAAYniC,SAAQ,SAAUkkC,GACxBA,EAAWnI,SAAWyF,IACxB0C,EAAa,IAAI5C,EAAW,YAE9B0C,EAAOA,GAAQE,EACfD,EAAMA,GAAOC,EACTN,EAAKM,EAAWnI,OAAQiI,EAAKjI,OAAQ/vB,GACvCg4B,EAAOE,EACEJ,EAAKI,EAAWnI,OAAQkI,EAAIlI,OAAQ/vB,KAC7Ci4B,EAAMC,MAMNF,EAAKl7B,WAAay4B,GAAQyC,EAAKl7B,WAAai7B,EAC9C,OAAO,EAKT,KAAME,EAAIn7B,UAAYm7B,EAAIn7B,WAAay4B,IACnCsC,EAAM/qB,EAASmrB,EAAIlI,QACrB,OAAO,EACF,GAAIkI,EAAIn7B,WAAai7B,GAASD,EAAKhrB,EAASmrB,EAAIlI,QACrD,OAAO,EAGX,OAAO,EAtuBTuF,EAAWhvC,UAAU2P,MAAQ,SAAUs/B,GACrC,IAAI4C,EAAIltC,KAAK+U,QAAQizB,MAAQ1C,EAAGzN,EAAE6P,iBAAmBpC,EAAGzN,EAAE8P,YACtD/1B,EAAI04B,EAAKjjC,MAAM6lC,GAEnB,IAAKt7B,EACH,MAAM,IAAInW,UAAU,uBAAyB6uC,GAG/CtqC,KAAK6R,cAAoB/S,IAAT8S,EAAE,GAAmBA,EAAE,GAAK,GACtB,MAAlB5R,KAAK6R,WACP7R,KAAK6R,SAAW,IAIbD,EAAE,GAGL5R,KAAK8kC,OAAS,IAAII,EAAOtzB,EAAE,GAAI5R,KAAK+U,QAAQizB,OAF5ChoC,KAAK8kC,OAASyF,GAMlBF,EAAWhvC,UAAUoD,SAAW,WAC9B,OAAOuB,KAAKnD,OAGdwtC,EAAWhvC,UAAUsL,KAAO,SAAUkb,GAGpC,GAFA6L,EAAM,kBAAmB7L,EAAS7hB,KAAK+U,QAAQizB,OAE3ChoC,KAAK8kC,SAAWyF,GAAO1oB,IAAY0oB,EACrC,OAAO,EAGT,GAAuB,iBAAZ1oB,EACT,IACEA,EAAU,IAAIqjB,EAAOrjB,EAAS7hB,KAAK+U,SACnC,MAAOmzB,GACP,OAAO,EAIX,OAAOiC,EAAItoB,EAAS7hB,KAAK6R,SAAU7R,KAAK8kC,OAAQ9kC,KAAK+U,UAGvDs1B,EAAWhvC,UAAUkwC,WAAa,SAAUjB,EAAMv1B,GAChD,KAAMu1B,aAAgBD,GACpB,MAAM,IAAI5uC,UAAU,4BAUtB,IAAI0xC,EAEJ,GATKp4B,GAA8B,iBAAZA,IACrBA,EAAU,CACRizB,QAASjzB,EACTkzB,mBAAmB,IAMD,KAAlBjoC,KAAK6R,SACP,MAAmB,KAAf7R,KAAKnD,QAGTswC,EAAW,IAAIrC,EAAMR,EAAKztC,MAAOkY,GAC1By3B,EAAUxsC,KAAKnD,MAAOswC,EAAUp4B,IAClC,GAAsB,KAAlBu1B,EAAKz4B,SACd,MAAmB,KAAfy4B,EAAKztC,QAGTswC,EAAW,IAAIrC,EAAM9qC,KAAKnD,MAAOkY,GAC1By3B,EAAUlC,EAAKxF,OAAQqI,EAAUp4B,IAG1C,IAAIq4B,IACiB,OAAlBptC,KAAK6R,UAAuC,MAAlB7R,KAAK6R,UACb,OAAlBy4B,EAAKz4B,UAAuC,MAAlBy4B,EAAKz4B,UAC9Bw7B,IACiB,OAAlBrtC,KAAK6R,UAAuC,MAAlB7R,KAAK6R,UACb,OAAlBy4B,EAAKz4B,UAAuC,MAAlBy4B,EAAKz4B,UAC9By7B,EAAattC,KAAK8kC,OAAOjjB,UAAYyoB,EAAKxF,OAAOjjB,QACjD0rB,IACiB,OAAlBvtC,KAAK6R,UAAuC,OAAlB7R,KAAK6R,UACb,OAAlBy4B,EAAKz4B,UAAuC,OAAlBy4B,EAAKz4B,UAC9B27B,EACFrD,EAAInqC,KAAK8kC,OAAQ,IAAKwF,EAAKxF,OAAQ/vB,KACf,OAAlB/U,KAAK6R,UAAuC,MAAlB7R,KAAK6R,YACd,OAAlBy4B,EAAKz4B,UAAuC,MAAlBy4B,EAAKz4B,UAC9B47B,EACFtD,EAAInqC,KAAK8kC,OAAQ,IAAKwF,EAAKxF,OAAQ/vB,KACf,OAAlB/U,KAAK6R,UAAuC,MAAlB7R,KAAK6R,YACd,OAAlBy4B,EAAKz4B,UAAuC,MAAlBy4B,EAAKz4B,UAElC,OAAOu7B,GAA2BC,GAC/BC,GAAcC,GACfC,GAA8BC,GAGlCzI,EAAQ8F,MAAQA,EA8ChBA,EAAMzvC,UAAUmtC,OAAS,WAIvB,OAHAxoC,KAAK+qC,MAAQ/qC,KAAK2d,IAAIxY,KAAI,SAAUuoC,GAClC,OAAOA,EAAM5+B,KAAK,KAAKnG,UACtBmG,KAAK,MAAMnG,OACP3I,KAAK+qC,OAGdD,EAAMzvC,UAAUoD,SAAW,WACzB,OAAOuB,KAAK+qC,OAGdD,EAAMzvC,UAAU2vC,WAAa,SAAUD,GACrC,IAAI/C,EAAQhoC,KAAK+U,QAAQizB,MACzB+C,EAAQA,EAAMpiC,OAEd,IAAIglC,EAAK3F,EAAQ1C,EAAGzN,EAAEiQ,kBAAoBxC,EAAGzN,EAAEgQ,aAC/CkD,EAAQA,EAAMpmC,QAAQgpC,EAAIlC,GAC1B/d,EAAM,iBAAkBqd,GAExBA,EAAQA,EAAMpmC,QAAQ2gC,EAAGzN,EAAE+P,gBAvtBD,UAwtB1Bla,EAAM,kBAAmBqd,EAAOzF,EAAGzN,EAAE+P,iBASrCmD,GAHAA,GAHAA,EAAQA,EAAMpmC,QAAQ2gC,EAAGzN,EAAEsP,WA/vBN,QAkwBPxiC,QAAQ2gC,EAAGzN,EAAE0P,WAnvBN,QAsvBPt8B,MAAM,OAAO6D,KAAK,KAKhC,IAAI8+B,EAAS5F,EAAQ1C,EAAGzN,EAAE6P,iBAAmBpC,EAAGzN,EAAE8P,YAC9ChqB,EAAMotB,EAAM9/B,MAAM,KAAK9F,KAAI,SAAUmlC,GACvC,OAoEJ,SAA0BA,EAAMv1B,GAU9B,OATA2Y,EAAM,OAAQ4c,EAAMv1B,GACpBu1B,EA6DF,SAAwBA,EAAMv1B,GAC5B,OAAOu1B,EAAK3hC,OAAOsC,MAAM,OAAO9F,KAAI,SAAUmlC,GAC5C,OAIJ,SAAuBA,EAAMv1B,GAC3B2Y,EAAM,QAAS4c,EAAMv1B,GACrB,IAAIm4B,EAAIn4B,EAAQizB,MAAQ1C,EAAGzN,EAAE4P,YAAcnC,EAAGzN,EAAE2P,OAChD,OAAO8C,EAAK3lC,QAAQuoC,GAAG,SAAUzgC,EAAGohC,EAAGj8B,EAAGxU,EAAG0wC,GAE3C,IAAIC,EA2CJ,OA5CArgB,EAAM,QAAS4c,EAAM79B,EAAGohC,EAAGj8B,EAAGxU,EAAG0wC,GAG7BtC,EAAIqC,GACNE,EAAM,GACGvC,EAAI55B,GACbm8B,EAAM,KAAOF,EAAI,WAAaA,EAAI,GAAK,OAC9BrC,EAAIpuC,GAEX2wC,EADQ,MAANF,EACI,KAAOA,EAAI,IAAMj8B,EAAI,OAASi8B,EAAI,MAAQj8B,EAAI,GAAK,KAEnD,KAAOi8B,EAAI,IAAMj8B,EAAI,SAAWi8B,EAAI,GAAK,OAExCC,GACTpgB,EAAM,kBAAmBogB,GAGrBC,EAFM,MAANF,EACQ,MAANj8B,EACI,KAAOi8B,EAAI,IAAMj8B,EAAI,IAAMxU,EAAI,IAAM0wC,EACrC,KAAOD,EAAI,IAAMj8B,EAAI,MAAQxU,EAAI,GAEjC,KAAOywC,EAAI,IAAMj8B,EAAI,IAAMxU,EAAI,IAAM0wC,EACrC,KAAOD,EAAI,MAAQj8B,EAAI,GAAK,KAG9B,KAAOi8B,EAAI,IAAMj8B,EAAI,IAAMxU,EAAI,IAAM0wC,EACrC,OAASD,EAAI,GAAK,SAG1BngB,EAAM,SAGFqgB,EAFM,MAANF,EACQ,MAANj8B,EACI,KAAOi8B,EAAI,IAAMj8B,EAAI,IAAMxU,EAC3B,KAAOywC,EAAI,IAAMj8B,EAAI,MAAQxU,EAAI,GAEjC,KAAOywC,EAAI,IAAMj8B,EAAI,IAAMxU,EAC3B,KAAOywC,EAAI,MAAQj8B,EAAI,GAAK,KAG9B,KAAOi8B,EAAI,IAAMj8B,EAAI,IAAMxU,EAC3B,OAASywC,EAAI,GAAK,QAI5BngB,EAAM,eAAgBqgB,GACfA,KApDAC,CAAa1D,EAAMv1B,MACzBjG,KAAK,KAhEDm/B,CAAc3D,EAAMv1B,GAC3B2Y,EAAM,QAAS4c,GACfA,EAmBF,SAAwBA,EAAMv1B,GAC5B,OAAOu1B,EAAK3hC,OAAOsC,MAAM,OAAO9F,KAAI,SAAUmlC,GAC5C,OAIJ,SAAuBA,EAAMv1B,GAC3B,IAAIm4B,EAAIn4B,EAAQizB,MAAQ1C,EAAGzN,EAAEwP,YAAc/B,EAAGzN,EAAEuP,OAChD,OAAOkD,EAAK3lC,QAAQuoC,GAAG,SAAUzgC,EAAGohC,EAAGj8B,EAAGxU,EAAG0wC,GAE3C,IAAIC,EAoBJ,OArBArgB,EAAM,QAAS4c,EAAM79B,EAAGohC,EAAGj8B,EAAGxU,EAAG0wC,GAG7BtC,EAAIqC,GACNE,EAAM,GACGvC,EAAI55B,GACbm8B,EAAM,KAAOF,EAAI,WAAaA,EAAI,GAAK,OAC9BrC,EAAIpuC,GAEb2wC,EAAM,KAAOF,EAAI,IAAMj8B,EAAI,OAASi8B,EAAI,MAAQj8B,EAAI,GAAK,KAChDk8B,GACTpgB,EAAM,kBAAmBogB,GACzBC,EAAM,KAAOF,EAAI,IAAMj8B,EAAI,IAAMxU,EAAI,IAAM0wC,EACrC,KAAOD,EAAI,MAAQj8B,EAAI,GAAK,MAGlCm8B,EAAM,KAAOF,EAAI,IAAMj8B,EAAI,IAAMxU,EAC3B,KAAOywC,EAAI,MAAQj8B,EAAI,GAAK,KAGpC8b,EAAM,eAAgBqgB,GACfA,KA5BAG,CAAa5D,EAAMv1B,MACzBjG,KAAK,KAtBDq/B,CAAc7D,EAAMv1B,GAC3B2Y,EAAM,SAAU4c,GAChBA,EAmHF,SAAyBA,EAAMv1B,GAE7B,OADA2Y,EAAM,iBAAkB4c,EAAMv1B,GACvBu1B,EAAKr/B,MAAM,OAAO9F,KAAI,SAAUmlC,GACrC,OAIJ,SAAwBA,EAAMv1B,GAC5Bu1B,EAAOA,EAAK3hC,OACZ,IAAIukC,EAAIn4B,EAAQizB,MAAQ1C,EAAGzN,EAAEkP,aAAezB,EAAGzN,EAAEiP,QACjD,OAAOwD,EAAK3lC,QAAQuoC,GAAG,SAAUa,EAAKK,EAAMP,EAAGj8B,EAAGxU,EAAG0wC,GACnDpgB,EAAM,SAAU4c,EAAMyD,EAAKK,EAAMP,EAAGj8B,EAAGxU,EAAG0wC,GAC1C,IAAIO,EAAK7C,EAAIqC,GACTS,EAAKD,GAAM7C,EAAI55B,GACf28B,EAAKD,GAAM9C,EAAIpuC,GACfoxC,EAAOD,EA4DX,MA1Da,MAATH,GAAgBI,IAClBJ,EAAO,IAKTN,EAAK/4B,EAAQkzB,kBAAoB,KAAO,GAEpCoG,EAGAN,EAFW,MAATK,GAAyB,MAATA,EAEZ,WAGA,IAECA,GAAQI,GAGbF,IACF18B,EAAI,GAENxU,EAAI,EAES,MAATgxC,GAIFA,EAAO,KACHE,GACFT,GAAKA,EAAI,EACTj8B,EAAI,EACJxU,EAAI,IAEJwU,GAAKA,EAAI,EACTxU,EAAI,IAEY,OAATgxC,IAGTA,EAAO,IACHE,EACFT,GAAKA,EAAI,EAETj8B,GAAKA,EAAI,GAIbm8B,EAAMK,EAAOP,EAAI,IAAMj8B,EAAI,IAAMxU,EAAI0wC,GAC5BQ,EACTP,EAAM,KAAOF,EAAI,OAASC,EAAK,OAASD,EAAI,GAAK,OAASC,EACjDS,IACTR,EAAM,KAAOF,EAAI,IAAMj8B,EAAI,KAAOk8B,EAChC,KAAOD,EAAI,MAAQj8B,EAAI,GAAK,KAAOk8B,GAGvCpgB,EAAM,gBAAiBqgB,GAEhBA,KAxEAU,CAAcnE,EAAMv1B,MAC1BjG,KAAK,KAvHD4/B,CAAepE,EAAMv1B,GAC5B2Y,EAAM,SAAU4c,GAChBA,EAkMF,SAAuBA,EAAMv1B,GAG3B,OAFA2Y,EAAM,eAAgB4c,EAAMv1B,GAErBu1B,EAAK3hC,OAAOhE,QAAQ2gC,EAAGzN,EAAEkQ,MAAO,IArMhC4G,CAAarE,EAAMv1B,GAC1B2Y,EAAM,QAAS4c,GACRA,EA9EEsE,CAAgBtE,EAAMtqC,KAAK+U,WACjC/U,MAAM8O,KAAK,KAAK7D,MAAM,OAWzB,OAVIjL,KAAK+U,QAAQizB,QAEfrqB,EAAMA,EAAI5c,QAAO,SAAUupC,GACzB,QAASA,EAAKjjC,MAAMumC,OAGxBjwB,EAAMA,EAAIxY,KAAI,SAAUmlC,GACtB,OAAO,IAAID,EAAWC,EAAMtqC,KAAK+U,WAChC/U,OAKL8qC,EAAMzvC,UAAUkwC,WAAa,SAAUR,EAAOh2B,GAC5C,KAAMg2B,aAAiBD,GACrB,MAAM,IAAIrvC,UAAU,uBAGtB,OAAOuE,KAAK2d,IAAIrR,MAAK,SAAUuiC,GAC7B,OACE5D,EAAc4D,EAAiB95B,IAC/Bg2B,EAAMptB,IAAIrR,MAAK,SAAUwiC,GACvB,OACE7D,EAAc6D,EAAkB/5B,IAChC85B,EAAgBjjC,OAAM,SAAUmjC,GAC9B,OAAOD,EAAiBljC,OAAM,SAAUojC,GACtC,OAAOD,EAAexD,WAAWyD,EAAiBj6B,gBA4BhEiwB,EAAQiK,cACR,SAAwBlE,EAAOh2B,GAC7B,OAAO,IAAI+1B,EAAMC,EAAOh2B,GAAS4I,IAAIxY,KAAI,SAAUmlC,GACjD,OAAOA,EAAKnlC,KAAI,SAAU27B,GACxB,OAAOA,EAAEjkC,SACRiS,KAAK,KAAKnG,OAAOsC,MAAM,SAyP9B6/B,EAAMzvC,UAAUsL,KAAO,SAAUkb,GAC/B,IAAKA,EACH,OAAO,EAGT,GAAuB,iBAAZA,EACT,IACEA,EAAU,IAAIqjB,EAAOrjB,EAAS7hB,KAAK+U,SACnC,MAAOmzB,GACP,OAAO,EAIX,IAAK,IAAIrsC,EAAI,EAAGA,EAAImE,KAAK2d,IAAI7hB,OAAQD,IACnC,GAAIywC,EAAQtsC,KAAK2d,IAAI9hB,GAAIgmB,EAAS7hB,KAAK+U,SACrC,OAAO,EAGX,OAAO,GAuCTiwB,EAAQwH,UAAYA,EAUpBxH,EAAQkK,cACR,SAAwBpL,EAAUiH,EAAOh2B,GACvC,IAAIo6B,EAAM,KACNC,EAAQ,KACZ,IACE,IAAIC,EAAW,IAAIvE,EAAMC,EAAOh2B,GAChC,MAAOmzB,GACP,OAAO,KAYT,OAVApE,EAAS/6B,SAAQ,SAAU2/B,GACrB2G,EAAS1oC,KAAK+hC,KAEXyG,IAA6B,IAAtBC,EAAMxG,QAAQF,KAGxB0G,EAAQ,IAAIlK,EADZiK,EAAMzG,EACkB3zB,QAIvBo6B,GAGTnK,EAAQsK,cACR,SAAwBxL,EAAUiH,EAAOh2B,GACvC,IAAIw6B,EAAM,KACNC,EAAQ,KACZ,IACE,IAAIH,EAAW,IAAIvE,EAAMC,EAAOh2B,GAChC,MAAOmzB,GACP,OAAO,KAYT,OAVApE,EAAS/6B,SAAQ,SAAU2/B,GACrB2G,EAAS1oC,KAAK+hC,KAEX6G,GAA4B,IAArBC,EAAM5G,QAAQF,KAGxB8G,EAAQ,IAAItK,EADZqK,EAAM7G,EACkB3zB,QAIvBw6B,GAGTvK,EAAQyK,WACR,SAAqB1E,EAAO/C,GAC1B+C,EAAQ,IAAID,EAAMC,EAAO/C,GAEzB,IAAI0H,EAAS,IAAIxK,EAAO,SACxB,GAAI6F,EAAMpkC,KAAK+oC,GACb,OAAOA,EAIT,GADAA,EAAS,IAAIxK,EAAO,WAChB6F,EAAMpkC,KAAK+oC,GACb,OAAOA,EAGTA,EAAS,KACT,IAAK,IAAI7zC,EAAI,EAAGA,EAAIkvC,EAAMptB,IAAI7hB,SAAUD,EAAG,CACvBkvC,EAAMptB,IAAI9hB,GAEhBkN,SAAQ,SAAUkkC,GAE5B,IAAI0C,EAAU,IAAIzK,EAAO+H,EAAWnI,OAAOjjB,SAC3C,OAAQorB,EAAWp7B,UACjB,IAAK,IAC+B,IAA9B89B,EAAQrH,WAAWxsC,OACrB6zC,EAAQtH,QAERsH,EAAQrH,WAAWnpC,KAAK,GAE1BwwC,EAAQnY,IAAMmY,EAAQnH,SAExB,IAAK,GACL,IAAK,KACEkH,IAAU5F,EAAG4F,EAAQC,KACxBD,EAASC,GAEX,MACF,IAAK,IACL,IAAK,KAEH,MAEF,QACE,MAAM,IAAIhlB,MAAM,yBAA2BsiB,EAAWp7B,cAK9D,GAAI69B,GAAU3E,EAAMpkC,KAAK+oC,GACvB,OAAOA,EAGT,OAAO,MAGT1K,EAAQ4K,WACR,SAAqB7E,EAAOh2B,GAC1B,IAGE,OAAO,IAAI+1B,EAAMC,EAAOh2B,GAASg2B,OAAS,IAC1C,MAAO7C,GACP,OAAO,OAKXlD,EAAQ6K,IACR,SAAchuB,EAASkpB,EAAOh2B,GAC5B,OAAO03B,EAAQ5qB,EAASkpB,EAAO,IAAKh2B,IAItCiwB,EAAQ8K,IACR,SAAcjuB,EAASkpB,EAAOh2B,GAC5B,OAAO03B,EAAQ5qB,EAASkpB,EAAO,IAAKh2B,IAGtCiwB,EAAQyH,QAAUA,EAsElBzH,EAAQsD,WACR,SAAqBzmB,EAAS9M,GAC5B,IAAIg7B,EAAS/kC,EAAM6W,EAAS9M,GAC5B,OAAQg7B,GAAUA,EAAOzH,WAAWxsC,OAAUi0C,EAAOzH,WAAa,MAGpEtD,EAAQuG,WACR,SAAqByE,EAAIC,EAAIl7B,GAG3B,OAFAi7B,EAAK,IAAIlF,EAAMkF,EAAIj7B,GACnBk7B,EAAK,IAAInF,EAAMmF,EAAIl7B,GACZi7B,EAAGzE,WAAW0E,IAGvBjL,EAAQkL,OACR,SAAiBruB,EAAS9M,GACxB,GAAI8M,aAAmBqjB,EACrB,OAAOrjB,EAGc,iBAAZA,IACTA,EAAU7d,OAAO6d,IAGnB,GAAuB,iBAAZA,EACT,OAAO,KAKT,IAAIxa,EAAQ,KACZ,IAHA0N,EAAUA,GAAW,IAGRo7B,IAEN,CAUL,IADA,IAAIlxC,GACIA,EAAOqmC,EAAGzN,EAAEoP,WAAW/lB,KAAKW,OAChCxa,GAASA,EAAM0G,MAAQ1G,EAAM,GAAGvL,SAAW+lB,EAAQ/lB,SAEhDuL,GACDpI,EAAK8O,MAAQ9O,EAAK,GAAGnD,SAAWuL,EAAM0G,MAAQ1G,EAAM,GAAGvL,SACzDuL,EAAQpI,GAEVqmC,EAAGzN,EAAEoP,WAAWmJ,UAAYnxC,EAAK8O,MAAQ9O,EAAK,GAAGnD,OAASmD,EAAK,GAAGnD,OAGpEwpC,EAAGzN,EAAEoP,WAAWmJ,WAAa,OArB7B/oC,EAAQwa,EAAQxa,MAAMi+B,EAAGzN,EAAEmP,SAwB7B,GAAc,OAAV3/B,EACF,OAAO,KAGT,OAAO2D,EAAM3D,EAAM,GACjB,KAAOA,EAAM,IAAM,KACnB,KAAOA,EAAM,IAAM,KAAM0N,OA8CzBs7B,IA3CWvL,GAAOM,oBACPN,GAAOQ,GACPR,GAAOxyB,IACPwyB,GAAOS,OACPT,GAAO95B,MACP85B,GAAO2D,MACP3D,GAAO6D,MACP7D,GAAOI,OACPJ,GAAOsE,IACNtE,GAAOuE,KACPvE,GAAOkE,mBACPlE,GAAO0F,oBACP1F,GAAOqD,MACPrD,GAAOsD,MACPtD,GAAOuD,MACPvD,GAAO8D,QACP9D,GAAO2F,aACP3F,GAAOqE,aACPrE,GAAO8F,SACP9F,GAAO35B,KACP25B,GAAO+F,MACP/F,GAAOgF,GACPhF,GAAOiF,GACPjF,GAAO54B,GACP44B,GAAOkF,IACPlF,GAAOmF,IACPnF,GAAOoF,IACPpF,GAAOqF,IACPrF,GAAOuF,WACPvF,GAAOgG,MACPhG,GAAOmK,cACPnK,GAAO0H,UACP1H,GAAOoK,cACPpK,GAAOwK,cACPxK,GAAO2K,WACP3K,GAAO8K,WACP9K,GAAO+K,IACP/K,GAAOgL,IACPhL,GAAO2H,QACP3H,GAAOwD,WACPxD,GAAOyG,WACPzG,GAAOoL,OAEG,SAA6BpX,EAAS/0B,GAC9D,OAAK+0B,GAAY/0B,EACV5H,OAAOm0C,QAAQxX,GAAS/3B,QAAO,SAAUu8B,GAI9C,OAHYl/B,EAAek/B,EAAM,GACf,GAELv5B,OAASA,KACrBmH,QAAO,SAAUjQ,EAAKs1C,GACvB,IAAIC,EAAQpyC,EAAemyC,EAAO,GAC9Bl0C,EAAMm0C,EAAM,GACZ3zC,EAAQ2zC,EAAM,GAElB,OAAOv1C,EAAIoB,GAAOQ,EAAO5B,IACxB,IAZ2B,KAuB5Bw1C,IACE5L,GAAW,CACb/L,QAAS,GACT4X,UAAW,IAKX,WAoHE,SAASD,IACP,IAAIE,EAAkBxwC,UAAUrE,OAAS,QAAsBgD,IAAjBqB,UAAU,GAAmBA,UAAU,GAAK,GACtFywC,EAAWzwC,UAAUrE,OAAS,QAAsBgD,IAAjBqB,UAAU,GAAmBA,UAAU,GAAK,EAEnF7E,EAAgB0E,KAAMywC,GAEtBzwC,KAAK4wC,SAAWA,EAChB5wC,KAAKu+B,gBAAkBh/B,EAAmBslC,GAAS6L,WACnD,IAAIG,EAAwBJ,EAAOK,kBAC/Bna,EAAOka,EAAsBla,KAC7BvuB,EAAYyoC,EAAsBzoC,UACtCpI,KAAK4+B,iBAAmBziC,OAAOwO,OAAOvC,GACtCpI,KAAK6hC,YAAc1lC,OAAOwO,OAAOgsB,GAC5Br4B,MAAMC,QAAQoyC,IAAkB3wC,KAAK+wC,4BAA4BJ,GACtE3wC,KAAKgxC,mBAAmBL,GA+F1B,OAhOAr0C,EAAam0C,EAAQ,KAAM,CAAC,CAC1Bp0C,IAAK,sBACLQ,MAAO,SAA6Bo0C,GAClC,IAAIC,EAAmBD,EAAM51C,UACzB81C,EAAmBD,EAAiBC,iBACpCrsC,EAAOosC,EAAiBpsC,KAE5B,IAAKqsC,IAAqBA,EAAiB5B,IAEzC,OADA9iB,EAAImB,KAAK,SAAU,mCAAmC9sB,OAAOgE,KACtD,EAGT,IAAIssC,EAAaD,EAAiBhC,KAAOrK,GAAO95B,MAAMmmC,EAAiB5B,KAAKnG,IAAI,SAC5EiI,EAAe,KAAKvwC,OAAOqwC,EAAiB5B,IAAK,MAAMzuC,OAAOswC,GAElE,QAAKtM,GAAO0H,UAnBC,QAmByB6E,KACpC5kB,EAAImB,KAAK,SAAU,uBAAuB9sB,OApB/B,QAoBsD,mCAAmCA,OAAOuwC,EAAc,OAAOvwC,OAAOgE,KAChI,KAKV,CACDzI,IAAK,iBACLQ,MAAO,SAAwBy0C,GAC7B,IAAKA,IAAgBA,EAAYj2C,UAAUyJ,KAEzC,OADA2nB,EAAImB,KAAK,SAAU,2CAA2C9sB,OAAOwwC,KAC9D,EAGTb,EAAOc,oBAAoBD,GAC3B,IAAIE,EAAiB3M,GAAS/L,QAC9B,IAAK0Y,EAAgB,OAAO,EAC5B,IAAIC,EAAgBD,EAAeF,EAAYj2C,UAAUyJ,MAGzD,OAFI2sC,GAAehlB,EAAImB,KAAK,SAAU,4BAA4B9sB,OAAOwwC,EAAYj2C,UAAUyJ,KAAM,OAAOhE,OAAO2wC,IACnHD,EAAeF,EAAYj2C,UAAUyJ,MAAQwsC,GACtC,IAER,CACDj1C,IAAK,mBACLQ,MAAO,SAA0B60C,GAC/B,IAAKA,IAAkBA,EAAcr2C,UAAUyJ,KAAM,OAAO,EAC5D2rC,EAAOc,oBAAoBG,GAC3B,IAAIhB,EAAY7L,GAAS6L,UACrBiB,EAAmBjB,EAAUkB,WAAU,SAAUX,GACnD,OAAOA,EAAMnsC,OAAS4sC,EAAcr2C,UAAUyJ,QAGhD,GAAI6sC,GAAoB,EAAG,CACzB,IAAIF,EAAgBf,EAAUiB,GAC9BjB,EAAUtlC,OAAOumC,EAAkB,GACnCllB,EAAImB,KAAK,SAAU,8BAA8B9sB,OAAO2wC,EAAc3sC,KAAM,OAAOhE,OAAO2wC,IAI5F,OADA5M,GAAS6L,UAAY,CAACgB,GAAe5wC,OAAOvB,EAAmBmxC,KACxD,IAER,CACDr0C,IAAK,mBACLQ,MAAO,SAA0BiI,GAC/B,IAAKA,EAAM,OAAO,EAClB,IAAIg0B,EAAU+L,GAAS/L,QAEvB,QADaA,EAAQh0B,YAEdg0B,EAAQh0B,IACR,KAER,CACDzI,IAAK,qBACLQ,MAAO,SAA4BiI,GACjC,IAAKA,EAAM,OAAO,EAClB,IAAI4rC,EAAY7L,GAAS6L,UACrB3iC,EAAQ2iC,EAAUkB,WAAU,SAAUX,GACxC,OAAOA,EAAM51C,UAAUyJ,OAASA,KAElC,QAAIiJ,EAAQ,IACZ2iC,EAAUtlC,OAAO2C,EAAO,GACxB82B,GAAS6L,UAAYA,EACd,MAER,CACDr0C,IAAK,eACLQ,MAAO,WACLgoC,GAAS/L,QAAU,KAEpB,CACDz8B,IAAK,iBACLQ,MAAO,WACLgoC,GAAS6L,UAAY,KAStB,CACDr0C,IAAK,sBACLwB,IAAK,WACH,OAAO0B,EAAmBslC,GAAS6L,aAEpC,CACDr0C,IAAK,oBACLwB,IAAK,WACH,IAAIi7B,EAAU+L,GAAS/L,QAGvB,MAAO,CACLnC,KAHS0Z,GAAoBvX,EAAS,QAItC1wB,UAHcioC,GAAoBvX,EAAS,kBAiCjDx8B,EAAam0C,EAAQ,CAAC,CACpBp0C,IAAK,qBACLQ,MAAO,SAA4Bi8B,GASjC,OARIx6B,MAAMC,QAAQu6B,KAChBA,EAAUA,EAAQ5tB,QAAO,SAAU2mC,EAAMvW,GAGvC,OAFAuW,EAAKvW,EAAOv3B,QAAU8tC,EAAKvW,EAAOv3B,MAAQ,IAC1C8tC,EAAKvW,EAAOv3B,MAAM5E,KAAKm8B,GAChBuW,IACN,KAGE/Y,IAER,CACDz8B,IAAK,aACLQ,MAAO,SAAoBmd,GACzB,IAMI83B,EAAa93B,EAAK+3B,aANR,SAAiBjZ,EAASwC,GAGtC,OAFAxC,EAAQwC,EAAOjgC,UAAUyJ,cAAgBg0B,EAAQwC,EAAOjgC,UAAUyJ,MAClEg0B,EAAQwC,EAAOjgC,UAAUyJ,MAAQw2B,EAC1BxC,IAGkC38B,OAAOS,OAAO,OACrDk8B,EAAU,GAEd,IAAK,IAAIz8B,KAAOy1C,EACdhZ,EAAQpa,QAAQozB,EAAWz1C,IAG7B,OAAOy8B,IASR,CACDz8B,IAAK,qBACLQ,MAAO,SAA4Bi8B,GAGjC,IAFAA,EAAU94B,KAAKgyC,mBAAmBlZ,IAEtBH,SAAU,CACpB,IAAI+X,EAAY5X,EAAQH,SAAS53B,QAAO,SAAU43B,GAChD,OAAO8X,EAAOc,oBAAoB5Y,IAAW,KAE/C34B,KAAKu+B,gBAAkBv+B,KAAKiyC,WAAWvB,EAAU5vC,OAAOd,KAAKu+B,kBAG/D,GAAIzF,EAAQ1wB,UAAW,CACrB,IAAIw2B,EAAmB9F,EAAQ1wB,UAAUrH,QAAO,SAAUu6B,GACxD,OAAOmV,EAAOc,oBAAoBjW,IAAS,KAE7Ct7B,KAAK4+B,iBAAmB5+B,KAAKiyC,WAAWrT,EAAiB99B,OAAOd,KAAK4+B,mBAGvE,GAAI9F,EAAQnC,KAAM,CAChB,IAAIkL,EAAc/I,EAAQnC,KAAK51B,QAAO,SAAUu6B,GAC9C,OAAOmV,EAAOc,oBAAoBjW,IAAS,KAE7Ct7B,KAAK6hC,YAAc7hC,KAAKiyC,WAAWpQ,EAAY/gC,OAAOd,KAAK6hC,iBAU9D,CACDxlC,IAAK,8BACLQ,MAAO,SAAqCi8B,GACxB,CAAC,WAAY,YAAa,QAChC/vB,SAAQ,SAAUhF,IAC3B+0B,EAAQ/0B,IAAS,IAAIgF,SAAQ,SAAUuC,GACtC,IAAI4mC,EAAe,YAAc5mC,EAAGvH,KAAO,cAAgBA,EAAO,SAClE,GAAIuH,EAAGvH,OAASA,EAAM,MAAM,IAAIzG,eAAe40C,aAMhDzB,MAKT0B,GAAUzoB,IAAmB/kB,QAAQ,WAAY,IA0BjDytC,GAEJ,SAAUpc,GAwMR,SAASoc,EAAOr9B,GACd,IAAIyO,EAEJloB,EAAgB0E,KAAMoyC,GAEtB5uB,EAAQjmB,EAA2ByC,KAAMjD,EAAgBq1C,GAAQ50C,KAAKwC,KAAM+U,IAC5E,IAGIs9B,EAAiB,CACnBzB,SAAUrnB,EAAS,IACnB+oB,eAAe,EACfniC,MAAO,IACPG,OAAQ,IACR6hC,QAASA,GACT9V,qBAAsBta,EAAQsC,SAC9BsU,SAV2B,CAC3B7N,cAAc,IA4BhB,OAjBAtH,EAAMqS,SAAW7yB,EAAMyC,OAAO4sC,EAAgBt9B,GAC9CyO,EAAMzO,QAAQspB,QAAU7a,EAAM+uB,kBAAkBx9B,GAE3CyO,EAAMzO,QAAQqnB,aAEjB5Y,EAAMzO,QAAQsnB,sBAAuB,GAGlC7Y,EAAMzO,QAAQsnB,uBAEjB7Y,EAAMzO,QAAQy9B,0BAA2B,GAG3ChvB,EAAMivB,8BAA8BjvB,EAAMzO,QAAQwI,QAElDiG,EAAMkvB,aAAe,IAAIhR,GAAYrkC,EAAuBmmB,IACxDA,EAAMzO,QAAQ49B,SAAUnvB,EAAMovB,YAAYpvB,EAAMzO,QAAQ49B,UAAmBnvB,EAAMzO,QAAQzN,QAAQkc,EAAMqvB,SAASrvB,EAAMzO,QAAQzN,QAC3Hkc,EAsaT,OAhpBA/mB,EAAU21C,EAAQpc,GAElB15B,EAAa81C,EAAQ,CAAC,CACpB/1C,IAAK,SACLshB,IAAK,SAAaygB,GAChBp+B,KAAK8yC,QAAU1U,GAEjBvgC,IAAK,WAEH,OADKmC,KAAK8yC,UAAS9yC,KAAK8yC,QAAU,IAAIrC,GAAOzwC,KAAK+U,QAAQ+jB,SAAW,GAAI94B,KAAK+U,QAAQ67B,WAC/E5wC,KAAK8yC,UAQb,CACDz2C,IAAK,QACLwB,IAAK,WACH,OAAOmC,KAAK22B,KAAKgJ,gBAAgBrG,QAUlC,CACDj9B,IAAK,YACLwB,IAAK,WACH,OAAOmC,KAAK22B,KAAKgJ,gBAAgBpG,YAQlC,CACDl9B,IAAK,UACLwB,IAAK,WACH,QAASmC,KAAK+yC,SAQf,CACD12C,IAAK,gBACLwB,IAAK,WACH,MAAO,CACLm1C,QAAStkB,GAAOiB,aAChBsjB,SAAUvkB,GAAOkB,cACjBsjB,OAAQxkB,GAAOoB,YACfqjB,QAASzkB,GAAOqB,aAChBqjB,OAAQ1kB,GAAOsB,YACfyK,QAAS/L,GAAOuB,aAChBojB,OAAQ3kB,GAAOwB,YACfojB,QAAS5kB,GAAOyB,aAChBojB,aAAc7kB,GAAO0B,kBACrBojB,eAAgB9kB,GAAO2B,oBACvBojB,oBAAqB/kB,GAAO4B,+BAkLlCh0B,EAAa81C,EAAQ,CAAC,CACpB/1C,IAAK,cACLQ,MAAO,SAAqB81C,GAC1B,IAAIrnC,EAAKrK,SAASgmB,cAAc0rB,GAEhC,OADIrnC,GAAItL,KAAK6yC,SAASvnC,GACftL,OASR,CACD3D,IAAK,WACLQ,MAAO,SAAkBqI,GAMvB,OALAlF,KAAK+U,QAAQ0sB,cAAgBv8B,EAC7BlF,KAAK22B,KAAO32B,KAAK0yC,aAAa91C,SAE9BoD,KAAK0zC,qBAEE1zC,OAER,CACD3D,IAAK,qBACLQ,MAAO,WAKL,OAJKmD,KAAK22B,KAAKiC,QAA6E54B,KAAK2zC,WAAzE3zC,KAAKyvB,aAAazvB,KAAK22B,KAAMjI,GAAO6D,WAAYvyB,KAAK2zC,UAC7E3zC,KAAKwvB,SAASxvB,KAAK22B,KAAMjI,GAAO2D,8BAA+BryB,KAAK4zC,mBACpE5zC,KAAKwvB,SAASxvB,KAAK22B,KAAMjI,GAAO8D,gBAAiBxyB,KAAK6zC,qBACtD7zC,KAAKwvB,SAASxvB,KAAK22B,KAAMjI,GAAO+D,YAAazyB,KAAK8zC,WAC3C9zC,OAER,CACD3D,IAAK,8BACLQ,MAAO,WACL,IAAIuL,EAAYpI,KAAK22B,KAAKgJ,gBAc1B,OAZIv3B,IACFpI,KAAKwvB,SAASpnB,EAAWsmB,GAAOgF,eAAgB1zB,KAAK+zC,SACrD/zC,KAAKwvB,SAASpnB,EAAWsmB,GAAOkF,gBAAiB5zB,KAAKg0C,UACtDh0C,KAAKwvB,SAASpnB,EAAWsmB,GAAOiF,eAAgB3zB,KAAKi0C,SACrDj0C,KAAKwvB,SAASpnB,EAAWsmB,GAAOmF,gBAAiB7zB,KAAKk0C,UACtDl0C,KAAKwvB,SAASpnB,EAAWsmB,GAAOyF,eAAgBn0B,KAAKm0C,SACrDn0C,KAAKwvB,SAASpnB,EAAWsmB,GAAO0E,gBAAiBpzB,KAAKo0C,UACtDp0C,KAAKwvB,SAASpnB,EAAWsmB,GAAO8E,qBAAsBxzB,KAAKq0C,eAC3Dr0C,KAAKwvB,SAASpnB,EAAWsmB,GAAO2F,iBAAkBr0B,KAAKs0C,iBACvDt0C,KAAKwvB,SAASpnB,EAAWsmB,GAAO4E,6BAA8BtzB,KAAKu0C,uBAG9Dv0C,OAER,CACD3D,IAAK,gCACLQ,MAAO,WACL,IAAIs/B,EAASn8B,KAETw0C,EAAYr0C,UAAUrE,OAAS,QAAsBgD,IAAjBqB,UAAU,GAAmBA,UAAU,GAAK,GAChFod,EAASpd,UAAUrE,OAAS,QAAsBgD,IAAjBqB,UAAU,GAAmBA,UAAU,GAAK,GAC7Es0C,EAAet4C,OAAO4yB,KAAKylB,GAAW14C,OAAS,EAcnD,OAbA24C,GAAgBt4C,OAAO4yB,KAAKxR,GAAQxU,SAAQ,SAAU2rC,GACpD,IAAIC,EAAYxY,EAAOyY,cAAcF,GACrCC,GAAaxY,EAAOrmB,IAAI6+B,EAAWp3B,EAAOm3B,OAE5Cv4C,OAAO4yB,KAAKylB,GAAWzrC,SAAQ,SAAU2rC,GACvC,IAAIC,EAAYxY,EAAOyY,cAAcF,GAErC,GAAIC,EAAW,CACb,IAAIE,EAAgBL,EAAUE,IAC9BG,EAAyC,mBAAlBA,GAAgCA,IACtC1Y,EAAOvmB,GAAG++B,EAAWE,OAGnC70C,OAER,CACD3D,IAAK,oBACLQ,MAAO,WACLmD,KAAKq2B,gBAELr2B,KAAK0zC,uBAEN,CACDr3C,IAAK,WACLQ,MAAO,WACLmD,KAAK+yC,QAAS,EAEd/yC,KAAK80C,8BAEL90C,KAAKqT,QAAQqb,GAAOiB,gBAErB,CACDtzB,IAAK,sBACLQ,MAAO,SAA6Bk4C,GAClC/0C,KAAKqT,QAAQqb,GAAOmB,kBAAmBklB,KAExC,CACD14C,IAAK,kBACLQ,MAAO,SAAyBirB,GAC9B9nB,KAAKqT,QAAQqb,GAAO2B,oBAAqBvI,KAE1C,CACDzrB,IAAK,uBACLQ,MAAO,WACLmD,KAAKqT,QAAQqb,GAAO4B,6BAErB,CACDj0B,IAAK,YACLQ,MAAO,SAAmB6O,GACxB1L,KAAKqT,QAAQqb,GAAOkB,cAAelkB,KAEpC,CACDrP,IAAK,UACLQ,MAAO,WACLmD,KAAKqT,QAAQqb,GAAOoB,eAErB,CACDzzB,IAAK,WACLQ,MAAO,WACLmD,KAAKqT,QAAQqb,GAAOqB,gBAErB,CACD1zB,IAAK,UACLQ,MAAO,WACLmD,KAAKqT,QAAQqb,GAAOsB,YAAahwB,KAAKg1C,oBAEvC,CACD34C,IAAK,WACLQ,MAAO,WACLmD,KAAKqT,QAAQqb,GAAOuB,gBAErB,CACD5zB,IAAK,UACLQ,MAAO,SAAiBwsB,GACtBrpB,KAAKqT,QAAQqb,GAAOwB,YAAa7G,KAElC,CACDhtB,IAAK,gBACLQ,MAAO,SAAuBk/B,GAC5B/7B,KAAKqT,QAAQqb,GAAO0B,kBAAmB2L,KAExC,CACD1/B,IAAK,WACLQ,MAAO,SAAkBoX,GACvBjU,KAAKqT,QAAQqb,GAAOyB,aAAclc,KAEnC,CACD5X,IAAK,oBACLQ,MAAO,SAA2BkY,GAChC,IAAIspB,EAAUtpB,EAAQspB,eAA+Bv/B,IAAnBiW,EAAQrP,OAAuB,CAACqP,EAAQrP,QAAU,IACpF,OAA0B,IAAnB24B,EAAQviC,OAAe,CAAC,CAC7B4J,OAAQ,GACRkS,SAAU,KACPymB,IAaN,CACDhiC,IAAK,SACLQ,MAAO,SAAgB6O,GAErB,OADA1L,KAAK22B,KAAK0J,OAAO30B,GACV1L,OAYR,CACD3D,IAAK,OACLQ,MAAO,SAAcwhC,EAASzmB,EAAUq9B,GAKtC,YAJiBn2C,IAAbm2C,GAAwBj1C,KAAKy9B,UAAU,CACzCwX,WAAYA,IAEdj1C,KAAK22B,KAAK1d,KAAKolB,EAASzmB,GACjB5X,OAQR,CACD3D,IAAK,UACLQ,MAAO,WAGL,OAFAmD,KAAKq2B,gBACLr2B,KAAK22B,KAAK4E,UACHv7B,OAYR,CACD3D,IAAK,UACLQ,MAAO,SAAiBwtB,GACtBrqB,KAAK22B,KAAKue,qBAAqBC,QAAQ9qB,KAQxC,CACDhuB,IAAK,OACLQ,MAAO,WAEL,OADAmD,KAAK22B,KAAKgJ,gBAAgBnV,OACnBxqB,OAQR,CACD3D,IAAK,QACLQ,MAAO,WAEL,OADAmD,KAAK22B,KAAKgJ,gBAAgBzD,QACnBl8B,OAQR,CACD3D,IAAK,OACLQ,MAAO,WAEL,OADAmD,KAAK22B,KAAKgJ,gBAAgB1D,OACnBj8B,OASR,CACD3D,IAAK,OACLQ,MAAO,SAAcwsB,GAEnB,OADArpB,KAAK22B,KAAKgJ,gBAAgBlD,KAAKpT,GACxBrpB,OASR,CACD3D,IAAK,iBACLQ,MAAO,SAAwB6/B,GAE7B,OADA18B,KAAK22B,KAAKgJ,gBAAgByV,eAAe1Y,GAClC18B,OAQR,CACD3D,IAAK,OACLQ,MAAO,WAEL,OADAmD,KAAK22B,KAAKyK,eAAeiU,OAClBr1C,OAQR,CACD3D,IAAK,SACLQ,MAAO,WAEL,OADAmD,KAAK22B,KAAKyK,eAAekU,SAClBt1C,OAQR,CACD3D,IAAK,YACLQ,MAAO,WACL,OAAOmD,KAAK22B,KAAKgJ,gBAAgBjE,cAQlC,CACDr/B,IAAK,eACLQ,MAAO,WACL,OAAOmD,KAAK22B,KAAKgJ,gBAAgB4V,iBAQlC,CACDl5C,IAAK,aACLQ,MAAO,WACL,OAAOmD,KAAK22B,KAAKgJ,gBAAgB6V,eASlC,CACDn5C,IAAK,YACLQ,MAAO,WACL,IAAIkY,EAAU5U,UAAUrE,OAAS,QAAsBgD,IAAjBqB,UAAU,GAAmBA,UAAU,GAAK,GAKlF,OAHAH,KAAKyyC,8BAA8B19B,EAAQwI,OAAQvd,KAAK+U,QAAQwI,QAEhEvd,KAAK22B,KAAK8G,UAAU1oB,GACb/U,OAcR,CACD3D,IAAK,YACLQ,MAAO,SAAmBiI,GAExB,OADc9E,KAAK22B,KAAKmC,QAAQh4B,OAAOd,KAAK22B,KAAKgJ,gBAAgB7G,SAClD/3B,QAAO,SAAUu6B,GAC9B,OAAOA,EAAOx2B,OAASA,KACtB,KAQJ,CACDzI,IAAK,iBACLQ,MAAO,WACL,OAAOmD,KAAK22B,KAAKgJ,gBAAgBqV,mBAUlC,CACD34C,IAAK,qBACLQ,MAAO,WACL,OAAOmD,KAAK22B,KAAKgJ,gBAAgBhE,uBAQlC,CACDt/B,IAAK,cACLQ,MAAO,WACL,OAAOmD,KAAK22B,KAAKgJ,gBAAgB/D,kBAI9BwW,EAjpBT,CAkpBEzc,IACFx5B,OAAOgnB,OAAOivB,GAAO/2C,UAAWy7B,IAUhC,IAAI2e,GAEJ,SAAUzf,GAUR,SAASyf,EAAgBrtC,GACvB,IAAIob,EAUJ,OARAloB,EAAgB0E,KAAMy1C,IAEtBjyB,EAAQjmB,EAA2ByC,KAAMjD,EAAgB04C,GAAiBj4C,KAAKwC,KAAMoI,EAAU2M,WACzF3M,UAAYA,EAClBob,EAAMyU,SAAU,EAEhBzU,EAAM0U,aAEC1U,EA6BT,OAjDA/mB,EAAUg5C,EAAiBzf,GAE3B15B,EAAam5C,EAAiB,CAAC,CAC7Bp5C,IAAK,cACLwB,IAAK,WACH,OAAOmC,KAAKoI,UAAU0vB,gBAkB1Bx7B,EAAam5C,EAAiB,CAAC,CAC7Bp5C,IAAK,SACLQ,MAAO,WACAmD,KAAKi4B,UACRj4B,KAAKk4B,aACLl4B,KAAKi4B,SAAU,KAGlB,CACD57B,IAAK,UACLQ,MAAO,WACDmD,KAAKi4B,UACPj4B,KAAKq2B,gBACLr2B,KAAKi4B,SAAU,KAGlB,CACD57B,IAAK,aACLQ,MAAO,cACN,CACDR,IAAK,UACLQ,MAAO,WACLmD,KAAKq2B,oBAIFof,EAlDT,CAmDE9f,IACFx5B,OAAOgnB,OAAOsyB,GAAgBp6C,UAAWy7B,IAEzC2e,GAAgBhwC,OAAS,SAAU0C,GACjC,OAAO1C,EAAOgwC,GAAiBttC,IAGjCstC,GAAgB1xC,KAAO,YAEvB,IAAI2xC,GAEJ,SAAU1f,GAUR,SAAS0f,EAAW/e,GAClB,IAAInT,EAUJ,OARAloB,EAAgB0E,KAAM01C,IAEtBlyB,EAAQjmB,EAA2ByC,KAAMjD,EAAgB24C,GAAYl4C,KAAKwC,KAAM22B,EAAK5hB,WAC/E4hB,KAAOA,EACbnT,EAAMyU,SAAU,EAEhBzU,EAAM0U,aAEC1U,EAkCT,OAtDA/mB,EAAUi5C,EAAY1f,GAEtB15B,EAAao5C,EAAY,CAAC,CACxBr5C,IAAK,cACLwB,IAAK,WACH,OAAOmC,KAAK22B,KAAKmB,gBAkBrBx7B,EAAao5C,EAAY,CAAC,CACxBr5C,IAAK,aACLQ,MAAO,cACN,CACDR,IAAK,SACLQ,MAAO,WACAmD,KAAKi4B,UACRj4B,KAAKk4B,aACLl4B,KAAKi4B,SAAU,KAGlB,CACD57B,IAAK,UACLQ,MAAO,WACDmD,KAAKi4B,UACPj4B,KAAKq2B,gBACLr2B,KAAKi4B,SAAU,KAGlB,CACD57B,IAAK,uBACLQ,MAAO,WACL,MAAO,KAER,CACDR,IAAK,UACLQ,MAAO,WACLmD,KAAKq2B,oBAIFqf,EAvDT,CAwDE/f,IACFx5B,OAAOgnB,OAAOuyB,GAAWr6C,UAAWy7B,IAEpC4e,GAAWjwC,OAAS,SAAU0C,GAC5B,OAAO1C,EAAOiwC,GAAYvtC,IAG5ButC,GAAW3xC,KAAO,OAUlB,IAAI4xC,GAEJ,SAAU3d,GAUR,SAAS2d,EAAkBvtC,GACzB,IAAIob,EAUJ,OARAloB,EAAgB0E,KAAM21C,IAEtBnyB,EAAQjmB,EAA2ByC,KAAMjD,EAAgB44C,GAAmBn4C,KAAKwC,KAAMoI,EAAU2M,WAC3F3M,UAAYA,EAClBob,EAAMyU,SAAU,EAEhBzU,EAAM0U,aAEC1U,EAwBT,OA5CA/mB,EAAUk5C,EAAmB3d,GAE7B17B,EAAaq5C,EAAmB,CAAC,CAC/Bt5C,IAAK,cACLwB,IAAK,WACH,OAAOmC,KAAKoI,UAAU0vB,gBAkB1Bx7B,EAAaq5C,EAAmB,CAAC,CAC/Bt5C,IAAK,SACLQ,MAAO,WACAmD,KAAKi4B,UACRj4B,KAAKk4B,aACLl4B,KAAKo2B,IAAIlpB,OACTlN,KAAKi4B,SAAU,KAGlB,CACD57B,IAAK,UACLQ,MAAO,WACLmD,KAAKq2B,gBACLr2B,KAAKo2B,IAAI/nB,OACTrO,KAAKi4B,SAAU,IAEhB,CACD57B,IAAK,aACLQ,MAAO,gBAGF84C,EA7CT,CA8CE5f,IACF55B,OAAOgnB,OAAOwyB,GAAkBt6C,UAAWy7B,IAE3C6e,GAAkBlwC,OAAS,SAAU0C,GACnC,OAAO1C,EAAOkwC,GAAmBxtC,IAGnCwtC,GAAkB5xC,KAAO,YASzB,IAAIkP,GAAW,CACb2iC,SAAU,kBACVC,YAAa,mBACb18B,OAAQ,oBAKN28B,GAAU,OAGVC,GAAU,CACZC,IAAM,IACNC,KAAM,KACNC,KAAM,IACNC,KAAM,IACNC,KAAM,IACNC,SAAU,QACVC,SAAU,SAERC,GAAU,+BAEVC,GAAe,CACjBC,IAAK,QACLC,IAAK,OACLC,IAAK,OACLC,IAAK,SACLZ,IAAM,UAEJa,GAAW,IAAI9xC,OAAO,WAAY,KAElC+xC,GAAa,SAAoBC,GACnC,OAAe,OAAXA,EAAwB,IACpB,GAAKA,GAAQpyC,QAAQkyC,IAAU,SAAUxvC,GAC/C,OAAOmvC,GAAanvC,OAIpB2vC,GAAU,EAIVC,GAAO,SAActoC,EAAMU,GAC7B,IAAI8oB,EAEAnb,EAAU,IAAIjY,OAAO,EAAEkO,GAASkG,QAAU28B,IAASpwC,QAASuN,GAAS4iC,aAAeC,IAASpwC,QAASuN,GAAS2iC,UAAYE,IAASpwC,QAAQoJ,KAAK,KAAO,KAAM,KAE9Jf,EAAQ,EACRrI,EAAS,SACbiJ,EAAKhK,QAAQqY,GAAS,SAAU3V,EAAO8R,EAAQ08B,EAAaD,EAAUnmC,GAQpE,OAPA/J,GAAUiJ,EAAK3N,MAAM+M,EAAO0B,GAAQ9K,QAAQ4xC,IAAS,SAAUlvC,GAC7D,MAAO,KAAO0uC,GAAQ1uC,MAEpB8R,IAAQzT,GAAU,cAAiByT,EAAS,oCAC5C08B,IAAanwC,GAAU,cAAiBmwC,EAAc,wBACtDD,IAAUlwC,GAAU,OAAUkwC,EAAW,YAC7C7nC,EAAQ0B,EAASpI,EAAMvL,OAChBuL,KAET3B,GAAU,OAELuN,GAASikC,WAAUxxC,EAAS,mBAAqBA,EAAS,OAC/DA,EAAS,4FAAuGA,EAAS,qDAAuDsxC,KAAY,IAE5L,IAGE7e,EAAS,IAAI5B,SAAStjB,GAASikC,UAAY,MAAO,aAAcxxC,GAChE,MAAOmB,GAEP,MADAA,EAAEnB,OAASA,EACLmB,EAGR,GAAIwI,EAAM,OAAO8oB,EAAO9oB,EAAMynC,IAE9B,IAAIK,EAAW,SAAkB9nC,GAC/B,OAAO8oB,EAAO36B,KAAKwC,KAAMqP,EAAMynC,KAKjC,OADAK,EAASzxC,OAAS,aAAeuN,GAASikC,UAAY,OAAS,OAASxxC,EAAS,IAC1EyxC,GAGTF,GAAKhkC,SAAWA,GAKhBmlB,GADY,uGAGZ,IAAIgf,GAAY,CACd52C,IAAO,CAAC,cAAe,cAAe,cAAe,cAAe,YAAa,cAAe,aAAa2E,KAAI,SAAUkyC,GACzH,MAAO,sBAAwBA,EAAQ,kBAEzCC,IAAO,CAAC,qCAAsC,4BAA6B,qCAC3EC,OAAQ,CAAC,wCACTC,KAAQ,CAAC,oCACTC,IAAO,CAAC,6CACRC,KAAQ,CAAC,0BAEXN,GAAe,IAAIA,GAAe,IAClCA,GAAU,OAASA,GAAU,QAC7B,IAAIO,GAAkB,CACpBC,IAAO,CAAC,aACRC,IAAO,CAAC,YAAa,2BACrBC,IAAO,CAAC,gCACRC,IAAO,CAAC,cAENC,GAAwB77C,OAAO4yB,KAAK4oB,IAAiBzsC,QAAO,SAAU+sC,EAAK73C,GAC7E,MAAO,GAAGU,OAAOvB,EAAmB04C,GAAM14C,EAAmBo4C,GAAgBv3C,OAC5E,IACC83C,GAAgB,CAClB9gB,KAAM,UACNpK,QAAS,WAGPmrB,GAEJ,SAAUC,GAmFR,SAASD,IACP,IAAI50B,EAEAC,EAEJloB,EAAgB0E,KAAMm4C,GAEtB,IAAK,IAAI10B,EAAOtjB,UAAUrE,OAAQ+M,EAAO,IAAIvK,MAAMmlB,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/E7a,EAAK6a,GAAQvjB,UAAUujB,IAGzBF,EAAQjmB,EAA2ByC,MAAOujB,EAAmBxmB,EAAgBo7C,IAAa36C,KAAKqN,MAAM0Y,EAAkB,CAACvjB,MAAMc,OAAO+H,MAC/HwvC,YAAa,EACnB70B,EAAM80B,cAAe,EACrB90B,EAAM+0B,cAAe,EACrB/0B,EAAMg1B,iBAAkB,EACxBh1B,EAAMi1B,qBAAuB,KAC7Bj1B,EAAMk1B,UAAW,EACjBl1B,EAAMm1B,YAAc,EAEpBn1B,EAAMo1B,UAAUp1B,EAAMzO,QAAQzC,KAG9BkR,EAAMzO,QAAQ4jB,WAAanV,EAAMzO,QAAQ4jB,SAAWnV,EAAMzO,SAAW,IACrEyO,EAAMzO,QAAQ4jB,SAASkgB,mBAAqBr1B,EAAMzO,QAAQ4jB,SAASkgB,oBAAsBr1B,EAAMzO,QAAQ+jC,2BACvG,IAEIC,EAFAC,EAAiBx1B,EAAMzO,QAAQ4jB,SAC/BsgB,EAAUD,EAAeC,UAAYl3B,EAAQ+B,SAAW,OAASN,EAAMzO,QAAQkkC,SA+BnF,OA5BIz1B,EAAMzO,QAAQmkC,SACoB,iBAAzB11B,EAAMzO,QAAQmkC,OAAqBH,EAAYv1B,EAAMzO,QAAQmkC,OAAoD,iBAA7B11B,EAAMzO,QAAQmkC,OAAO1kC,MAAkBukC,EAAYv1B,EAAMzO,QAAQmkC,OAAO1kC,MAGzKxR,EAAMyC,OAAO+d,EAAMlY,GAAI,CACrBif,MAAO/G,EAAMzO,QAAQsgC,KACrB8D,aAAc31B,EAAMzO,QAAQsgC,KAC5B+D,KAAM51B,EAAMzO,QAAQqkC,KACpBF,OAAQH,EACRE,QAASA,GAAW,WACpBI,YAAaL,EAAeK,YAC5BC,uBAAwBN,EAAeO,cAErCP,EAAeQ,UAAYh2B,EAAMzO,QAAQ0kC,6BAA4Bj2B,EAAM4S,IAAI5tB,KAAK,WAAY,IACpGwwC,EAAeO,YAAc/1B,EAAM4S,IAAI5tB,KAAK,CAC1CkxC,YAAa,gBAEfV,EAAeK,aAAe71B,EAAM4S,IAAI5tB,KAAK,CAC3CmxC,YAAaX,EAAeK,cAG9B71B,EAAMvQ,SAAW,CACf2mC,QAAW,CAAC,YAEdp2B,EAAMvQ,SAASlD,KAAO,CAAC,YAAa,WAAY,YAChDyT,EAAMvQ,SAAS4mC,MAAQ,CAAC,aAAc,SAAU,gBAChDb,EAAec,gBAAkBt2B,EAAMu2B,qBAAqBf,EAAec,gBAC3Et2B,EAAMzO,QAAQkgC,UAAYzxB,EAAMw2B,kBACzBx2B,EA6jBT,OAxsBA/mB,EAAU07C,EAAYC,GAEtB97C,EAAa67C,EAAY,CAAC,CACxB97C,IAAK,OACLwB,IAAK,WACH,MAAO,gBAER,CACDxB,IAAK,mBACLwB,IAAK,WACH,MAAO,CACL0xC,IAAK,WAGR,CACDlzC,IAAK,UACLwB,IAAK,WACH,OAAOmC,KAAKi6C,YAAc,QAAU,UAErC,CACD59C,IAAK,cACLwB,IAAK,WACH,IAAIq8C,EAAcl6C,KAAK+U,QAAQzC,IAE3B2S,EAAYkzB,EAAWgC,iBAAiBD,EAAavC,GAAiB33C,KAAK+U,QAAQ6C,UAEvF,OAAO5X,KAAK+U,QAAQ4jB,UAAY34B,KAAK+U,QAAQ4jB,SAASyhB,WAAap6C,KAAK+U,QAAQqlC,WAAapC,GAAsBrwC,QAAQsd,EAAU,KAAO,IAE7I,CACD5oB,IAAK,aACLwB,IAAK,WACH,MAAO,CACLw8C,mBAAoB,MAGvB,CACDh+C,IAAK,SACLwB,IAAK,WACH,MAAO,CACLy8C,QAAW,aACXC,eAAkB,yBAClBC,eAAkB,oBAClBlhB,MAAS,WACTrlB,MAAS,WACTwmC,WAAc,gBACdC,eAAkB,oBAClBxe,MAAS,WACTxB,QAAW,aACXnf,SAAY,cACZo/B,QAAW,aACXC,OAAU,YACVC,QAAW,yBACXC,WAAc,gBACdC,QAAW,gBASd,CACD1+C,IAAK,QACLwB,IAAK,WACH,OAAOmC,KAAKsL,GAAGguB,QAUhB,CACDj9B,IAAK,YACLwB,IAAK,WACH,OAAOmC,KAAKu4C,iBAgEhBj8C,EAAa67C,EAAY,CAAC,CACxB97C,IAAK,YACLQ,MAAO,SAAmBkY,GACxBtX,EAAKV,EAAgBo7C,EAAW98C,WAAY,YAAa2E,MAAMxC,KAAKwC,KAAM+U,GAE1E/U,KAAKsL,GAAG8tC,OAASrkC,EAAQqkC,OAG1B,CACD/8C,IAAK,kBACLQ,MAAO,WACL,IAAIs/B,EAASn8B,KAEbA,KAAK89B,aAAY,SAAU/uB,EAAQkF,GACjCA,GAASwY,EAAImB,KAAKuO,EAAOr3B,KAAM,kBAAmB,CAChDiK,OAAQA,EACRkF,MAAOA,IAGTlF,GAAUg0B,IAAS,WACjB,OAAQ5G,EAAOkc,YAAclc,EAAO3R,eAKzC,CACDnuB,IAAK,cACLQ,MAAO,SAAqBwtB,GACtBrqB,KAAK+U,QAAQimC,oBAAoB3wB,GAAG,EAAM,MAC9C,IAAI4wB,EAAO,CACTjlC,QAAShW,KAAK+U,QAAQmmC,iBAAmB,IACzC5wB,OAAQtqB,KAAK+U,QAAQ4jB,SAAS4gB,aAAc,EAC5ChvB,MAAOvqB,KAAK+U,QAAQsgC,OAAQ,GAI1BtzB,EAAQsC,UAAYwG,EAAY9V,QAAQ+V,eAAcmwB,EAAK/1C,QAAUlF,KAAKsL,IAI9E8e,EAAiBC,EAAI4wB,KAEtB,CACD5+C,IAAK,uBACLQ,MAAO,SAA8Bs+C,GACnCn7C,KAAKo7C,gBAAkBD,EAAOh2C,KAAI,SAAU41B,GAC1C,MAAO,CACLsgB,KAAMtgB,EAAMsgB,MAAQ,YAEpBC,MAAOvgB,EAAMugB,MACbC,KAAMxgB,EAAMwgB,KACZjpC,IAAKyoB,EAAMzoB,UAWhB,CACDjW,IAAK,YACLQ,MAAO,SAAmB2+C,GACpBx7C,KAAKsL,GAAGgH,MAAQkpC,IACpBx7C,KAAKy7C,YAAa,EAClBz7C,KAAKsL,GAAGgH,IAAMkpC,EACdx7C,KAAK07C,KAAO17C,KAAKsL,GAAGgH,OAErB,CACDjW,IAAK,oBACLQ,MAAO,SAA2BgK,GAChC7G,KAAK27C,yBAEL37C,KAAKqT,QAAQqb,GAAOmC,wBAAyB,CAC3C2K,SAAU30B,EAAElL,OAAO6/B,SACnBnsB,KAAMxI,IAGR7G,KAAK47C,kBAEL,IAAIC,OAA2D,IAAlC77C,KAAK61B,SAASgmB,iBAAmC77C,KAAK61B,SAASgmB,gBACxF77C,KAAKm7B,oBAAsBwC,GAASO,MAAQ2d,GAAiB77C,KAAK87C,sBAEvE,CACDz/C,IAAK,oBACLQ,MAAO,WACLmD,KAAK47C,kBAEL57C,KAAKq0C,gBAGLr0C,KAAK+7C,gBAEN,CACD1/C,IAAK,kBACLQ,MAAO,WAGDmD,KAAKm7B,oBAAsBwC,GAASK,KAAOh+B,KAAKm7B,oBAAsBwC,GAASM,IAAKj+B,KAAKiT,SAASlD,KAAO,CAAC,YAAa,WAAY,YAAiB/P,KAAKiT,SAASlD,KAAO,CAAC,YAC9K/P,KAAKiT,SAAS+oC,YAAch8C,KAAKi8C,gBACjCj8C,KAAKqT,QAAQqb,GAAOkC,2BAErB,CACDv0B,IAAK,gBACLQ,MAAO,WACL,OAAOoN,SAASjK,KAAK47B,iBAEtB,CACDv/B,IAAK,kBACLQ,MAAO,WACL,IAAIq/C,EAAgC,UAAjBl8C,KAAK+qB,QAAsB4S,GAASM,IAAMN,GAASK,IACtE,MAAO,CAAC,OAAGl/B,EAAWq9C,EAAAA,GAAUx0C,QAAQ3H,KAAKsL,GAAGkwB,WAAa,EAAImC,GAASO,KAAOge,IAElF,CACD7/C,IAAK,wBACLQ,MAAO,WACL,OAAO,IAIR,CACDR,IAAK,UACLQ,MAAO,SAAiBwtB,GACtB,IAAIkS,EAASv8B,KAEb,GAAIA,KAAK07B,YACPj+B,EAAKV,EAAgBo7C,EAAW98C,WAAY,UAAW2E,MAAMxC,KAAKwC,KAAMqqB,OACnE,CACL,IAAI+xB,EAAe,SAASA,IAC1B7f,EAAOjxB,GAAG8S,oBAAoB,iBAAkBg+B,GAAc,GAE9D7f,EAAOjxB,GAAG8S,oBAAoB,QAASg+B,GAAc,GAErD3+C,EAAKV,EAAgBo7C,EAAW98C,WAAY,UAAWkhC,GAAQ/+B,KAAK++B,EAAQlS,IAG9ErqB,KAAKsL,GAAGG,iBAAiB,iBAAkB2wC,GAAc,GACzDp8C,KAAKsL,GAAGG,iBAAiB,QAAS2wC,GAAc,GAChDp8C,KAAKsL,GAAG2N,UAGX,CACD5c,IAAK,OACLQ,MAAO,WACLmD,KAAKqT,QAAQqb,GAAO8C,sBACpBxxB,KAAK04C,UAAW,EAEhB14C,KAAK44C,UAAU54C,KAAK07C,MAEpB17C,KAAK27C,yBAEL,IAAIhmC,EAAU3V,KAAKsL,GAAGkf,OAElB7U,GAAWA,EAAe,OAAGA,EAAe,OAAE,iBAEnD,CACDtZ,IAAK,QACLQ,MAAO,WACLmD,KAAKsL,GAAG4wB,UAET,CACD7/B,IAAK,OACLQ,MAAO,WACLmD,KAAKk8B,QACLl8B,KAAK04C,UAAW,EAEhB14C,KAAKsL,GAAGjF,gBAAgB,OACxBrG,KAAKsL,GAAG2N,OAERjZ,KAAKq8C,4BAELr8C,KAAK27C,yBAEL37C,KAAKqT,QAAQqb,GAAOmD,iBAErB,CACDx1B,IAAK,SACLQ,MAAO,SAAgBA,GACP,IAAVA,GACFmD,KAAKo2B,IAAI5tB,KAAK,CACZ+hB,MAAO,SAETvqB,KAAKsL,GAAGif,OAAQ,IAEhBvqB,KAAKo2B,IAAI5tB,KAAK,CACZ+hB,MAAO,OAETvqB,KAAKsL,GAAGif,OAAQ,EAChBvqB,KAAKsL,GAAGwc,OAASjrB,EAAQ,OAQ5B,CACDR,IAAK,OACLQ,MAAO,WACLmD,KAAKsL,GAAGif,OAAQ,IAOjB,CACDluB,IAAK,SACLQ,MAAO,WACLmD,KAAKsL,GAAGif,OAAQ,IAEjB,CACDluB,IAAK,UACLQ,MAAO,WACL,OAAyB,IAAlBmD,KAAKsL,GAAGif,OAAqC,IAAnBvqB,KAAKsL,GAAGwc,SAE1C,CACDzrB,IAAK,YACLQ,MAAO,WACL,OAAQmD,KAAKsL,GAAGqvB,SAAW36B,KAAKsL,GAAGguB,QAEpC,CACDj9B,IAAK,6BACLQ,MAAO,WAC6B,OAA9BmD,KAAKy4C,uBACTz4C,KAAKs8C,2BAA6B,KAElCt8C,KAAKu8C,6BAELv8C,KAAKy4C,qBAAuBzb,YAAYh9B,KAAKu8C,2BAA2B59B,KAAK3e,MAAO,QAErF,CACD3D,IAAK,4BACLQ,MAAO,WAC6B,OAA9BmD,KAAKy4C,uBACTvb,cAAcl9B,KAAKy4C,sBACnBz4C,KAAKy4C,qBAAuB,KAC5Bz4C,KAAKw4C,iBAAkB,KAExB,CACDn8C,IAAK,6BACLQ,MAAO,WACL,IAAI6Q,EAAS1N,KAAKs8C,2BACdjlC,EAAMrX,KAAKsL,GAAG+f,YAClBrrB,KAAKw4C,gBAAkB9qC,IAAW2J,EAClCrX,KAAKs8C,2BAA6BjlC,EAElCrX,KAAK27C,2BAWN,CACDt/C,IAAK,aACLQ,MAAO,WACLmD,KAAKs4C,cAAe,EAEpBt4C,KAAK27C,2BAQN,CACDt/C,IAAK,gBACLQ,MAAO,WACLmD,KAAKs4C,cAAe,EAEpBt4C,KAAK27C,2BAGN,CACDt/C,IAAK,aACLQ,MAAO,WACLmD,KAAK27C,2BAEN,CACDt/C,IAAK,aACLQ,MAAO,WACLmD,KAAKw8C,0BAELx8C,KAAKy8C,6BAELz8C,KAAK27C,yBAEL37C,KAAKqT,QAAQqb,GAAO+C,iBAErB,CACDp1B,IAAK,WACLQ,MAAO,WACLmD,KAAKq8C,4BAELr8C,KAAK27C,yBAEL37C,KAAKqT,QAAQqb,GAAOgD,kBAErB,CACDr1B,IAAK,aACLQ,MAAO,WACLmD,KAAK27C,yBAEL37C,KAAKqT,QAAQqb,GAAOiD,iBAErB,CACDt1B,IAAK,YACLQ,MAAO,WACLmD,KAAK27C,yBAEL37C,KAAKqT,QAAQqb,GAAOkD,mBAErB,CACDv1B,IAAK,WACLQ,MAAO,WACLmD,KAAK27C,yBAEL37C,KAAKqT,QAAQqb,GAAO6C,eAAgBvxB,KAAK8E,QAO1C,CACDzI,IAAK,yBACLQ,MAAO,WACL,IAAI6/C,GAA0B18C,KAAKsL,GAAGguB,QAAUt5B,KAAKsL,GAAGqvB,OACpDpB,EAAYv5B,KAAKs4C,eAAiBt4C,KAAKsL,GAAGguB,QAAUt5B,KAAK04C,WAAagE,IAA2B18C,KAAKw4C,iBAAmBx4C,KAAKsL,GAAGC,WAAavL,KAAKsL,GAAGqxC,kBAEtJ38C,KAAKu4C,eAAiBhf,IACxBv5B,KAAKu4C,aAAehf,EAChBA,EAAWv5B,KAAKqT,QAAQqb,GAAOgC,mBAAoB1wB,KAAK8E,MAAW9E,KAAKqT,QAAQqb,GAAOiC,oBAAqB3wB,KAAK8E,SAGxH,CACDzI,IAAK,WACLQ,MAAO,WACL,IAAIygC,EAAOt9B,KAAKsL,GAAG2I,OAASikC,GACxB9gB,EAAOkG,EAAKlG,KACZpK,EAAUsQ,EAAKtQ,QAEf4vB,EAAiBxlB,IAAS8gB,GAAc9gB,KACxCylB,EAAiB78C,KAAK+2B,YAAY,CACpCK,KAAMA,EACNE,YAAatK,EACbwK,IAAKx3B,KAAKsL,GAAG2I,MACbyY,MAAOkwB,EAAiBlmB,GAAYa,OAAOlL,KAAOqK,GAAYa,OAAOX,QAEnEgmB,EAAgBnwB,EAAImB,KAAK5tB,KAAK8E,KAAM,wBAAyB+3C,GAAqB78C,KAAKqT,QAAQqb,GAAOoD,eAAgB+qB,KAE3H,CACDxgD,IAAK,UACLQ,MAAO,WACLmD,KAAKq4C,YAAa,EAClBr4C,KAAK88C,uBAAyB98C,KAAKsL,GAAGyxC,WAAW3+B,oBAAoB,SAAUpe,KAAK88C,uBAEpFr/C,EAAKV,EAAgBo7C,EAAW98C,WAAY,UAAW2E,MAAMxC,KAAKwC,MAElEA,KAAKsL,GAAGjF,gBAAgB,OACxBrG,KAAKsL,GAAG2N,OAERjZ,KAAK07C,KAAO,KACZ7wB,EAAYmyB,QAAQh9C,KAAKsL,MAE1B,CACDjP,IAAK,OACLQ,MAAO,SAAcwsB,GACnBrpB,KAAKsL,GAAG+f,YAAchC,IAEvB,CACDhtB,IAAK,iBACLQ,MAAO,SAAwB6/B,GAC7B,IAAIrT,EAAOrpB,KAAKsL,GAAGkwB,UAAYkB,EAAa,KAC5C18B,KAAKy8B,KAAKpT,KAEX,CACDhtB,IAAK,oBACLQ,MAAO,WACL,IAAIogD,EAAWp0B,IACE,IAAbo0B,GAAgBj9C,KAAKy8B,KAAKwgB,KAE/B,CACD5gD,IAAK,iBACLQ,MAAO,WACL,OAAOmD,KAAKsL,GAAG+f,cAEhB,CACDhvB,IAAK,cACLQ,MAAO,WACL,OAAOmD,KAAKsL,GAAGkwB,WAEhB,CACDn/B,IAAK,gBACLQ,MAAO,WACDmD,KAAKm7B,oBAAsBwC,GAASO,KAAMl+B,KAAKqT,QAAQqb,GAAO8B,oBAAqB,CACrFwL,QAAS,EACTkhB,MAAO,GACNl9C,KAAK8E,MAAW9E,KAAKqT,QAAQqb,GAAO8B,oBAAqB,CAC1DwL,QAASh8B,KAAKsL,GAAG+f,YACjB6xB,MAAOl9C,KAAKsL,GAAGkwB,UACdx7B,KAAK8E,QAET,CACDzI,IAAK,cACLQ,MAAO,WACL,GAAKmD,KAAKsL,GAAG6xC,SAASrhD,OAAtB,CAIA,IAHA,IAAIqhD,EAAW,GACXC,EAAc,EAETvhD,EAAI,EAAGA,EAAImE,KAAKsL,GAAG6xC,SAASrhD,OAAQD,IAC3CshD,EAAW,GAAGr8C,OAAOvB,EAAmB49C,GAAW,CAAC,CAClD7iC,MAAOta,KAAKsL,GAAG6xC,SAAS7iC,MAAMze,GAC9BwhD,IAAKr9C,KAAKsL,GAAG6xC,SAASE,IAAIxhD,MAExBmE,KAAKsL,GAAG+f,aAAe8xB,EAASthD,GAAGye,OAASta,KAAKsL,GAAG+f,aAAe8xB,EAASthD,GAAGwhD,MAAKD,EAAcvhD,GAGxG,IAAI0f,EAAW,CACbjB,MAAO6iC,EAASC,GAAa9iC,MAC7B0hB,QAASmhB,EAASC,GAAaC,IAC/BH,MAAOl9C,KAAKsL,GAAGkwB,UAEjBx7B,KAAKqT,QAAQqb,GAAO6B,kBAAmBhV,EAAU4hC,MAElD,CACD9gD,IAAK,WACLQ,MAAO,SAAkByV,GACvB,IAAI2S,EAAYkzB,EAAWgC,iBAAiB7nC,EAAK8kC,GAAWp3C,KAAK+U,QAAQ6C,UAIzE,OAFyB,IAArBqN,EAAUnpB,SAAcmpB,EAAYkzB,EAAWgC,iBAAiB7nC,EAAKqlC,GAAiB33C,KAAK+U,QAAQ6C,YACxFqN,EAAU,IAAM,IACfha,MAAM,KAAK,KAE5B,CACD5O,IAAK,SACLQ,MAAO,WACDmD,KAAKs9C,gBACTt9C,KAAKs9C,eAAgB,EACrBt9C,KAAKqT,QAAQqb,GAAO+B,eAAgBzwB,KAAK8E,SAE1C,CACDzI,IAAK,0BACLQ,MAAO,WAEL,GAAImD,KAAKu9C,eAAiBv9C,KAAKy7C,WAAY,CACzC,GAAIz7C,KAAKw5B,wBAAyB,CAChCx5B,KAAKqT,QAAQqb,GAAOwD,6BACpB,IAAIyH,EAAU35B,KAAK05B,sBACnB15B,KAAK05B,sBAAwBC,EAC7B35B,KAAK88C,sBAAwB98C,KAAKw9C,uBAAuB7+B,KAAK3e,MAC9DA,KAAKsL,GAAGyxC,WAAWtxC,iBAAiB,SAAUzL,KAAK88C,uBAGrD98C,KAAKy7C,YAAa,KAGrB,CACDp/C,IAAK,yBACLQ,MAAO,WACL,IACIk+B,EADS/6B,KAAKy5B,qBACC35B,MAAK,SAAUi7B,GAChC,MAA4B,YAArBA,EAAMA,MAAM0iB,SACf,CACJ//B,IAAK,GAGH1d,KAAK24C,aAAe5d,EAAMrd,KAC5B1d,KAAK24C,WAAa5d,EAAMrd,GACxB1d,KAAKqT,QAAQqb,GAAOyD,0BAA2B,CAC7CzU,GAAIqd,EAAMrd,QAIf,CACDrhB,IAAK,SACLQ,MAAO,WAeL,OAdImD,KAAK+U,QAAQ4jB,SAASkgB,oBACxB74C,KAAKo2B,IAAIxgB,GAAG,eAAe,WACzB,OAAO,KAIP5V,KAAKo7C,iBAAmBp7C,KAAKo7C,gBAAgBt/C,OAAS,GACxDkE,KAAKo2B,IAAIluB,KAAKlI,KAAKm3C,SAAS,CAC1BgE,OAAQn7C,KAAKo7C,mBAIjBp7C,KAAK+yC,SAEE/yC,OAER,CACD3D,IAAK,UACLwB,IAAK,WACH,OAAOmC,KAAKs9C,gBAEb,CACDjhD,IAAK,eACLwB,IAAK,WACH,OAAOmC,KAAK8E,OAASqzC,EAAW98C,UAAUyJ,OAE3C,CACDzI,IAAK,uBACLwB,IAAK,WACH,IAAI6f,EAAK,EAOT,OADiB1d,KAAKsL,GAAGyxC,WAAaz+C,MAAMqB,KAAKK,KAAKsL,GAAGyxC,YAAc,IACrDh8C,QAAO,SAAUg6B,GACjC,MAAsB,cAAfA,EAAMsgB,MAAuC,aAAftgB,EAAMsgB,QAC1Cl2C,KAAI,SAAU41B,GACf,MAAO,CACLrd,GARKA,IASL5Y,KAAMi2B,EAAMugB,MACZvgB,MAAOA,QAIZ,CACD1+B,IAAK,wBACLwB,IAAK,WACH,OAAOmC,KAAK24C,YAEdh7B,IAAK,SAAagc,GAChB,GAAKlQ,EAASkQ,GAAd,CACA,IACI+jB,EADAvC,EAASn7C,KAAKy5B,qBAGlB,IAAiB,IAAbE,EAAgB,CAIlB,KAHA+jB,EAAevC,EAAOr7C,MAAK,SAAUi7B,GACnC,OAAOA,EAAMrd,KAAOic,MAEH,OAEnB,GAAgC,YAA5B+jB,EAAa3iB,MAAM0iB,KAAoB,OAK7CtC,EAAOp6C,QAAO,SAAUg6B,GACtB,MAA4B,WAArBA,EAAMA,MAAM0iB,QAClB10C,SAAQ,SAAUgyB,GACnB,OAAOA,EAAMA,MAAM0iB,KAAO,YAE5BC,IAAiBA,EAAa3iB,MAAM0iB,KAAO,WAC3Cz9C,KAAK24C,WAAahf,EAClB35B,KAAKqT,QAAQqb,GAAOyD,0BAA2B,CAC7CzU,GAAIic,OAGP,CACDt9B,IAAK,WACLwB,IAAK,WACH,OAAOo5C,GAtuBI,uOA0uBRkB,EAzsBT,CA0sBExa,IAEFwa,GAAWgC,iBAAmB,SAAUD,EAAayD,EAAsB/lC,GACzE,IAAIgmC,GAAa1D,EAAYjvC,MAAM,KAAK,GAAG5D,MAAM,cAAgB,IAAI,GACjE4d,EAAYrN,GAAYgmC,GAAaD,EAAqBC,EAAUh5C,gBAAkB,GAC1F,OAAOqgB,EAAU7pB,cAAgBkD,MAAQ2mB,EAAY,CAACA,IAGxDkzB,GAAW0F,SAAW,SAAU95C,EAAM45C,EAAsBzD,EAAatiC,GACvE,IAAIqN,EAAYkzB,GAAWgC,iBAAiBD,EAAayD,EAAsB/lC,GAE3EkmC,EAAQ78C,SAASkB,cAAc4B,GACnC,QAASkhB,EAAUlkB,QAAO,SAAUg9C,GAClC,QAASD,EAAME,YAAYD,GAAWp5C,QAAQ,KAAM,OACnD,IAGLwzC,GAAWpa,QAAU,SAAUmc,EAAatiC,GAC1C,OAAOugC,GAAW0F,SAAS,QAASlG,GAAiBuC,EAAatiC,IAAaugC,GAAW0F,SAAS,QAASzG,GAAW8C,EAAatiC,IAGtI,IAAIqmC,GAEJ,SAAUC,GAGR,SAASD,IAGP,OAFA3iD,EAAgB0E,KAAMi+C,GAEf1gD,EAA2ByC,KAAMjD,EAAgBkhD,GAAYpzC,MAAM7K,KAAMG,YAuClF,OA5CA1D,EAAUwhD,EAAYC,GAQtB5hD,EAAa2hD,EAAY,CAAC,CACxB5hD,IAAK,iBACLQ,MAAO,WACLmD,KAAKiT,SAASlD,KAAO,CAAC,YAAa,WAAY,YAC/C/P,KAAKiT,SAAS+oC,YAAch8C,KAAKi8C,gBACjCj8C,KAAKqT,QAAQqb,GAAOkC,2BAErB,CACDv0B,IAAK,kBACLQ,MAAO,WACL,OAAO8gC,GAASM,MAEjB,CACD5hC,IAAK,OACLwB,IAAK,WACH,MAAO,gBAER,CACDxB,IAAK,mBACLwB,IAAK,WACH,MAAO,CACL0xC,IAAK,WAGR,CACDlzC,IAAK,UACLwB,IAAK,WACH,MAAO,UAER,CACDxB,IAAK,cACLwB,IAAK,WACH,OAAO,MAIJogD,EA7CT,CA8CE9F,IAEF8F,GAAWlgB,QAAU,SAAUmc,EAAatiC,GAO1C,OAAOugC,GAAW0F,SAAS,QANX,CACdjG,IAAO,CAAC,aACRC,IAAO,CAAC,YAAa,2BACrBC,IAAO,CAAC,gCACRC,IAAO,CAAC,cAEqCmC,EAAatiC,IAI9DwgB,GADY,kEAGZ,IAAI+lB,GAEJ,SAAU/F,GA2CR,SAAS+F,EAAQ9kC,GACf,IAAImK,EAMJ,OAJAloB,EAAgB0E,KAAMm+C,IAEtB36B,EAAQjmB,EAA2ByC,KAAMjD,EAAgBohD,GAAS3gD,KAAKwC,KAAMqZ,KACvE/N,GAAGgH,IAAM+G,EAAO/G,IACfkR,EAwBT,OAzEA/mB,EAAU0hD,EAAS/F,GAEnB97C,EAAa6hD,EAAS,CAAC,CACrB9hD,IAAK,kBACLQ,MAAO,WACL,OAAO8gC,GAASE,QAEjB,CACDxhC,IAAK,OACLwB,IAAK,WACH,MAAO,aAER,CACDxB,IAAK,mBACLwB,IAAK,WACH,MAAO,CACL0xC,IAAK,WAGR,CACDlzC,IAAK,UACLwB,IAAK,WACH,MAAO,QAER,CACDxB,IAAK,aACLwB,IAAK,WACH,MAAO,CACLugD,gBAAiB,MAGpB,CACD/hD,IAAK,SACLwB,IAAK,WACH,MAAO,CACLob,KAAQ,UACRzD,MAAS,WACTvB,MAAS,gBAef3X,EAAa6hD,EAAS,CAAC,CACrB9hD,IAAK,SACLQ,MAAO,WAEL,OADAmD,KAAKqT,QAAQqb,GAAO+B,eAAgBzwB,KAAK8E,MAClC9E,OAER,CACD3D,IAAK,UACLQ,MAAO,WACLmD,KAAKqT,QAAQqb,GAAO6C,eAAgBvxB,KAAK8E,QAE1C,CACDzI,IAAK,WACLQ,MAAO,SAAkBkjB,GACvB,IAAInO,EAAiB,UAAbmO,EAAIhc,KAAmB,aAAe,kBAC9C/D,KAAKqT,QAAQqb,GAAOoD,eAAgB,CAClC9E,QAASpb,GACR5R,KAAK8E,UAILq5C,EA1ET,CA2EExgB,IAEFwgB,GAAQpgB,QAAU,SAAUsgB,GAC1B,MAAO,sDAAsD13C,KAAK03C,IAMpEjmB,GADY,mhBAGZ,IAAIkmB,GAEJ,SAAUlG,GA6BR,SAASkG,IACP,IAAI/6B,EAEAC,EAEJloB,EAAgB0E,KAAMs+C,GAEtB,IAAK,IAAI76B,EAAOtjB,UAAUrE,OAAQ+M,EAAO,IAAIvK,MAAMmlB,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/E7a,EAAK6a,GAAQvjB,UAAUujB,GAKzB,OAFAF,EAAQjmB,EAA2ByC,MAAOujB,EAAmBxmB,EAAgBuhD,IAAO9gD,KAAKqN,MAAM0Y,EAAkB,CAACvjB,MAAMc,OAAO+H,MACzH01C,gBAAkB,EACjB/6B,EAwFT,OAjIA/mB,EAAU6hD,EAAMlG,GAEhB97C,EAAagiD,EAAM,CAAC,CAClBjiD,IAAK,OACLwB,IAAK,WACH,MAAO,UAER,CACDxB,IAAK,mBACLwB,IAAK,WACH,MAAO,CACL0xC,IAAK,WAGR,CACDlzC,IAAK,WACLwB,IAAK,WACH,OAAOo5C,GAzBE,sFA2BV,CACD56C,IAAK,aACLwB,IAAK,WACH,MAAO,CACL2gD,aAAc,QAqBpBliD,EAAagiD,EAAM,CAAC,CAClBjiD,IAAK,SACLQ,MAAO,WACL,IAAI4hD,EAAuBz+C,KAAK+U,QAAQ2pC,6BAA+B1+C,KAAKk3B,KAAKW,EAAE,0BACnF73B,KAAKo2B,IAAIluB,KAAKlI,KAAKm3C,SAAS,CAC1BnqB,QAASyxB,KAEXz+C,KAAKqT,QAAQqb,GAAO+B,eAAgBzwB,KAAK8E,MACzC,IAAI65C,KAAiB3+C,KAAK+U,QAAQmkC,SAAUl5C,KAAK+U,QAAQmkC,OAAOyF,aAEhE,OADI3+C,KAAK+U,QAAQkgC,UAAa0J,GAAa3+C,KAAK4+C,WACzC5+C,OAER,CACD3D,IAAK,SACLQ,MAAO,WAGL,GAFAmD,KAAKu+C,gBAAkBv+C,KAAKu+C,eAAiB,GAAK,GAE9Cv+C,KAAKu+C,eAAT,CAKA,IACIM,EADAC,EAAQ9+C,KAAKgG,QAAQ+4C,gBAAgB/+C,KAAKgG,QAAQg5C,OAAO7uC,MAAOnQ,KAAKgG,QAAQg5C,OAAO1uC,QAGxF,IACEuuC,EAAW,IAAII,YAAYH,EAAMzvC,KAAK6vC,QACtC,MAAO9/C,GACPy/C,EAAW,IAAII,YAAYj/C,KAAKgG,QAAQg5C,OAAO7uC,MAAQnQ,KAAKgG,QAAQg5C,OAAO1uC,OAAS,GAGpF,IAFA,IAAIjB,EAAOyvC,EAAMzvC,KAERxT,EAAI,EAAGA,EAAIwT,EAAKvT,OAAQD,IAC/BgjD,EAAShjD,GAAKwT,EAAKxT,GASvB,IALA,IAAIoE,EAAM4+C,EAAS/iD,OACf8V,EAAoB,EAAhBxB,KAAK+uC,SAAe,EACxB3wB,EAAM,EACNvB,EAAQ,EAEHjuB,EAAK,EAAGA,EAAKiB,GAAM,CAC1B,GAAIuuB,EAAM,EACRA,EAAM5c,EAAIxB,KAAK+uC,SAEflyB,EAAQ,IADA7c,KAAKgvC,IAAIhvC,KAAK+uC,SAAU,KACb,GAGrB3wB,GAAO,EACPqwB,EAAS7/C,KAAQiuB,EAGnBjtB,KAAKgG,QAAQq5C,aAAaP,EAAO,EAAG,MAErC,CACDziD,IAAK,QACLQ,MAAO,WACL,IAAIs/B,EAASn8B,KAETA,KAAKs/C,QAETt/C,KAAKu/C,SAELv/C,KAAKw/C,iBAAmB51B,GAAsB,WAC5C,OAAOuS,EAAOsjB,cAGjB,CACDpjD,IAAK,UACLQ,MAAO,WACDmD,KAAKw/C,mBACPz1B,EAAqB/pB,KAAKw/C,kBAC1Bx/C,KAAKs/C,OAAQ,KAGhB,CACDjjD,IAAK,WACLQ,MAAO,WACLmD,KAAKg/C,OAASh/C,KAAKo2B,IAAIt2B,KAAK,6BAA6B,GACzDE,KAAKgG,QAAUhG,KAAKg/C,OAAOU,WAAW,MAEtC1/C,KAAKy/C,YAIFnB,EAlIT,CAmIE3gB,IAEF2gB,GAAKvgB,QAAU,SAAUr4B,GAEvB,OAAO,GAIT,IAAIi6C,GAAS,CACXC,YAAa,SAAqBvyC,GAChC,IAAI0H,EAAU5U,UAAUrE,OAAS,QAAsBgD,IAAjBqB,UAAU,GAAmBA,UAAU,GAAK,CAChFgyC,QAAS,IAEX,OAAOnvC,EAAM,wCAAwCkF,KAAK+uC,GAAK5pC,EAAM5O,WAAXw4C,CAAuBliC,MAYjF8qC,GAEJ,SAAUC,GAiBR,SAASD,EAAQlpB,GACf,IAAInT,EAQJ,OANAloB,EAAgB0E,KAAM6/C,IAEtBr8B,EAAQjmB,EAA2ByC,KAAMjD,EAAgB8iD,GAASriD,KAAKwC,KAAM22B,KAEvEopB,sBAECv8B,EAgGT,OAzHA/mB,EAAUojD,EAASC,GAEnBxjD,EAAaujD,EAAS,CAAC,CACrBxjD,IAAK,OACLwB,IAAK,WACH,MAAO,YAER,CACDxB,IAAK,mBACLwB,IAAK,WACH,MAAO,CACL0xC,IAAK,aAwBXjzC,EAAaujD,EAAS,CAAC,CACrBxjD,IAAK,IACLQ,MAAO,SAAWR,GAChB,IAAIk/C,EAAOv7C,KAAKggD,YAEZC,EAAejgD,KAAKkgD,UAAc,GAEtC,OADW3E,GAAQv7C,KAAKkgD,UAAU3E,IAAS0E,GAC/B5jD,IAAQ4jD,EAAa5jD,IAAQA,IAE1C,CACDA,IAAK,YACLQ,MAAO,WACL,OAAOmD,KAAK22B,KAAK5hB,QAAQoV,UAAYD,MAEtC,CACD7tB,IAAK,sBACLQ,MAAO,WA2DLmD,KAAKkgD,UAAYl9C,EAAMyC,QAAO,EA1DR,CACpB06C,GAAM,CACJvgC,KAAQ,OACRwgC,aAAgB,eAChB5lC,SAAY,WACZ6lC,uBAA0B,kGAC1BC,oBAAuB,wBACvBC,sBAAyB,iDAE3BC,GAAM,CACJ5gC,KAAQ,UACRwgC,aAAgB,wBAChB5lC,SAAY,aACZ6lC,uBAA0B,qGAC1BC,oBAAuB,uCACvBC,sBAAyB,mDAE3BE,GAAM,CACJ7gC,KAAQ,OACRwgC,aAAgB,iBAChB5lC,SAAY,gBACZ6lC,uBAA0B,yGAE5BK,GAAM,CACJ9gC,KAAQ,cACRwgC,aAAgB,kBAChB5lC,SAAY,YACZ6lC,uBAA0B,mGAE5BM,GAAM,CACJ/gC,KAAQ,YACRwgC,aAAgB,mBAChB5lC,SAAY,YACZ6lC,uBAA0B,uGAC1BC,oBAAuB,+BACvBC,sBAAyB,2DAE3Bj+C,GAAM,CACJsd,KAAQ,QACRwgC,aAAgB,mBAChB5lC,SAAY,UACZ6lC,uBAA0B,iGAE5BO,GAAM,CACJhhC,KAAQ,eACRwgC,aAAgB,6BAChB5lC,SAAY,WACZ6lC,uBAA0B,oFAE5BQ,GAAM,CACJjhC,KAAQ,QACRwgC,aAAgB,qBAChB5lC,SAAY,QACZ6lC,uBAA0B,4EAC1BC,oBAAuB,wBACvBC,sBAAyB,oCAGwBvgD,KAAK22B,KAAK5hB,QAAQ+rC,SAAW,IAClF9gD,KAAKkgD,UAAU,SAAWlgD,KAAKkgD,UAAc,GAC7ClgD,KAAKkgD,UAAU,SAAWlgD,KAAKkgD,UAAc,GAC7ClgD,KAAKkgD,UAAU,UAAYlgD,KAAKkgD,UAAc,GAC9ClgD,KAAKkgD,UAAU,SAAWlgD,KAAKkgD,UAAc,GAC7ClgD,KAAKkgD,UAAU,SAAWlgD,KAAKkgD,UAAc,GAC7ClgD,KAAKkgD,UAAU,SAAWlgD,KAAKkgD,UAAc,GAC7ClgD,KAAKkgD,UAAU,SAAWlgD,KAAKkgD,UAAc,OAI1CL,EA1HT,CA2HEnK,IAKFjF,GAAOsQ,eAAelB,IACtBpP,GAAOuQ,iBAAiB1C,IACxB7N,GAAOuQ,iBAAiB7C,IACxB1N,GAAOuQ,iBAAiB/C,IACxBxN,GAAOuQ,iBAAiB7I,IACxB,IAAI8I,GAAO,CACT7O,OAAQA,GACR1jB,OAAQA,GACR3M,QAASA,EACT0zB,gBAAiBA,GACjBE,kBAAmBA,GACnBD,WAAYA,GACZ3d,aAAcA,GACd4F,SAAUA,GACVlF,UAAWA,GACXsG,KAAMA,GACNrI,YAAaA,GACb+Z,OAAQA,GACR9a,WAAYA,GACZI,SAAUA,GACVvK,MAAOA,EACPyyB,WAAYA,GACZ9F,WAAYA,GACZgG,QAASA,GACT1xB,IAAKA,EACLkzB,OAAQA,GACR99B,QA5Bc,QA6Bds1B,SAAUF,GACV32C,EAAG0C,GCj7UL,SAAS1H,GAAgBC,EAAUC,GACjC,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,qCAIxB,SAASC,GAAkBC,EAAQC,GACjC,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CACrC,IAAIE,EAAaH,EAAMC,GACvBE,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDC,OAAOC,eAAeT,EAAQI,EAAWM,IAAKN,IAIlD,SAASO,GAAad,EAAae,EAAYC,GAG7C,OAFID,GAAYb,GAAkBF,EAAYH,UAAWkB,GACrDC,GAAad,GAAkBF,EAAagB,GACzChB,EAGT,SAASiB,GAAUC,EAAUC,GAC3B,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIlB,UAAU,sDAGtBiB,EAASrB,UAAYc,OAAOS,OAAOD,GAAcA,EAAWtB,UAAW,CACrED,YAAa,CACXyB,MAAOH,EACPR,UAAU,EACVD,cAAc,KAGdU,GAAYG,GAAgBJ,EAAUC,GAG5C,SAASI,GAAgBC,GAIvB,OAHAD,GAAkBZ,OAAOc,eAAiBd,OAAOe,eAAiB,SAAyBF,GACzF,OAAOA,EAAEG,WAAahB,OAAOe,eAAeF,KAEvBA,GAGzB,SAASF,GAAgBE,EAAGI,GAM1B,OALAN,GAAkBX,OAAOc,gBAAkB,SAAyBD,EAAGI,GAErE,OADAJ,EAAEG,UAAYC,EACPJ,IAGcA,EAAGI,GAW5B,SAASG,GAA2BzC,EAAM0C,GACxC,OAAIA,GAAyB,iBAATA,GAAqC,mBAATA,EATlD,SAAgC1C,GAC9B,QAAa,IAATA,EACF,MAAM,IAAIwC,eAAe,6DAG3B,OAAOxC,EAQAuC,CAAuBvC,GAHrB0C,EAeX,SAASC,GAAK9B,EAAQ+B,EAAUC,GAkB9B,OAhBEF,GADqB,oBAAZG,SAA2BA,QAAQC,IACrCD,QAAQC,IAER,SAAclC,EAAQ+B,EAAUC,GACrC,IAAIG,EAdV,SAAwBC,EAAQL,GAC9B,MAAQvB,OAAOd,UAAU2C,eAAeR,KAAKO,EAAQL,IAEpC,QADfK,EAAShB,GAAgBgB,MAI3B,OAAOA,EAQQE,CAAetC,EAAQ+B,GAElC,GAAKI,EAAL,CACA,IAAII,EAAO/B,OAAOgC,yBAAyBL,EAAMJ,GAEjD,OAAIQ,EAAKL,IACAK,EAAKL,IAAIL,KAAKG,GAGhBO,EAAKrB,SAIJlB,EAAQ+B,EAAUC,GAAYhC,GAG5C,IAAIulD,GAEJ,SAAUC,GAiBR,SAASD,EAAmB94C,GAG1B,OAFA9M,GAAgB0E,KAAMkhD,GAEf3jD,GAA2ByC,KAAMjD,GAAgBmkD,GAAoB1jD,KAAKwC,KAAMoI,IA2BzF,OA9CA3L,GAAUykD,EAAoBC,GAE9B7kD,GAAa4kD,EAAoB,CAAC,CAChC7kD,IAAK,OACLwB,IAAK,WACH,MAAO,mBAER,CACDxB,IAAK,mBACLwB,IAAK,WACH,MAAO,CACL0xC,IAAK,aAWXjzC,GAAa4kD,EAAoB,CAAC,CAChC7kD,IAAK,aACLQ,MAAO,WACLmD,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOoF,gBAAiB9zB,KAAKqe,OAC3Dre,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAO+F,yBAA0Bz0B,KAAKg6B,kBAErE,CACD39B,IAAK,QACLQ,MAAO,YACDmD,KAAKoI,UAAU+yB,oBAAsBwC,GAASO,MAAQl+B,KAAKoI,UAAUmtC,kBACnEv1C,KAAKoI,UAAUszB,YAAa17B,KAAKoI,UAAU8zB,QAAal8B,KAAKoI,UAAUoiB,UAG9E,CACDnuB,IAAK,iBACLQ,MAAO,WACL,IAAIukD,EAAiBphD,KAAKoI,UAAU+yB,oBAAsBwC,GAASO,MAAQl+B,KAAKoI,UAAUmtC,eAC1F,GAAI6L,IAAmBphD,KAAKohD,eAA5B,CACA,IAAI1xB,EAAS0xB,EAAiB,WAAa,cAC3CphD,KAAKoI,UAAUguB,IAAI1G,GAAQ,mBAC3B1vB,KAAKohD,eAAiBA,OAInBF,EA/CT,CAgDEzL,IAMF,SAASrd,GAAY9pB,EAAK+pB,QACX,IAARA,IAAiBA,EAAM,IAC5B,IAAIC,EAAWD,EAAIC,SAEnB,GAAKhqB,GAA2B,oBAAbrN,SAAnB,CAEA,IAAI8U,EAAO9U,SAAS8U,MAAQ9U,SAASsI,qBAAqB,QAAQ,GAC9D8D,EAAQpM,SAASkB,cAAc,SACnCkL,EAAMtJ,KAAO,WAEI,QAAbu0B,GACEviB,EAAK5D,WACP4D,EAAK1D,aAAahF,EAAO0I,EAAK5D,YAKhC4D,EAAKtO,YAAY4F,GAGfA,EAAMkrB,WACRlrB,EAAMkrB,WAAW9nB,QAAUnC,EAE3BjB,EAAM5F,YAAYxG,SAASu3B,eAAelqB,QAIpC,+vCAGV,IAAI+yC,GAEJ,SAAUC,GAsCR,SAASD,EAAe1qB,GACtB,IAAInT,EAEJloB,GAAgB0E,KAAMqhD,GAEtB79B,EAAQjmB,GAA2ByC,KAAMjD,GAAgBskD,GAAgB7jD,KAAKwC,KAAM22B,IACpF,IAAIgO,EAAShO,EAAK5hB,QAAQwsC,qBAM1B,OALA/9B,EAAMg+B,OAAS7c,GAAUA,EAAO/M,MAAQ+M,EAAO/M,MAAQ,KACvDpU,EAAMi+B,WAAa9c,GAAUA,EAAO+c,UAAY/c,EAAO+c,UAAY,YACnEl+B,EAAMm+B,SAAWhd,GAAUA,EAAOid,eAAiD,mBAAzBjd,EAAOid,cAA+Bjd,EAAOid,cAAgB,SAAU7mB,GAC/H,OAAOA,EAAMj2B,MAER0e,EA8GT,OA/JA/mB,GAAU4kD,EAAgBC,GAE1BhlD,GAAa+kD,EAAgB,CAAC,CAC5BhlD,IAAK,OACLwB,IAAK,WACH,MAAO,oBAER,CACDxB,IAAK,mBACLwB,IAAK,WACH,MAAO,CACL0xC,IAAK,WAGR,CACDlzC,IAAK,WACLwB,IAAK,WACH,OAAOs5C,GApDA,+bAsDR,CACD96C,IAAK,SACLwB,IAAK,WACH,MAAO,CACLgkD,yBAA0B,oBAC1BC,yBAA0B,mBAG7B,CACDzlD,IAAK,aACLwB,IAAK,WACH,MAAO,CACLyF,MAAS,cACTy+C,mBAAoB,QAoB1BzlD,GAAa+kD,EAAgB,CAAC,CAC5BhlD,IAAK,aACLQ,MAAO,WACLmD,KAAKwvB,SAASxvB,KAAK22B,KAAMjI,GAAO2D,8BAA+BryB,KAAKgiD,kBACpEhiD,KAAKwvB,SAASxvB,KAAK22B,KAAKsrB,aAAcvzB,GAAOuG,sBAAuBj1B,KAAKm4B,QACzEn4B,KAAKwvB,SAASxvB,KAAK22B,KAAKsrB,aAAcvzB,GAAO0G,kBAAmBp1B,KAAKkiD,iBACrEliD,KAAKoI,UAAYpI,KAAK22B,KAAKwrB,sBAEvBniD,KAAKoI,YACPpI,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAO4E,6BAA8BtzB,KAAKyzC,qBACxEzzC,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAO6E,2BAA4BvzB,KAAKoiD,mBACtEpiD,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOiF,eAAgB3zB,KAAKqiD,oBAG7D,CACDhmD,IAAK,kBACLQ,MAAO,WACLmD,KAAKsiD,aAAY,KAElB,CACDjmD,IAAK,mBACLQ,MAAO,WACLmD,KAAKsiD,aAAY,GACjBtiD,KAAKq2B,gBACLr2B,KAAKk4B,eAEN,CACD77B,IAAK,sBACLQ,MAAO,WACLmD,KAAKuiD,iBACLviD,KAAKsiD,aAAY,KAElB,CACDjmD,IAAK,oBACLQ,MAAO,SAA2Bk+B,GAChC/6B,KAAKwiD,6BAA6BznB,EAAMrd,MAEzC,CACDrhB,IAAK,gBACLQ,MAAO,SAAuBsW,GAC5B,IAAIwmB,EAAUtX,SAASlP,EAAMxX,OAAO8mD,QAAQC,SAAU,IAItD,OAHA1iD,KAAKoI,UAAUsxB,sBAAwBC,EACvC35B,KAAKkiD,kBACL/uC,EAAMgL,mBACC,IAER,CACD9hB,IAAK,cACLQ,MAAO,SAAqB8lD,GAC1B,IAAIjzB,EAASizB,EAAQ,WAAa,cAClC3iD,KAAKo2B,IAAI1G,GAAQ,eAElB,CACDrzB,IAAK,oBACLQ,MAAO,WACLmD,KAAKo2B,IAAIt2B,KAAK,MAAMyO,WAErB,CACDlS,IAAK,kBACLQ,MAAO,WACLmD,KAAKo2B,IAAIt2B,KAAK,MAAMuO,SAErB,CACDhS,IAAK,qBACLQ,MAAO,SAA4B6gB,GACjC,OAAO1d,KAAKo2B,IAAIt2B,KAAK,QAAWkK,MAAM0T,GAAwC,GAAlC,oBAAsBA,EAAK,OAAYpW,WAEpF,CACDjL,IAAK,+BACLQ,MAAO,SAAsC88B,GAC3C,GAAI35B,KAAK4iD,WAAajpB,EAAS,CAC7B35B,KAAK6iD,qBAAqBhyC,YAAY,WACtC7Q,KAAK6iD,mBAAmBlpB,GAAShpB,SAAS,WAC1C,IAAI+e,EAASiK,GAAW,EAAI,WAAa,cACzC35B,KAAK8iD,UAAUpzB,GAAQ,WACvB1vB,KAAK4iD,SAAWjpB,KAGnB,CACDt9B,IAAK,iBACLQ,MAAO,WAGL,IAFA,IAAIs+C,EAASn7C,KAAKoI,UAAYpI,KAAKoI,UAAUqxB,qBAAuB,GAE3D59B,EAAI,EAAGA,EAAIs/C,EAAOr/C,OAAQD,IACjCs/C,EAAOt/C,GAAGy/C,MAAQt7C,KAAK2hD,SAASxG,EAAOt/C,IAGzCmE,KAAKo2B,IAAIluB,KAAKlI,KAAKm3C,SAAS,CAC1BuK,UAAW1hD,KAAKyhD,WAChBsB,cAAe/iD,KAAK22B,KAAKO,KAAKW,EAAE,YAChCD,MAAO53B,KAAKwhD,OACZrG,OAAQA,KAEVn7C,KAAK8iD,UAAY9iD,KAAKo2B,IAAIt2B,KAAK,oCAC/BE,KAAK8iD,UAAU50C,OAvLR,uzBAwLPlO,KAAKo2B,IAAIloB,OAAOlO,KAAKqN,SAEtB,CACDhR,IAAK,SACLQ,MAAO,WACLmD,KAAKuiD,iBACL,IAAIS,EAAchjD,KAAK22B,KAAKsrB,aAAa7rB,IAAIt2B,KAAK,2BAElD,OADIkjD,EAAY,GAAIhjD,KAAKo2B,IAAI6sB,YAAYD,GAAkBhjD,KAAK22B,KAAKsrB,aAAa7rB,IAAIt2B,KAAK,kDAAkDojD,QAAQljD,KAAKo2B,KACnJp2B,SAIJqhD,EAhKT,CAiKEtpB,OAIU,gnEAGZ,IAAIorB,GAEJ,SAAU7B,GAqCR,SAAS6B,EAAYxsB,GACnB,IAAInT,EAQJ,OANAloB,GAAgB0E,KAAMmjD,IAEtB3/B,EAAQjmB,GAA2ByC,KAAMjD,GAAgBomD,GAAa3lD,KAAKwC,KAAM22B,KAE3EqD,iBAECxW,EAmFT,OAhIA/mB,GAAU0mD,EAAa7B,GAEvBhlD,GAAa6mD,EAAa,CAAC,CACzB9mD,IAAK,WACLwB,IAAK,WACH,OAAOs5C,GAbC,qJAeT,CACD96C,IAAK,OACLwB,IAAK,WACH,MAAO,iBAER,CACDxB,IAAK,mBACLwB,IAAK,WACH,MAAO,CACL0xC,IAAK,WAGR,CACDlzC,IAAK,SACLwB,IAAK,WACH,MAAO,CACLulD,qBAAsB,WAGzB,CACD/mD,IAAK,aACLwB,IAAK,WACH,MAAO,CACLyF,MAAS,eACT+/C,oBAAqB,QAiB3B/mD,GAAa6mD,EAAa,CAAC,CACzB9mD,IAAK,aACLQ,MAAO,WACLmD,KAAKwvB,SAASxvB,KAAK22B,KAAKsrB,aAAcvzB,GAAO+G,8BAA+Bz1B,KAAKgiD,kBACjFhiD,KAAKwvB,SAASxvB,KAAK22B,KAAKsrB,aAAcvzB,GAAOuG,sBAAuBj1B,KAAKg6B,gBACzEh6B,KAAKwvB,SAASxvB,KAAK22B,KAAMjI,GAAO4D,oBAAqBtyB,KAAKm4B,QAEtDn4B,KAAK22B,KAAKwrB,wBACZniD,KAAKyvB,aAAazvB,KAAK22B,KAAKwrB,sBAAuBzzB,GAAO8E,qBAAsBxzB,KAAKm4B,QACrFn4B,KAAKwvB,SAASxvB,KAAK22B,KAAKwrB,sBAAuBzzB,GAAOoE,kCAAmC9yB,KAAKsjD,eAGjG,CACDjnD,IAAK,mBACLQ,MAAO,WACLmD,KAAKq2B,gBACLr2B,KAAKk4B,eAEN,CACD77B,IAAK,aACLQ,MAAO,SAAoBu+B,GACrBp7B,KAAK22B,KAAKwE,oBAAsBwC,GAASO,OAC7Cl+B,KAAKg6B,iBACLh6B,KAAK22B,KAAKsrB,aAAa7rB,IAAIzlB,SAAS,QAEhCyqB,GACFp7B,KAAK22B,KAAKsrB,aAAa7rB,IAAIzlB,SAAS,OACpC3Q,KAAK22B,KAAKsrB,aAAa7rB,IAAIt2B,KAAK,oFAAoFuO,QAEpHrO,KAAK22B,KAAKsrB,aAAa7rB,IAAIvlB,YAAY,UAG1C,CACDxU,IAAK,QACLQ,MAAO,WACL,IAAIolD,EAAejiD,KAAK22B,KAAKsrB,aACzB75C,EAAY65C,EAAa75C,UACxBA,EAAUszB,aAAatzB,EAAUoiB,OAClCy3B,EAAa7rB,IAAI1lB,SAAS,QAAQtI,EAAUq0B,KAAKr0B,EAAUwzB,iBAEhE,CACDv/B,IAAK,iBACLQ,MAAO,WACL,IAAIs/B,EAASn8B,KAEbA,KAAKq2B,gBACLr2B,KAAK22B,KAAKsrB,aAAa7rB,IAAIvlB,YAAY,QAEnC7Q,KAAKujD,iBACPvjD,KAAKm4B,SACLn4B,KAAKo2B,IAAI/X,OAAM,WACb,OAAO8d,EAAO9d,YAIlBre,KAAKk4B,eAEN,CACD77B,IAAK,eACLQ,MAAO,WAEL,YAD0DiC,IAArCkB,KAAK22B,KAAK5hB,QAAQyuC,kBAAkCxjD,KAAK22B,KAAK5hB,QAAQyuC,iBAClExjD,KAAK22B,KAAKwE,oBAAsBwC,GAASO,OAEnE,CACD7hC,IAAK,SACLQ,MAAO,WAWL,OAVAmD,KAAKo2B,IAAIluB,KAAKlI,KAAKm3C,SAAS,CAC1Bv3B,KAAM5f,KAAK22B,KAAKO,KAAKW,EAAE,QACvB4rB,WAAYzjD,KAAK22B,KAAKO,KAAKW,EAAE,mBAG3B73B,KAAKujD,iBACPvjD,KAAK22B,KAAKsrB,aAAa7rB,IAAIzlB,SAAS,QACpC3Q,KAAK22B,KAAKsrB,aAAa3hD,EAAE,iDAAiD4N,OAAOlO,KAAKo2B,MAGjFp2B,SAIJmjD,EAjIT,CAkIEprB,IAEE2rB,GAEJ,SAAU5D,GAGR,SAAS4D,IAGP,OAFApoD,GAAgB0E,KAAM0jD,GAEfnmD,GAA2ByC,KAAMjD,GAAgB2mD,GAAU74C,MAAM7K,KAAMG,YAwChF,OA7CA1D,GAAUinD,EAAU5D,GAQpBxjD,GAAaonD,EAAU,CAAC,CACtBrnD,IAAK,aACLQ,MAAO,WACLmD,KAAKwvB,SAASxvB,KAAK22B,KAAMjI,GAAO2D,8BAA+BryB,KAAKgiD,kBACpE,IAAI55C,EAAYpI,KAAK22B,KAAKgJ,gBAEtBv3B,IACFpI,KAAKwvB,SAASpnB,EAAWsmB,GAAOmF,gBAAiB7zB,KAAKs5B,OACtDt5B,KAAKwvB,SAASpnB,EAAWsmB,GAAOiF,eAAgB3zB,KAAKs5B,UAGxD,CACDj9B,IAAK,mBACLQ,MAAO,WACLmD,KAAKq2B,gBACLr2B,KAAKk4B,eAEN,CACD77B,IAAK,QACLQ,MAAO,iBAC4D,IAA1CmD,KAAK22B,KAAK5hB,QAAQ4uC,qBAAuC3jD,KAAK22B,KAAK5hB,QAAQ4uC,sBACjF3jD,KAAK22B,KAAKsJ,gBAAgBjgC,KAAK22B,KAAKitB,qBAEtD,CACDvnD,IAAK,OACLwB,IAAK,WACH,MAAO,cAER,CACDxB,IAAK,mBACLwB,IAAK,WACH,MAAO,CACL0xC,IAAK,aAKJmU,EA9CT,CA+CEhO,OAMU,8/BAGZ,IAAImO,GAEJ,SAAUvC,GAmCR,SAASuC,EAAYltB,GACnB,IAAInT,EAKJ,OAHAloB,GAAgB0E,KAAM6jD,IAEtBrgC,EAAQjmB,GAA2ByC,KAAMjD,GAAgB8mD,GAAarmD,KAAKwC,KAAM22B,KACvE5hB,QAAQ+uC,mBAA2BvmD,GAA2BimB,EAAOA,EAAMnJ,WAC9EmJ,EA8ET,OAvHA/mB,GAAUonD,EAAavC,GAEvBhlD,GAAaunD,EAAa,CAAC,CACzBxnD,IAAK,OACLwB,IAAK,WACH,MAAO,iBAER,CACDxB,IAAK,mBACLwB,IAAK,WACH,MAAO,CACL0xC,IAAK,WAGR,CACDlzC,IAAK,WACLwB,IAAK,WACH,OAAOs5C,GAzBM,8gBA2Bd,CACD96C,IAAK,YACLwB,IAAK,WACH,OAAOmC,KAAK22B,KAAKwrB,wBAElB,CACD9lD,IAAK,aACLwB,IAAK,WACH,MAAO,CACLyF,MAAS,sBACTygD,oBAAqB,QAe3BznD,GAAaunD,EAAa,CAAC,CACzBxnD,IAAK,aACLQ,MAAO,WACLmD,KAAKwvB,SAASxvB,KAAK22B,KAAMjI,GAAOpC,MAAOtsB,KAAKszC,SAC5CtzC,KAAKwvB,SAASxvB,KAAK22B,KAAMjI,GAAO2D,8BAA+BryB,KAAKgkD,sBAErE,CACD3nD,IAAK,aACLQ,MAAO,WACLmD,KAAKikD,aAAejkD,KAAKo2B,IAAIt2B,KAAK,gCAClCE,KAAKikD,cAAgBjkD,KAAKikD,aAAaruC,GAAG,QAAS5V,KAAKkkD,OAAOvlC,KAAK3e,SAErE,CACD3D,IAAK,SACLQ,MAAO,WACL,IAAIs/B,EAASn8B,KAEbA,KAAKyvB,aAAazvB,KAAK22B,KAAMjI,GAAO6D,YAAY,WAC9C,OAAO4J,EAAO/zB,UAAUoiB,UAE1BxqB,KAAK22B,KAAK1d,KAAKjZ,KAAK+U,QAAQspB,QAASr+B,KAAK+U,QAAQ6C,UAClD5X,KAAKmkD,iBAEN,CACD9nD,IAAK,eACLQ,MAAO,WACLmD,KAAKikD,cAAgBjkD,KAAKikD,aAAanuC,IAAI,WAE5C,CACDzZ,IAAK,qBACLQ,MAAO,WACLmD,KAAKZ,IAAM,KACXY,KAAKmkD,eACLnkD,KAAKqO,SAEN,CACDhS,IAAK,UACLQ,MAAO,WACL,IAAIuC,EAAMe,UAAUrE,OAAS,QAAsBgD,IAAjBqB,UAAU,GAAmBA,UAAU,GAAK,GAE1Ef,EAAIstB,QAAUgK,GAAYa,OAAOX,QACnC52B,KAAKZ,IAAMA,EACXY,KAAKoI,UAAUkyB,sBACft6B,KAAKoI,UAAU6zB,OACfj8B,KAAKkN,UAGR,CACD7Q,IAAK,OACLQ,MAAO,WACLmD,KAAKm4B,SACLn4B,KAAKo2B,IAAIlpB,SAEV,CACD7Q,IAAK,OACLQ,MAAO,WACLmD,KAAKo2B,IAAI/nB,SAEV,CACDhS,IAAK,SACLQ,MAAO,WACL,GAAKmD,KAAKZ,IAUV,OATAY,KAAKo2B,IAAIluB,KAAKlI,KAAKm3C,SAAS,CAC1Bvf,MAAO53B,KAAKZ,IAAIs4B,GAAGE,MACnB5K,QAAShtB,KAAKZ,IAAIs4B,GAAG1K,QACrBoK,KAAMp3B,KAAKZ,IAAIg4B,KACfgtB,KAAMpkD,KAAKZ,IAAIs4B,GAAG0sB,MAAQ,GAC1BC,WAzHS,uXA2HXrkD,KAAK22B,KAAKP,IAAIloB,OAAOlO,KAAKsL,IAC1BtL,KAAKskD,aACEtkD,SAIJ6jD,EAxHT,CAyHE9rB,IAEEwsB,GAAW,yIAEXC,GAAY,mNAEZC,GAAUnkD,EAAE,6BAEZokD,GAEJ,SAAU5E,GAsBR,SAAS4E,EAAQ/tB,GACf,IAAInT,EASJ,OAPAloB,GAAgB0E,KAAM0kD,IAEtBlhC,EAAQjmB,GAA2ByC,KAAMjD,GAAgB2nD,GAASlnD,KAAKwC,KAAM22B,KACvEguB,WAAa,KAEnBnhC,EAAMia,YAECja,EA4FT,OA3HA/mB,GAAUioD,EAAS5E,GAEnBxjD,GAAaooD,EAAS,CAAC,CACrBroD,IAAK,OACLwB,IAAK,WACH,MAAO,YAER,CACDxB,IAAK,mBACLwB,IAAK,WACH,MAAO,CACL0xC,IAAK,WAGR,CACDlzC,IAAK,UACLwB,IAAK,WACH,OAAO4mD,OAiBXnoD,GAAaooD,EAAS,CAAC,CACrBroD,IAAK,YACLQ,MAAO,WACDmD,KAAK22B,KAAK5hB,QAAQ6vC,cACf5kD,KAAKi4B,UACRj4B,KAAKq2B,cAAcr2B,KAAK22B,KAAMjI,GAAO4D,qBACrCtyB,KAAK6kD,UAEE7kD,KAAKi4B,UACdj4B,KAAKqa,UACLra,KAAKwvB,SAASxvB,KAAK22B,KAAMjI,GAAO4D,oBAAqBtyB,KAAKy9B,cAG7D,CACDphC,IAAK,aACLQ,MAAO,WACLmD,KAAKwvB,SAASxvB,KAAK22B,KAAMjI,GAAO4D,oBAAqBtyB,KAAKy9B,WAC1Dz9B,KAAKwvB,SAASxvB,KAAK22B,KAAMjI,GAAO2D,8BAA+BryB,KAAKgiD,kBACpEhiD,KAAK22B,KAAKgJ,iBAAmB3/B,KAAKgiD,qBAEnC,CACD3lD,IAAK,mBACLQ,MAAO,WACLmD,KAAK2kD,YAAc3kD,KAAKq2B,cAAcr2B,KAAK2kD,YAC3C3kD,KAAK2kD,WAAa3kD,KAAK22B,KAAKgJ,gBAC5B3/B,KAAKwvB,SAASxvB,KAAK2kD,WAAYj2B,GAAOgF,eAAgB1zB,KAAK8kD,aAC3D9kD,KAAKwvB,SAASxvB,KAAK2kD,WAAYj2B,GAAOkF,gBAAiB5zB,KAAK+kD,cAC5D/kD,KAAKwvB,SAASxvB,KAAK2kD,WAAYj2B,GAAOiF,eAAgB3zB,KAAKglD,WAC3DhlD,KAAKwvB,SAASxvB,KAAK2kD,WAAYj2B,GAAOmF,gBAAiB7zB,KAAKglD,WAC5DhlD,KAAKwvB,SAASxvB,KAAK2kD,WAAYj2B,GAAO0E,gBAAiBpzB,KAAKglD,WAC5DhlD,KAAKglD,cAEN,CACD3oD,IAAK,UACLQ,MAAO,WACLY,GAAKV,GAAgB2nD,EAAQrpD,WAAY,UAAW2E,MAAMxC,KAAKwC,MAE/DA,KAAKglD,cAEN,CACD3oD,IAAK,UACLQ,MAAO,WACLY,GAAKV,GAAgB2nD,EAAQrpD,WAAY,UAAW2E,MAAMxC,KAAKwC,MAE/DA,KAAKglD,cAEN,CACD3oD,IAAK,aACLQ,MAAO,SAAoB2J,GACzB,IAAIw4C,EAAS1+C,EAAE,aACf0+C,EAAO,GAAG7uC,MAAQ,GAClB6uC,EAAO,GAAG1uC,OAAS,GACnB,IAAI2L,EAAM+iC,EAAO,GAAGU,WAAW,MAC/BzjC,EAAIgpC,UAAY,OAChB,IAAIC,EAAI5kD,EAAEkG,GAAK1G,KAAK,QAAQ0I,KAAK,KAC7B28C,EAAO,IAAIC,OAAOF,GACtBjpC,EAAIopC,KAAKF,GACT,IAAIf,EAAO9jD,EAAE,gDAEb,OADA8jD,EAAK57C,KAAK,OAAQw2C,EAAO,GAAGsG,UAAU,cAC/BlB,IAER,CACD/nD,IAAK,cACLQ,MAAO,WACAmD,KAAKukD,WAAUvkD,KAAKukD,SAAWvkD,KAAKulD,WAAWhB,KACpDvkD,KAAKwlD,WAAWxlD,KAAKukD,YAEtB,CACDloD,IAAK,eACLQ,MAAO,WACAmD,KAAKwkD,YAAWxkD,KAAKwkD,UAAYxkD,KAAKulD,WAAWf,KACtDxkD,KAAKwlD,WAAWxlD,KAAKwkD,aAEtB,CACDnoD,IAAK,YACLQ,MAAO,WACLyD,EAAE,6BAA6BqL,SAC/BrL,EAAE,QAAQ4N,OAAOlO,KAAKykD,WAEvB,CACDpoD,IAAK,aACLQ,MAAO,SAAoBunD,GACrBA,IACF9jD,EAAE,6BAA6BqL,SAC/BrL,EAAE,QAAQ4N,OAAOk2C,QAKhBM,EA5HT,CA6HEhP,IAEE+P,GAEJ,SAAUtE,GAiBR,SAASsE,EAAgBr9C,GACvB,IAAIob,EAeJ,OAbAloB,GAAgB0E,KAAMylD,IAEtBjiC,EAAQjmB,GAA2ByC,KAAMjD,GAAgB0oD,GAAiBjoD,KAAKwC,KAAMoI,KAE3EA,UAAU2M,QAAQ2wC,YAC1BliC,EAAMmiC,QAAUniC,EAAMpb,UAAU2M,QAAQ2wC,UACxCliC,EAAMoiC,YAAcpiC,EAAMpb,UAAU2M,QAAQ8wC,cAAgBriC,EAAMpb,UAAU2M,QAAQ8wC,cAAgB,IAAM,UAC1GriC,EAAMsiC,WAAatiC,EAAMpb,UAAU2M,QAAQgxC,aAC3CviC,EAAMwiC,oBAAiBlnD,EAEvB0kB,EAAMyiC,eAGDziC,EA0IT,OA1KA/mB,GAAUgpD,EAAiBtE,GAE3B7kD,GAAampD,EAAiB,CAAC,CAC7BppD,IAAK,OACLwB,IAAK,WACH,MAAO,qBAER,CACDxB,IAAK,mBACLwB,IAAK,WACH,MAAO,CACL0xC,IAAK,aAwBXjzC,GAAampD,EAAiB,CAAC,CAC7BppD,IAAK,cACLQ,MAAO,WACL,IAAIs/B,EAASn8B,KAEb,GAAKjF,OAAOmrD,KAYVlmD,KAAKmmD,wBAZW,CAChB,IAAI7wC,EAASrU,SAASkB,cAAc,UACpCmT,EAAOlP,aAAa,OAAQ,mBAC5BkP,EAAOlP,aAAa,QAAS,SAC7BkP,EAAOlP,aAAa,MAAO,oCAE3BkP,EAAO8wC,OAAS,WACd,OAAOjqB,EAAOgqB,qBAGhBllD,SAASuK,KAAK/D,YAAY6N,MAK7B,CACDjZ,IAAK,oBACLQ,MAAO,WACL,IAAI0/B,EAASv8B,KAETA,KAAKoI,YACPpI,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOwE,gBAAiBlzB,KAAKgzC,SAC3DhzC,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOgF,eAAgB1zB,KAAKkzC,QAC1DlzC,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOiF,eAAgB3zB,KAAKozC,QAC1DpzC,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOkF,gBAAiB5zB,KAAKmzC,SAC3DnzC,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOmF,gBAAiB7zB,KAAKy6B,SAC3Dz6B,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAO6F,0BAA2Bv0B,KAAK85B,aACrE95B,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAO8F,2BAA4Bx0B,KAAKqmD,cACtErmD,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAO0E,gBAAiBpzB,KAAKszC,SAC3DtzC,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOmE,wBAAyB7yB,KAAKsmD,mBACnEtmD,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAO2F,kBAAkB,SAAUlhB,GAC/D,OAAOopB,EAAOgqB,gBAAgBpzC,MAEhCnT,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOyF,gBAAgB,SAAUhhB,GAC7D,OAAOopB,EAAO8W,OAAOlgC,MAEvBnT,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAO83B,sBAAuBxmD,KAAKymD,cACjEzmD,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOgG,+BAAgC10B,KAAK0mD,MAC1E1mD,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOoE,kCAAmC9yB,KAAK2mD,QAG/EC,KAAKznD,KAAK,CAACa,KAAK4lD,YAAc,cAAe5lD,KAAK2lD,UAE9C3lD,KAAK8lD,YAAYc,KAAKznD,KAAK,CAACa,KAAK4lD,YAAc,iBAAkB5lD,KAAK8lD,eAE3E,CACDzpD,IAAK,UACLQ,MAAO,WACLmD,KAAKb,KAAK,CAAC,QAAS,WAAYa,KAAKoI,UAAUuwB,SAAS7zB,SAEzD,CACDzI,IAAK,SACLQ,MAAO,WACLmD,KAAKb,KAAK,CAAC,QAAS,OAAQa,KAAKoI,UAAUuwB,SAASrmB,QAErD,CACDjW,IAAK,SACLQ,MAAO,WACLmD,KAAKb,KAAK,CAAC,QAAS,OAAQa,KAAKoI,UAAUuwB,SAASrmB,QAErD,CACDjW,IAAK,UACLQ,MAAO,WACLmD,KAAKb,KAAK,CAAC,QAAS,QAASa,KAAKoI,UAAUuwB,SAASrmB,QAEtD,CACDjW,IAAK,cACLQ,MAAO,WACLmD,KAAKb,KAAK,CAAC,QAAS,YAAaa,KAAKoI,UAAUuwB,SAASrmB,QAE1D,CACDjW,IAAK,eACLQ,MAAO,WACLmD,KAAKb,KAAK,CAAC,QAAS,aAAca,KAAKoI,UAAUuwB,SAASrmB,QAE3D,CACDjW,IAAK,UACLQ,MAAO,WACLmD,KAAKb,KAAK,CAAC,QAAS,QAASa,KAAKoI,UAAUuwB,SAASrmB,QAEtD,CACDjW,IAAK,OACLQ,MAAO,SAAc+/B,GACnB,IAAIzoB,EAASyoB,EAAO,KAAO,MAEvBzoB,IAAWnU,KAAKgmD,iBAClBhmD,KAAKgmD,eAAiB7xC,EACtBnU,KAAKb,KAAK,CAAC,QAAS,QAAUgV,EAAQnU,KAAKoI,UAAUuwB,SAASrmB,SAGjE,CACDjW,IAAK,oBACLQ,MAAO,SAA2BgqD,GACL,OAAvBA,EAAc9iD,MAAe/D,KAAKb,KAAK,CAAC,QAAS,mBAAqB0nD,EAAc9iD,KAAM/D,KAAKoI,UAAUuwB,SAASrmB,QAEvH,CACDjW,IAAK,QACLQ,MAAO,SAAem+B,GACpB,IAAI7mB,EAAS6mB,EAAW,KAAO,MAC/Bh7B,KAAKb,KAAK,CAAC,cAAe,SAAWgV,EAAQnU,KAAKoI,UAAUuwB,SAASrmB,QAEtE,CACDjW,IAAK,UACLQ,MAAO,WACLmD,KAAKb,KAAK,CAAC,QAAS,QAASa,KAAKoI,UAAUuwB,SAASrmB,QAEtD,CACDjW,IAAK,SACLQ,MAAO,WACLmD,KAAKb,KAAK,CAAC,QAAS,OAAQa,KAAKoI,UAAUuwB,SAASrmB,QAErD,CACDjW,IAAK,kBACLQ,MAAO,WACLmD,KAAKb,KAAK,CAAC,cAAe,SAAUa,KAAKoI,UAAUuwB,SAASrmB,QAE7D,CACDjW,IAAK,eACLQ,MAAO,WACLmD,KAAKb,KAAK,CAAC,cAAe,aAAca,KAAKoI,UAAUuwB,SAASrmB,QAEjE,CACDjW,IAAK,OACLQ,MAAO,SAAckL,GACnB,IAAI++C,EAAM,CAAC9mD,KAAK4lD,YAAc,eAAe9kD,OAAOiH,GAEpD6+C,KAAKznD,KAAK2nD,OAIPrB,EA3KT,CA4KEhQ,IAEExT,QAA8B,IAAXpnC,EAAyBA,EACpB,oBAATC,KAAuBA,KACZ,oBAAXC,OAAyBA,OAAS,GAKrD,SAASmnC,KACL,MAAM,IAAIvX,MAAM,mCAEpB,SAASwX,KACL,MAAM,IAAIxX,MAAM,qCAEpB,IAAIyX,GAAmBF,GACnBG,GAAqBF,GAQzB,SAASG,GAAWv7B,GAChB,GAAIq7B,KAAqBnsB,WAErB,OAAOA,WAAWlP,EAAK,GAG3B,IAAKq7B,KAAqBF,KAAqBE,KAAqBnsB,WAEhE,OADAmsB,GAAmBnsB,WACZA,WAAWlP,EAAK,GAE3B,IAEI,OAAOq7B,GAAiBr7B,EAAK,GAC/B,MAAMF,GACJ,IAEI,OAAOu7B,GAAiB5kC,KAAK,KAAMuJ,EAAK,GAC1C,MAAMF,GAEJ,OAAOu7B,GAAiB5kC,KAAKwC,KAAM+G,EAAK,KA1BjB,mBAAxBk7B,GAAShsB,aAChBmsB,GAAmBnsB,YAEc,mBAA1BgsB,GAASpsB,eAChBwsB,GAAqBxsB,cAuDzB,IAEI0sB,GAFAC,GAAQ,GACRC,IAAW,EAEXC,IAAc,EAElB,SAASC,KACAF,IAAaF,KAGlBE,IAAW,EACPF,GAAazmC,OACb0mC,GAAQD,GAAazhC,OAAO0hC,IAE5BE,IAAc,EAEdF,GAAM1mC,QACN8mC,MAIR,SAASA,KACL,IAAIH,GAAJ,CAGA,IAAIzsB,EAAUssB,GAAWK,IACzBF,IAAW,EAGX,IADA,IAAIxiC,EAAMuiC,GAAM1mC,OACVmE,GAAK,CAGP,IAFAsiC,GAAeC,GACfA,GAAQ,KACCE,GAAaziC,GACdsiC,IACAA,GAAaG,IAAYlU,MAGjCkU,IAAc,EACdziC,EAAMuiC,GAAM1mC,OAEhBymC,GAAe,KACfE,IAAW,EAnEf,SAAyBI,GACrB,GAAIR,KAAuBxsB,aAEvB,OAAOA,aAAagtB,GAGxB,IAAKR,KAAuBF,KAAwBE,KAAuBxsB,aAEvE,OADAwsB,GAAqBxsB,aACdA,aAAagtB,GAExB,IAEWR,GAAmBQ,GAC5B,MAAOh8B,GACL,IAEI,OAAOw7B,GAAmB7kC,KAAK,KAAMqlC,GACvC,MAAOh8B,GAGL,OAAOw7B,GAAmB7kC,KAAKwC,KAAM6iC,KAgD7CC,CAAgB9sB,IAEpB,SAAS+sB,GAASh8B,GACd,IAAI8B,EAAO,IAAIvK,MAAM6B,UAAUrE,OAAS,GACxC,GAAIqE,UAAUrE,OAAS,EACnB,IAAK,IAAID,EAAI,EAAGA,EAAIsE,UAAUrE,OAAQD,IAClCgN,EAAKhN,EAAI,GAAKsE,UAAUtE,GAGhC2mC,GAAMrjC,KAAK,IAAI6jC,GAAKj8B,EAAK8B,IACJ,IAAjB25B,GAAM1mC,QAAiB2mC,IACvBH,GAAWM,IAInB,SAASI,GAAKj8B,EAAKgB,GACf/H,KAAK+G,IAAMA,EACX/G,KAAK+H,MAAQA,KAEZ1M,UAAUmzB,IAAM,WACjBxuB,KAAK+G,IAAI8D,MAAM,KAAM7K,KAAK+H,QAI9B,IAAIgkB,GAAckW,GAASlW,aAAe,GAYtCg7B,IAVFh7B,GAAY1U,KACZ0U,GAAYwX,QACZxX,GAAYyX,OACZzX,GAAY0X,MACZ1X,GAAY2X,UAMH,SAAcx+B,GACvBlF,KAAKkF,QAAUA,GAAWnK,OAAOkG,SACjCjB,KAAK2jB,eAGPojC,GAAKC,kBAAoB,CACvBC,EAAG,YACHC,EAAG,MACHC,GAAI,QACJC,GAAI,QACJC,GAAI,OACJC,GAAI,MACJC,GAAI,YACJC,GAAI,MACJC,GAAI,QACJC,GAAI,OACJC,GAAI,KACJC,GAAI,QACJC,GAAI,OACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,MACLC,IAAK,MACLC,IAAK,OAEP9D,GAAK+D,kBAAoB,GAEzB,WACE,IAAK,IAAIzuD,KAAO0qD,GAAKC,kBACf7qD,OAAOd,UAAU2C,eAAeR,KAAKupD,GAAKC,kBAAmB3qD,KAC/D0qD,GAAK+D,kBAAkB/D,GAAKC,kBAAkB3qD,KAASA,GAH7D,GAQA0qD,GAAKgE,UAAY,CAAC,QAAS,OAAQ,OAEnChE,GAAKiE,cACC/pD,SAASwK,iBACJ,SAAUvG,EAASgO,EAAWrF,GACnC3I,EAAQuG,iBAAiByH,EAAWrF,GAAM,IAEnC5M,SAASgqD,YACX,SAAU/lD,EAASgO,EAAWrF,GACnC3I,EAAQ+lD,YAAY,KAAO/3C,EAAWrF,SAFnC,EAOTk5C,GAAKmE,gBACCjqD,SAASmd,oBACJ,SAAUlZ,EAASgO,EAAWrF,GACnC3I,EAAQkZ,oBAAoBlL,EAAWrF,GAAM,IAEtC5M,SAASkqD,YACX,SAAUjmD,EAASgO,EAAWrF,GACnC3I,EAAQimD,YAAY,KAAOj4C,EAAWrF,SAFnC,EAOTk5C,GAAKqE,eAAiB,SAAUrU,EAAQruB,GACtC,OAAsC,IAA/BquB,EAAOpvC,QAAQ+gB,IAGxBq+B,GAAKsE,WAAa,SAAUtU,GAC1B,OAAOA,EAAOpyC,QAAQ,aAAc,IAAIA,QAAQ,OAAQ,MAG1DoiD,GAAKuE,WAAa,SAAUvU,GAC1B,OAAOA,EAAOnyC,cAAcD,QAAQ,MAAM,SAAU0C,GAClD,OAAOA,EAAMS,kBAIjBi/C,GAAK3qC,SAAW,SAAUmvC,GACxB,OAAOxE,GAAKqE,eAAejvD,OAAOd,UAAUoD,SAASjB,KAAK+tD,GAAO,WAGnExE,GAAKyE,cACCltD,MAAMjD,UAAUsM,QACX,SAAU8jD,EAAUC,GACzB,OAAqC,IAA9BD,EAAS9jD,QAAQ+jD,IAGnB,SAAUD,EAAUC,GACzB,IAAK,IAAI7vD,EAAI,EAAGA,EAAI4vD,EAAS3vD,OAAQD,IACnC,GAAI4vD,EAAS5vD,KAAO6vD,EAClB,OAAO,EAIX,OAAO,GAKb3E,GAAK4E,iBAAmB,SAAUC,GAChC,IAAIC,EAAWhwD,EAGf,IAFAgwD,EAAY,GAEPhwD,EAAI,EAAGA,EAAIkrD,GAAKgE,UAAUjvD,OAAQD,IACjCkrD,GAAKqE,eAAeQ,EAAgB7E,GAAKgE,UAAUlvD,KACrDgwD,EAAU1sD,KAAK4nD,GAAKgE,UAAUlvD,IAIlC,OAAOgwD,GAGT9E,GAAK+E,WAAa,SAAUF,GAC1B,IAAI78B,EAAMlzB,EAGV,IAFAkzB,EAAOg4B,GAAKsE,WAAWO,GAAgB3gD,MAAM,KAExCpP,EAAI,EAAGA,EAAIkzB,EAAKjzB,OAAQD,IAC3B,IAAKkrD,GAAKyE,cAAczE,GAAKgE,UAAWh8B,EAAKlzB,IAC3C,OAAOkzB,EAAKlzB,IAKlBkrD,GAAKgF,gBAAkB,SAAUH,GAC/B,IAAI78C,EAAQ1S,EAEZ,OAAI0qD,GAAKqE,eAAeQ,EAAgB,OAC/B7E,GAAKsE,WAAWO,GAAgB3gD,MAAM,KAAKjK,MAAM,EAAG,GAAG8N,KAAK,MAGrEC,EAASg4C,GAAK4E,iBAAiBC,IAC/BvvD,EAAM0qD,GAAK+E,WAAWF,MAEV7E,GAAKyE,cAAczE,GAAKgE,UAAW1uD,IAC7C0S,EAAO5P,KAAK9C,GAGP0S,EAAOD,KAAK,OAGrBi4C,GAAKiF,QAAU,SAAUC,GACvB,OAAOlF,GAAKC,kBAAkBiF,EAAU,KAG1ClF,GAAKkF,QAAU,SAAUD,GACvB,OAAQjF,GAAK+D,kBAAkBkB,IAGjCjF,GAAK1rD,UAAUsoB,WAAa,WAC1B,IAAI9nB,EACAqwD,EAAOlsD,KAIX,IAHAA,KAAKmsD,aAAe,EACpBnsD,KAAKosD,cAAgB,GAEhBvwD,EAAI,EAAGA,EAAIkrD,GAAKgE,UAAUjvD,OAAQD,IACrCmE,KAAKosD,cAAcrF,GAAKgE,UAAUlvD,KAAM,EAG1CmE,KAAKqsD,SAAW,CACdC,IAAK,IAEPtsD,KAAKusD,OAAS,CACZD,IAAK,IAEPtsD,KAAKwsD,YAAcxsD,KAAKid,QAAQ,QAChCjd,KAAKysD,UAAYzsD,KAAKid,QAAQ,MAC9B8pC,GAAKiE,cAAchrD,KAAKkF,QAAS,UAAWlF,KAAKwsD,aACjDzF,GAAKiE,cAAchrD,KAAKkF,QAAS,QAASlF,KAAKysD,WAC/C1F,GAAKiE,cAAcjwD,OAAQ,UAAU,SAAS2xD,IAC5C3F,GAAKmE,gBAAgBgB,EAAKhnD,QAAS,UAAWgnD,EAAKM,aACnDzF,GAAKmE,gBAAgBgB,EAAKhnD,QAAS,QAASgnD,EAAKO,WACjD1F,GAAKmE,gBAAgBnwD,OAAQ,SAAU2xD,OAI3C3F,GAAK1rD,UAAU4hB,QAAU,SAAU0vC,GACjC,IAAIT,EAAOlsD,KACX,OAAO,SAAU6G,GACf,IAAIhL,EAAG+wD,EAAgBC,EAIvB,IAHAhmD,EAAIA,GAAK9L,OAAOoY,MAChB+4C,EAAKC,YAActlD,EAAEolD,QAEhBpwD,EAAI,EAAGA,EAAIkrD,GAAKgE,UAAUjvD,OAAQD,IACrCqwD,EAAKE,cAAcrF,GAAKgE,UAAUlvD,IAAMgL,EAAEkgD,GAAKgE,UAAUlvD,GAAK,OAShE,IANIkrD,GAAKyE,cAAczE,GAAKgE,UAAWhE,GAAKiF,QAAQE,EAAKC,gBACvDD,EAAKE,cAAcrF,GAAKiF,QAAQE,EAAKC,eAAgB,GAGvDS,EAAiBV,EAAK,OAASnF,GAAKuE,WAAWqB,IAE1C9wD,EAAI,EAAGA,EAAI+wD,EAAeN,IAAIxwD,OAAQD,KACR,IAA7B+wD,EAAeN,IAAIzwD,GAAGgL,IAAgBA,EAAEqX,gBAC1CrX,EAAEqX,iBAMN,GAAI0uC,EAFJC,EAAsBX,EAAKW,uBAGzB,IAAKhxD,EAAI,EAAGA,EAAI+wD,EAAeC,GAAqB/wD,OAAQD,KACR,IAA9C+wD,EAAeC,GAAqBhxD,GAAGgL,IAAgBA,EAAEqX,gBAC3DrX,EAAEqX,mBAOZ6oC,GAAK1rD,UAAUyxD,aAAe,SAAUH,EAAUI,EAASl/C,GACzD,IAAIhS,EACAkzB,EACA69B,EAAiB5sD,KAAK,OAAS+mD,GAAKuE,WAAWqB,IAMnD,IAJI5F,GAAK3qC,SAAS2wC,KAChBA,EAAU,CAACA,IAGRlxD,EAAI,EAAGA,EAAIkxD,EAAQjxD,OAAQD,IAC9BkzB,EAAOg+B,EAAQlxD,GAGX+wD,EAFJ79B,EAAOg4B,GAAKgF,gBAAgBh9B,EAAO,KAGjC69B,EAAe79B,GAAM5vB,KAAK0O,GAE1B++C,EAAe79B,GAAQ,CAAClhB,GAI5B,OAAO7N,MAIT+mD,GAAK1rD,UAAU2xD,eAAiB,SAAUL,EAAUI,EAASl/C,GAC3D,IAAIhS,EACAizB,EACAC,EACA69B,EAAiB5sD,KAAK,OAAS+mD,GAAKuE,WAAWqB,IAMnD,IAJI5F,GAAK3qC,SAAS2wC,KAChBA,EAAU,CAACA,IAGRlxD,EAAI,EAAGA,EAAIkxD,EAAQjxD,OAAQD,IAI9B,GAHAkzB,EAAOg+B,EAAQlxD,GACfkzB,EAAOg4B,GAAKgF,gBAAgBh9B,EAAO,IAEtB,OAATlhB,SACK++C,EAAe79B,QAEtB,GAAI69B,EAAe79B,GACjB,IAAKD,EAAI,EAAGA,EAAI89B,EAAe79B,GAAMjzB,OAAQgzB,IAC3C,GAAI9qB,OAAO4oD,EAAe79B,GAAMD,MAAQ9qB,OAAO6J,GAAO,CACpD++C,EAAe79B,GAAM3jB,OAAO0jB,EAAG,GAC/B,MAOV,OAAO9uB,MAGT+mD,GAAK1rD,UAAUya,IAAM,SAAUiZ,GAC7B,OAAO/uB,KAAKgtD,eAAe,OAAQj+B,EAAM,OAG3Cg4B,GAAK1rD,UAAUqkB,SAAW,SAAUitC,EAAU59B,EAAMlhB,GAClD,OAAgB,OAATA,QAA0B/O,IAAT+O,EAAqB7N,KAAK8sD,aAAaH,EAAU59B,EAAMlhB,GAAQ7N,KAAKgtD,eAAeL,EAAU59B,EAAMlhB,IAG7Hk5C,GAAK1rD,UAAU4xD,KAAO,SAAUl+B,EAAMlhB,GACpC,OAAO7N,KAAK0f,SAAS,OAAQqP,EAAMlhB,IAGrCk5C,GAAK1rD,UAAU6xD,GAAK,SAAUn+B,EAAMlhB,GAClC,OAAO7N,KAAK0f,SAAS,KAAMqP,EAAMlhB,IAGnCk5C,GAAK1rD,UAAU8xD,QAAU,SAAUC,GACjC,OAAKA,EAIEptD,KAAKosD,cAAcgB,GAHjBrG,GAAKiF,QAAQhsD,KAAKmsD,cAM7BpF,GAAK1rD,UAAUwxD,oBAAsB,WACnC,IAAI99C,EAAQlT,EAGZ,IAFAkT,EAAS,GAEJlT,EAAI,EAAGA,EAAIkrD,GAAKgE,UAAUjvD,OAAQD,IACjCmE,KAAKmtD,QAAQpG,GAAKgE,UAAUlvD,KAC9BkT,EAAO5P,KAAK4nD,GAAKgE,UAAUlvD,IAQ/B,OAJKkrD,GAAKyE,cAAcz8C,EAAQ/O,KAAKmtD,YACnCp+C,EAAO5P,KAAKa,KAAKmtD,WAGZp+C,EAAOD,KAAK,MAGrB,IAAIf,GAAQ,CACVg5C,KAAMA,OAGI,o+eAGZ,IAEIsG,GAAW,2KAEXC,GAAa,yPAIbC,GAAiB,kNAMjB1lC,GAAS2D,EAAM3D,OACfrB,GAAagF,EAAMhF,WACnBiF,GAAaD,EAAMC,WACnBhmB,GAAS+lB,EAAM/lB,OACfumB,GAAkBR,EAAMQ,gBAExBwhC,GAEJ,SAAUlM,GAgFR,SAASkM,EAAa72B,GACpB,IAAInT,EAyCJ,OAvCAloB,GAAgB0E,KAAMwtD,IAEtBhqC,EAAQjmB,GAA2ByC,KAAMjD,GAAgBywD,GAAchwD,KAAKwC,KAAM22B,KAC5E2b,cAAgB9uB,EAAMzO,QAAQu9B,cACpC9uB,EAAMiqC,qBAAuB,KAC7BjqC,EAAMkqC,qBAAuB,KAC7BlqC,EAAMmqC,aAAc,EACpBnqC,EAAMoqC,8BAAgC,KAEtCpqC,EAAMqqC,mBAENrqC,EAAMvQ,SAAW,CACflD,KAAM,CAAC,OAAQ,OAAQ,SACvB8pC,MAAO,CAAC,UACRD,QAAW,CAAC,WAAY,UAAW,aAErCp2B,EAAMsqC,KAAO,IAAI/G,GAAKvjC,EAAMzO,QAAQg5C,cAEpCvqC,EAAMwqC,gBAEFxqC,EAAMpb,UACH9H,EAAEqJ,cAAc6Z,EAAMpb,UAAU6K,YAAWuQ,EAAMvQ,SAAW3S,EAAEmF,OAAO,GAAI+d,EAAMpb,UAAU6K,WAE9FuQ,EAAMvQ,SAAW,GAGnBuQ,EAAMyqC,cAAe,GACjBzqC,EAAMpb,WAAaob,EAAMpb,UAAUywB,sBAAwBrV,EAAMzO,QAAQqnB,aAAY5Y,EAAMnJ,UAE/FmJ,EAAM0qC,gBAAkB,SAAU/6C,GAChC,OAAOqQ,EAAM2qC,SAASh7C,IAGxBqQ,EAAM4qC,kBAAoB,SAAUj7C,GAClC,OAAOqQ,EAAM6qC,WAAWl7C,IAG1B7S,EAAEW,UAAU0d,KAAK,UAAW6E,EAAM0qC,iBAClC5tD,EAAEW,UAAU0d,KAAK,YAAa6E,EAAM4qC,mBAC7B5qC,EA+tBT,OAx1BA/mB,GAAU+wD,EAAclM,GAExBhlD,GAAakxD,EAAc,CAAC,CAC1BnxD,IAAK,OACLwB,IAAK,WACH,MAAO,kBAER,CACDxB,IAAK,mBACLwB,IAAK,WACH,MAAO,CACL0xC,IAAK,WAGR,CACDlzC,IAAK,WACLwB,IAAK,WACH,IAAIywD,EAAiBtuD,KAAKoI,WAAapI,KAAKoI,UAAU+yB,oBAAsBwC,GAASE,MACrF,OAAO79B,KAAKiuD,cAAgBK,IAE7B,CACDjyD,IAAK,YACLwB,IAAK,WACH,OAAOmC,KAAK22B,MAAQ32B,KAAK22B,KAAKgJ,kBAE/B,CACDtjC,IAAK,WACLwB,IAAK,WACH,OAAOmC,KAAK22B,MAAQ32B,KAAK22B,KAAKyK,iBAE/B,CACD/kC,IAAK,aACLwB,IAAK,WACH,MAAO,CACLyF,MAAS,gBACTirD,qBAAsB,MAGzB,CACDlyD,IAAK,SACLwB,IAAK,WACH,MAAO,CACL2wD,oBAAqB,OACrBC,qBAAsB,QACtBC,yBAA0B,kBAC1BC,oBAAqB,OACrBC,wBAAyB,iBACzBC,0BAA2B,mBAC3BC,qCAAsC,OACtCC,oCAAqC,gBACrCC,kCAAmC,aACnCC,4CAA6C,gBAC7CC,4CAA6C,gBAC7CC,wCAAyC,kBACzCC,wCAAyC,uBACzCC,wCAAyC,gBACzCC,yCAA0C,qBAC1CC,0CAA2C,sBAC3CC,iDAAkD,qBAClDC,iDAAkD,0BAGrD,CACDpzD,IAAK,WACLwB,IAAK,WACH,OAAOs5C,GAxFU,yxFA0FlB,CACD96C,IAAK,SACLwB,IAAK,WACH,OAAOmC,KAAKoI,WAAapI,KAAKoI,UAAUwwB,QAAU54B,KAAKoI,UAAU0f,OAAS9nB,KAAK0vD,iBAEhF,CACDrzD,IAAK,QACLwB,IAAK,WACH,OAAuB,IAAhBmC,KAAK8nB,WAiDhBxrB,GAAakxD,EAAc,CAAC,CAC1BnxD,IAAK,uBACLQ,MAAO,WACL,IAAIs/B,EAASn8B,KAEb,MAAO,CACL2vD,UAAW3vD,KAAK2vD,UAChBC,UAAW,WACT,OAAOzzB,EAAOrU,WAInB,CACDzrB,IAAK,aACLQ,MAAO,WACL,IAAI0/B,EAASv8B,KAEbA,KAAKq2B,gBACLr2B,KAAKwvB,SAASxvB,KAAK22B,KAAMjI,GAAO2D,8BAA+BryB,KAAK6vD,0BACpE7vD,KAAKwvB,SAASxvB,KAAK22B,KAAMjI,GAAOiE,gBAAiB3yB,KAAKkN,MACtDlN,KAAKwvB,SAASxvB,KAAK22B,KAAMjI,GAAOkE,kBAAkB,WAChD,OAAO2J,EAAOluB,KAAKkuB,EAAOxnB,QAAQ+6C,0BAEpC9vD,KAAKwvB,SAASxvB,KAAK22B,KAAMjI,GAAO8D,gBAAiBxyB,KAAKkN,MACtDlN,KAAKwvB,SAASxvB,KAAK22B,KAAMjI,GAAO4D,oBAAqBtyB,KAAKy9B,WAC1Dz9B,KAAKwvB,SAASxvB,KAAK22B,KAAMjI,GAAO+D,YAAazyB,KAAK+vD,cAClD/vD,KAAKgwD,wBAEN,CACD3zD,IAAK,sBACLQ,MAAO,WACAmD,KAAKoI,YACVpI,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOgF,eAAgB1zB,KAAKiwD,kBAC1DjwD,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOkF,gBAAiB5zB,KAAKiwD,kBAC3DjwD,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOiF,eAAgB3zB,KAAKiwD,kBAC1DjwD,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOqF,mBAAoB/zB,KAAK4jD,kBAC9D5jD,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAO8E,qBAAsBxzB,KAAKuzC,cAChEvzC,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAO+E,mBAAoBzzB,KAAKkwD,mBAC9DlwD,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAO+F,yBAA0Bz0B,KAAKg6B,gBACpEh6B,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOoE,kCAAmC9yB,KAAKg6B,gBAC7Eh6B,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOgG,+BAAgC10B,KAAKk6B,sBAC1El6B,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOmG,+BAAgC70B,KAAKqa,SAC1Era,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOoG,8BAA+B90B,KAAK6kD,QACzE7kD,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOmF,gBAAiB7zB,KAAKs5B,OAC3Dt5B,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAO2F,iBAAkBr0B,KAAKumD,iBAC5DvmD,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOsG,yBAA0Bh1B,KAAK6tD,kBAEV,UAAtD7tD,KAAKoI,UAAUuwB,SAASrtB,GAAG6B,SAASvI,eAEtC5E,KAAKyvB,aAAazvB,KAAKoI,UAAWsmB,GAAO2E,yBAA0BrzB,KAAKmwD,+BAG3E,CACD9zD,IAAK,UACLQ,MAAO,WACLmD,KAAKiuD,cAAe,EACpBjuD,KAAKqO,OACLrO,KAAKowD,kBACLpwD,KAAKo2B,IAAI/nB,SAEV,CACDhS,IAAK,SACLQ,MAAO,WACDmD,KAAK+U,QAAQqnB,aACjBp8B,KAAKiuD,cAAe,EACpBjuD,KAAKguD,gBACLhuD,KAAKkN,UAEN,CACD7Q,IAAK,OACLQ,MAAO,WACLmD,KAAKoI,WAAapI,KAAKoI,UAAUoiB,SAElC,CACDnuB,IAAK,QACLQ,MAAO,WACLmD,KAAKoI,WAAapI,KAAKoI,UAAU8zB,UAElC,CACD7/B,IAAK,OACLQ,MAAO,WACLmD,KAAKoI,WAAapI,KAAKoI,UAAU6zB,SAElC,CACD5/B,IAAK,mBACLQ,MAAO,WACL,IAAIwzD,EAAgBrwD,KAAKsyC,cAAgBzqB,GAAOyoC,QAAQ,UAAY,IAChEv7C,EAAU/U,KAAKoI,WAAapI,KAAKoI,UAAU2M,SAAW/U,KAAK+U,QAC/D/U,KAAK2vD,UAAU56C,EAAQsgC,KAAO,EAAIgb,GAAe,KAElD,CACDh0D,IAAK,kBACLQ,MAAO,WACLmD,KAAKuwD,mBAEN,CACDl0D,IAAK,6BACLQ,MAAO,WACL,IAAI2zD,EAAQxwD,KAAK24B,UAAY34B,KAAK24B,SAASrtB,IAGtCkb,GAAWiB,qBAAuB+oC,EAAMC,2BAC3CzwD,KAAK4tD,+BAAgC,EACrC5tD,KAAKg6B,oBAGR,CACD39B,IAAK,iBACLQ,MAAO,WAEL,GAAKmD,KAAK0wD,SAAV,CAEA1wD,KAAK2wD,oBAAoB7wD,KAAK,eAAewO,IAAI,IACjD,IAAIsiD,EAAiB5wD,KAAK2wD,oBAAoBxgD,QAC1C0gD,EAAW7wD,KAAK8wD,qBAAqB3gD,QACrCV,GAAUmhD,EAAiBC,GAAY,EACvCE,EAAMF,EAAW7wD,KAAK8nB,OAAS,IAAQrY,EAC3CzP,KAAKgxD,eAAe1iD,IAAI,CACtB6B,MAAO,GAAGrP,OAAOd,KAAK8nB,OAAQ,OAEhC9nB,KAAKixD,mBAAmB3iD,IAAI,CAC1ByB,KAAMghD,IAGR/wD,KAAK2wD,oBAAoB7wD,KAAK,0BAA0B+Q,YAAY,QACpE,IAAI7I,EAAOoI,KAAK8gD,KAAKlxD,KAAK8nB,OAAS,IACnC9nB,KAAK2wD,oBAAoB7wD,KAAK,0BAA0BkB,MAAM,EAAGgH,GAAM2I,SAAS,QAChF3Q,KAAKmxD,YAAYjpD,KAAK,IACtBlI,KAAKmxD,YAAYtgD,YAAY,SAExB7Q,KAAKuqB,OAGRvqB,KAAKmxD,YAAYjjD,OAlRJ,qYAmRblO,KAAKmxD,YAAYxgD,SAAS,UAH1B3Q,KAAKmxD,YAAYjjD,OAAOo/C,IAM1BttD,KAAKoxD,iBAAiBpxD,KAAKmxD,gBAE5B,CACD90D,IAAK,mBACLQ,MAAO,WACLmD,KAAKqxD,iBAAiBnpD,KAAK,IAC3BlI,KAAKsxD,gBAAgBppD,KAAK,IAEtBlI,KAAKoI,WAAapI,KAAKoI,UAAUszB,aACnC17B,KAAKqxD,iBAAiBnjD,OAAOs2C,IAC7BxkD,KAAKsxD,gBAAgBpjD,OAAOm/C,IAC5BrtD,KAAKqT,QAAQqb,GAAO6G,wBAEpBv1B,KAAKqxD,iBAAiBnjD,OAAOq2C,IAC7BvkD,KAAKsxD,gBAAgBpjD,OAAOq2C,IAC5BvkD,KAAKqT,QAAQqb,GAAO8G,yBACpBzT,EAAQsC,UAAYrkB,KAAKkN,QAG3BlN,KAAKoxD,iBAAiBpxD,KAAKqxD,kBAC3BrxD,KAAKoxD,iBAAiBpxD,KAAKsxD,mBAE5B,CACDj1D,IAAK,qBACLQ,MAAO,SAA4BsW,GACjC,GAAInT,KAAKiT,SAAS+oC,YAAa,CAC7B,IAAIuV,EAAUp+C,EAAMq+C,MAAQxxD,KAAKyxD,kBAAkBhiD,SAASM,KAAO/P,KAAK0xD,cAAcvhD,QAAU,EAChGnQ,KAAK0xD,cAAcpjD,IAAI,CACrByB,KAAMwhD,IAIVvxD,KAAKqT,QAAQqb,GAAO2G,+BAAgCliB,KAErD,CACD9W,IAAK,sBACLQ,MAAO,SAA6BsW,GAClCnT,KAAKqT,QAAQqb,GAAO4G,gCAAiCniB,KAEtD,CACD9W,IAAK,gBACLQ,MAAO,SAAuBsW,GAC5BnT,KAAK2vD,UAAU3vD,KAAK2xD,qBAAqBx+C,MAE1C,CACD9W,IAAK,uBACLQ,MAAO,SAA8BsW,GACnCnT,KAAK4xD,mBAAqB5xD,KAAK2vD,UAAU3vD,KAAK2xD,qBAAqBx+C,MAEpE,CACD9W,IAAK,eACLQ,MAAO,SAAsB6O,GAC3B1L,KAAK6xD,kBAAkB3pD,KAAK,IAC5B,IAAIk8C,EAAOpkD,KAAK22B,KAAKsJ,eAvUF,iOAuUwCstB,GAC3DvtD,KAAK6xD,kBAAkB3jD,OAAOk2C,GAC9BpkD,KAAKoxD,iBAAiBpxD,KAAK6xD,mBACgB,IAA3C7xD,KAAKo2B,IAAIt2B,KAAK,kBAAkBhE,QAAgBkE,KAAKo2B,IAAIvlB,YAAY,SACjEnF,EAAKyE,OAAS,KAAOnQ,KAAK+U,QAAQ+8C,gBAAe9xD,KAAKo2B,IAAIzlB,SAAS,UAExE,CACDtU,IAAK,kBACLQ,MAAO,WAEL,OADAmD,KAAKoI,UAAUszB,YAAc17B,KAAKoI,UAAU8zB,QAAUl8B,KAAKoI,UAAUoiB,QAC9D,IAER,CACDnuB,IAAK,iBACLQ,MAAO,WACLmD,KAAKoI,UAAUszB,YAAc17B,KAAKoI,UAAU6zB,OAASj8B,KAAKoI,UAAUoiB,SAErE,CACDnuB,IAAK,gBACLQ,MAAO,SAAuBsW,GACvBnT,KAAKiT,SAAS+oC,cACnBh8C,KAAK+xD,iBAAkB,EACvB/xD,KAAKo2B,IAAIzlB,SAAS,YAClB3Q,KAAKgyD,eAAerhD,SAAS,8BAC7B3Q,KAAKiyD,iBAAiBthD,SAAS,8BAC/B3Q,KAAKkyD,iBAAiBvhD,SAAS,8BAC/BwC,GAASA,EAAM+K,oBAEhB,CACD7hB,IAAK,kBACLQ,MAAO,SAAyBsW,GAC9BnT,KAAK4xD,mBAAoB,EACzB5xD,KAAKo2B,IAAIzlB,SAAS,YAClBwC,GAASA,EAAM+K,mBAEhB,CACD7hB,IAAK,WACLQ,MAAO,SAAkBsW,GACvBnT,KAAK+xD,iBAAmB/xD,KAAKy8B,KAAKtpB,GAClCnT,KAAKo2B,IAAIvlB,YAAY,YACrB7Q,KAAKgyD,eAAenhD,YAAY,8BAChC7Q,KAAKiyD,iBAAiBphD,YAAY,8BAClC7Q,KAAKkyD,iBAAiBrhD,YAAY,uCAClC7Q,KAAK+xD,iBAAkB,EACvB/xD,KAAK4xD,mBAAoB,IAE1B,CACDv1D,IAAK,aACLQ,MAAO,SAAoBsW,GACzB,GAAInT,KAAK+xD,gBAAiB,CACxB5+C,EAAM+K,iBACN,IACI6yC,GADU59C,EAAMq+C,MAAQxxD,KAAKyxD,kBAAkBhiD,SAASM,MACxC/P,KAAKyxD,kBAAkBthD,QAAU,IACrD4gD,EAAM3gD,KAAKm/B,IAAI,IAAKn/B,KAAK++B,IAAI4hB,EAAK,IAClC/wD,KAAKmyD,kBAAkBpB,QACd/wD,KAAK4xD,oBACdz+C,EAAM+K,iBACNle,KAAK2vD,UAAU3vD,KAAK2xD,qBAAqBx+C,OAG5C,CACD9W,IAAK,uBACLQ,MAAO,SAA8BsW,GAGnC,OAFcA,EAAMq+C,MAAQxxD,KAAK2wD,oBAAoBlhD,SAASM,MACjC/P,KAAK2wD,oBAAoBxgD,QAAU,MAGjE,CACD9T,IAAK,aACLQ,MAAO,WACLmD,KAAK2vD,UAAU3vD,KAAKuqB,MAAQ,IAAM,KAEnC,CACDluB,IAAK,YACLQ,MAAO,SAAmBA,GACxB,IAAIigC,EAAS98B,KAEToyD,EAAkBjyD,UAAUrE,OAAS,QAAsBgD,IAAjBqB,UAAU,IAAmBA,UAAU,GACrFtD,EAAQuT,KAAKm/B,IAAI,IAAKn/B,KAAK++B,IAAItyC,EAAO,IAItCmD,KAAK0vD,eAAiB7yD,EACtBmD,KAAKsyC,gBAAkB8f,GAAmBvqC,GAAOwqC,QAAQ,SAAUx1D,GAEnE,IAAIy1D,EAAwB,WACtBx1B,EAAO10B,WAAa00B,EAAO10B,UAAUwwB,QACvCkE,EAAO10B,UAAUunD,UAAU9yD,GAE3BigC,EAAOrN,aAAaqN,EAAO10B,UAAWsmB,GAAOwE,iBAAiB,WAC5D4J,EAAO10B,UAAUunD,UAAU9yD,OAK5BmD,KAAKoI,UAEFkqD,IAFatyD,KAAKyvB,aAAazvB,KAAM0uB,GAAO+G,+BAA+B,WACjF,OAAO68B,SAGV,CACDj2D,IAAK,mBACLQ,MAAO,WACLmD,KAAKqT,QAAQqb,GAAOwG,wBAAyBl1B,KAAK8E,MAClD9E,KAAKoI,UAAU2sC,aACf/0C,KAAK22B,KAAKitB,mBACV5jD,KAAKuyD,yBAEN,CACDl2D,IAAK,2BACLQ,MAAO,WACLmD,KAAK4tD,8BAAgC,KACrC5tD,KAAKk4B,aAELl4B,KAAK6tD,mBACL7tD,KAAKiwD,mBACLjwD,KAAKgwD,sBACLhwD,KAAKg6B,iBACLh6B,KAAKoI,WAAapI,KAAKoI,UAAUiL,QAAQqb,GAAOoE,kCAAmC9yB,KAAKoI,UAAUotC,cAClGx1C,KAAKoI,WAAapI,KAAKoI,UAAUywB,sBAAwB74B,KAAKqa,UAC9Dra,KAAKqT,QAAQqb,GAAO+G,iCAErB,CACDp5B,IAAK,gBACLQ,MAAO,WACLmD,KAAKwyD,cAAgB38C,aAAa7V,KAAKwyD,cACvCxyD,KAAK2wD,oBAAoB9/C,YAAY,qBAEtC,CACDxU,IAAK,gBACLQ,MAAO,WACL,IAAIskC,EAASnhC,KAETgW,EAAU7V,UAAUrE,OAAS,QAAsBgD,IAAjBqB,UAAU,GAAmBA,UAAU,GAAK,IAC7EH,KAAK2wD,sBAEN3wD,KAAK4xD,kBACP5xD,KAAKwyD,aAAev8C,YAAW,WAC7B,OAAOkrB,EAAO2wB,kBACb97C,IAEHhW,KAAKwyD,cAAgB38C,aAAa7V,KAAKwyD,cACvCxyD,KAAKwyD,aAAev8C,YAAW,WAC7B,OAAOkrB,EAAOwvB,oBAAoBhgD,SAAS,qBAC1CqF,OAGN,CACD3Z,IAAK,QACLQ,MAAO,WACLmD,KAAKiwD,qBAEN,CACD5zD,IAAK,oBACLQ,MAAO,SAA2B0e,GAChC,IAAIk3C,EAAcl3C,EAASjB,MAAQiB,EAAS2hC,MAAQ,IAChDwV,EAAYn3C,EAASygB,QAAUzgB,EAAS2hC,MAAQ,IACpDl9C,KAAKgyD,eAAe1jD,IAAI,CACtByB,KAAM,GAAGjP,OAAO2xD,EAAa,KAC7BtiD,MAAO,GAAGrP,OAAO4xD,EAAYD,EAAa,SAG7C,CACDp2D,IAAK,eACLQ,MAAO,SAAsBk/B,GAC3B,IAAI/7B,KAAK+xD,gBAAT,CAEA,IAAIxgD,EAAWwqB,EAAaC,QAAU,EAAID,EAAamhB,MAAQnhB,EAAaC,QAC5Eh8B,KAAKytD,qBAAuBl8C,EAC5BvR,KAAK0tD,qBAAuB3xB,EAAamhB,MACzCl9C,KAAK2yD,mBAEN,CACDt2D,IAAK,gBACLQ,MAAO,WAEL,GAAkC,OAA9BmD,KAAKytD,sBAA+D,OAA9BztD,KAAK0tD,qBAA/C,CAEA1tD,KAAK4yD,yBAA2B,IAC5B5yD,KAAKoI,YAAcpI,KAAKoI,UAAU+yB,oBAAsBwC,GAASO,MAAQl+B,KAAKoI,UAAUotC,gBAAex1C,KAAK4yD,yBAA2B5yD,KAAKytD,qBAAuBztD,KAAK0tD,qBAAuB,KACnM1tD,KAAKmyD,kBAAkBnyD,KAAK4yD,0BAC5B,IAAIC,EAAcpnC,GAAWzrB,KAAKytD,sBAC9BqF,EAAcrnC,GAAWzrB,KAAK0tD,sBAE9BmF,IAAgB7yD,KAAK+yD,oBACvB/yD,KAAKgzD,UAAUrkD,KAAKkkD,GACpB7yD,KAAK+yD,kBAAoBF,GAGvBC,IAAgB9yD,KAAKizD,oBACvBjzD,KAAKkzD,UAAUvkD,KAAKmkD,GACpB9yD,KAAKizD,kBAAoBH,MAG5B,CACDz2D,IAAK,OACLQ,MAAO,SAAcsW,GACnB,GAAKnT,KAAKiT,SAAS+oC,YAAnB,CACA,IACI+U,GADU59C,EAAMq+C,MAAQxxD,KAAKyxD,kBAAkBhiD,SAASM,MACxC/P,KAAKyxD,kBAAkBthD,QAAU,IAIrD,OAHA4gD,EAAM3gD,KAAKm/B,IAAI,IAAKn/B,KAAK++B,IAAI4hB,EAAK,IAClC/wD,KAAKoI,WAAapI,KAAKoI,UAAUgtC,eAAe2b,GAChD/wD,KAAKmyD,kBAAkBpB,IAChB,KAER,CACD10D,IAAK,iBACLQ,MAAO,WACLmD,KAAK2tD,aAAc,IAEpB,CACDtxD,IAAK,mBACLQ,MAAO,WACLmD,KAAK2tD,aAAc,IAEpB,CACDtxD,IAAK,qBACLQ,MAAO,WACLmD,KAAKmzD,iBAAkB,IAExB,CACD92D,IAAK,uBACLQ,MAAO,WACLmD,KAAKmzD,iBAAkB,IAExB,CACD92D,IAAK,YACLQ,MAAO,WACL,OAAQmD,KAAKo2B,IAAI1lB,SAAS,wBAE3B,CACDrU,IAAK,OACLQ,MAAO,SAAcsW,GACnB,IAAIouB,EAASvhC,KAEb,IAAIA,KAAKwa,SAAT,CACA,IACI44C,EAAoBjgD,GAASA,EAAMkgD,UAAYrzD,KAAKszD,YAAcngD,EAAMogD,UAAYvzD,KAAKwzD,aAExFrgD,GAASigD,GAAqBtwC,UAAUI,UAAU7b,MAAM,eAC3DwO,aAAa7V,KAAKyzD,QAClBzzD,KAAKo2B,IAAIlpB,OACTlN,KAAKqT,QAAQqb,GAAOyG,kBAAmBn1B,KAAK8E,MAC5C9E,KAAKoI,WAAapI,KAAKoI,UAAUiL,QAAQqb,GAAOiG,4BAA6B30B,KAAK8E,MAClF9E,KAAKo2B,IAAIvlB,YAAY,sBACrB7Q,KAAKyzD,OAASx9C,YAAW,WACvB,OAAOsrB,EAAOlzB,SAVJ,KAaR8E,IACFnT,KAAKszD,WAAangD,EAAMkgD,QACxBrzD,KAAKwzD,WAAargD,EAAMogD,UAK5BvzD,KAAK0zD,mBADS,MAGf,CACDr3D,IAAK,OACLQ,MAAO,WACL,IAAI82D,EAAS3zD,KAETkrB,EAAQ/qB,UAAUrE,OAAS,QAAsBgD,IAAjBqB,UAAU,GAAmBA,UAAU,GAAK,EAChF,GAAKH,KAAK4zD,YAAV,CACA,IAAI59C,EAAUkV,GAAS,IAEvB,GADArV,aAAa7V,KAAKyzD,QACbzzD,KAAKwa,WAA8C,IAAlCxa,KAAK+U,QAAQ8+C,iBAAnC,CACA,IAAIC,EAA0B9zD,KAAKmzD,iBAAmBnzD,KAAK2tD,YACvDoG,EAAoB/zD,KAAK+xD,iBAAmB/xD,KAAK4xD,kBAErD,IAAK5xD,KAAKwa,WAAa0Q,GAAS4oC,GAA2BC,GACzD/zD,KAAKyzD,OAASx9C,YAAW,WACvB,OAAO09C,EAAOtlD,SACb2H,OACE,CACLhW,KAAKqT,QAAQqb,GAAO0G,kBAAmBp1B,KAAK8E,MAC5C9E,KAAKoI,WAAapI,KAAKoI,UAAUiL,QAAQqb,GAAOkG,4BAA6B50B,KAAK8E,MAClF9E,KAAKo2B,IAAIzlB,SAAS,sBAClB3Q,KAAK8xD,cAAc,GACnB,IAAIkC,GAAU,EACdh0D,KAAK0zD,kBAAkBM,QAG1B,CACD33D,IAAK,oBACLQ,MAAO,SAA2Bm3D,GAC5BA,EAASh0D,KAAK22B,KAAKP,IAAIvlB,YAAY,YAAqB7Q,KAAK22B,KAAKsJ,gBAAgBjgC,KAAK22B,KAAKP,IAAIzlB,SAAS,cAE9G,CACDtU,IAAK,iBACLQ,MAAO,WACL,IAAIo3D,EAAcj0D,KAAKk0D,eAEnBD,GAAgBj0D,KAAK4tD,+BAAkCpnC,GAAWiB,sBAEpEwsC,EAAqB,SAAKjoC,GAAgBioC,EAAqB,QAAG,cAClEA,EAAYlkD,MAAQic,GAAgBioC,EAAYlkD,KAAM,cACtDkkD,EAAYpa,OAAS7tB,GAAgBioC,EAAYpa,MAAO,eAGpC9uC,KAAKopD,UAAUn0D,KAAKiT,YAAclI,KAAKopD,UAAUF,KAGrEj0D,KAAKiT,SAAWghD,EAChBj0D,KAAKm4B,YAGR,CACD97B,IAAK,cACLQ,MAAO,WACL,OAAOyD,EAAEmF,QAAO,EAAM,GAAIzF,KAAKoI,WAAapI,KAAKoI,UAAU6K,YAE5D,CACD5W,IAAK,uBACLQ,MAAO,SAA8B+/B,GACnC58B,KAAK48B,KAAOA,EACZ,IAAIlN,EAASkN,EAAO,WAAa,cACjC58B,KAAKo0D,aAAa1kC,GAAQ,aAE3B,CACDrzB,IAAK,uBACLQ,MAAO,WACL,IAAIw3D,EAASr0D,KAAKo2B,IAAIt2B,KAAK,wBAC3BE,KAAKkzD,UAAYmB,EAAOv0D,KAAK,2CAC7BE,KAAK6xD,kBAAoBwC,EAAOv0D,KAAK,gDACrCE,KAAKqxD,iBAAmBgD,EAAOv0D,KAAK,+CACpCE,KAAKsxD,gBAAkB+C,EAAOv0D,KAAK,8CACnCE,KAAKgzD,UAAYqB,EAAOv0D,KAAK,2CAC7BE,KAAKyxD,kBAAoB4C,EAAOv0D,KAAK,gCACrCE,KAAK0xD,cAAgB2C,EAAOv0D,KAAK,4BACjCE,KAAKgyD,eAAiBqC,EAAOv0D,KAAK,6BAClCE,KAAKiyD,iBAAmBoC,EAAOv0D,KAAK,6BACpCE,KAAKkyD,iBAAmBmC,EAAOv0D,KAAK,+BACpCE,KAAK2wD,oBAAsB0D,EAAOv0D,KAAK,+BACvCE,KAAKs0D,iBAAmBD,EAAOv0D,KAAK,kCACpCE,KAAKmxD,YAAckD,EAAOv0D,KAAK,6BAC/BE,KAAK8wD,qBAAuB9wD,KAAKo2B,IAAIt2B,KAAK,gCAC1CE,KAAKgxD,eAAiBhxD,KAAKo2B,IAAIt2B,KAAK,4BACpCE,KAAKixD,mBAAqBjxD,KAAKo2B,IAAIt2B,KAAK,8BACxCE,KAAKo0D,aAAep0D,KAAKo2B,IAAIt2B,KAAK,kDAClCE,KAAKu0D,kBACLv0D,KAAKw0D,oBAEN,CACDn4D,IAAK,kBACLQ,MAAO,WACLmD,KAAK+yD,kBAAoB/yD,KAAKgzD,UAAUrkD,OACxC3O,KAAKizD,kBAAoBjzD,KAAKkzD,UAAUvkD,SAEzC,CACDtS,IAAK,kBACLQ,MAAO,WACL,IAAIw3D,EAASr0D,KAAKo2B,IAAIt2B,KAAK,wBAC3Bu0D,EAAOv0D,KAAK,0CAA0CoO,OAAOq2C,IAC7D8P,EAAOv0D,KAAK,2CAA2CoO,OAAOs2C,IAC9D6P,EAAOv0D,KAAK,0CAA0CoO,OAAOm/C,IAC7DrtD,KAAKqxD,iBAAiBnjD,OAAOq2C,IAC7BvkD,KAAKsxD,gBAAgBpjD,OAAOq2C,IAC5BvkD,KAAKmxD,YAAYjjD,OAAOo/C,IACxBttD,KAAK6xD,kBAAkB3jD,OAAOq/C,IAC9BvtD,KAAKo0D,aAAalmD,OA7qBX,gXA+qBR,CACD7R,IAAK,oBACLQ,MAAO,SAA2BA,GAChCA,EAAQuT,KAAK++B,IAAI/+B,KAAKm/B,IAAI1yC,EAAO,KAAQ,GAErCmD,KAAKy0D,6BAA+B53D,IACxCmD,KAAKy0D,2BAA6B53D,EAClCmD,KAAKiyD,iBAAiBphD,YAAY,8BAClC7Q,KAAKkyD,iBAAiBrhD,YAAY,8BAClC7Q,KAAKiyD,iBAAiB3jD,IAAI,CACxB6B,MAAO,GAAGrP,OAAOjE,EAAO,OAE1BmD,KAAKkyD,iBAAiB5jD,IAAI,CACxByB,KAAM,GAAGjP,OAAOjE,EAAO,UAG1B,CACDR,IAAK,eACLQ,MAAO,SAAsB63D,GAC3B,GAAK10D,KAAKiT,SAAS+oC,YAAnB,CACA,IAAI3wB,EAAcrrB,KAAKoI,UAAU4sC,iBAC7BxZ,EAAWx7B,KAAKoI,UAAUwzB,cAC1BrqB,EAAWnB,KAAKm/B,IAAIn/B,KAAK++B,IAAI9jB,EAAcqpC,EAAO,GAAIl5B,GAC1DjqB,EAAWnB,KAAKm/B,IAAe,IAAXh+B,EAAiBiqB,EAAU,KAC/Cx7B,KAAKoI,UAAUgtC,eAAe7jC,MAE/B,CACDlV,IAAK,iBACLQ,MAAO,SAAwBR,EAAKqO,GAClC,IAAIiqD,EAAS30D,KAEbA,KAAK8tD,KAAKb,KAAK5wD,GAAK,WAGlB,OAFAs4D,EAAOznD,OAEAxC,SAGV,CACDrO,IAAK,gBACLQ,MAAO,WACL,IAAI+3D,EAAS50D,KAEb,IAAI+hB,EAAQsC,WAAYrkB,KAAK+U,QAAQy9B,yBAArC,CACAxyC,KAAKowD,kBACLpwD,KAAK8tD,KAAO,IAAI/G,GAAK/mD,KAAK+U,QAAQg5C,cAAgB/tD,KAAK+U,QAAQ0sB,eAC/DzhC,KAAK60D,eAAe,SAAS,WAC3B,OAAOD,EAAOE,qBAEhB90D,KAAK60D,eAAe,QAAQ,WAC1B,OAAOD,EAAOG,cAAc,MAE9B/0D,KAAK60D,eAAe,SAAS,WAC3B,OAAOD,EAAOG,aAAa,MAE7B/0D,KAAK60D,eAAe,cAAc,WAChC,OAAOD,EAAOG,cAAc,OAE9B/0D,KAAK60D,eAAe,eAAe,WACjC,OAAOD,EAAOG,aAAa,OAE7B/0D,KAAK60D,eAAe,mBAAmB,WACrC,OAAOD,EAAOG,cAAc,OAE9B/0D,KAAK60D,eAAe,oBAAoB,WACtC,OAAOD,EAAOG,aAAa,OAElB,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACpDhsD,SAAQ,SAAUlN,GACrB+4D,EAAOC,eAAeh5D,GAAG,WACvB+4D,EAAO3hD,SAAS+oC,aAAe4Y,EAAOxsD,WAAawsD,EAAOxsD,UAAUgtC,eAAmB,GAAJv5C,YAIxF,CACDQ,IAAK,kBACLQ,MAAO,WACDmD,KAAK8tD,OACP9tD,KAAK8tD,KAAKh4C,IAAI,SACd9V,KAAK8tD,KAAKh4C,IAAI,QACd9V,KAAK8tD,KAAKh4C,IAAI,SACd9V,KAAK8tD,KAAKh4C,IAAI,cACd9V,KAAK8tD,KAAKh4C,IAAI,eACd9V,KAAK8tD,KAAKh4C,IAAI,mBACd9V,KAAK8tD,KAAKh4C,IAAI,oBACd9V,KAAK8tD,KAAKh4C,IAAI,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,SAG/D,CACDzZ,IAAK,cACLQ,MAAO,WACL,GAAImD,KAAK+U,QAAQigD,aAAc,CAC7Bh1D,KAAKi1D,aAAej1D,KAAK+U,QAAQigD,aAAaE,QAC9C,IAAIC,EAAen1D,KAAK+U,QAAQigD,aAAaI,QAC7Cp1D,KAAKo2B,IAAIt2B,KAAK,6BAA6BwO,IAAI,mBAAoB6mD,GACnEn1D,KAAKo2B,IAAIt2B,KAAK,gCAAgCwO,IAAI,OAAQtO,KAAKi1D,cAC/Dj1D,KAAKo2B,IAAIt2B,KAAK,uCAAuCwO,IAAI,YAAa,iBAAmBtO,KAAKi1D,iBAGjG,CACD54D,IAAK,mBACLQ,MAAO,SAA0BqI,GAC/BlF,KAAKi1D,cAAgB/vD,GAAW5E,EAAE4E,GAASpF,KAAK,YAAYwO,IAAI,OAAQtO,KAAKi1D,gBAE9E,CACD54D,IAAK,UACLQ,MAAO,WACLyD,EAAEW,UAAU2d,OAAO,UAAW5e,KAAKkuD,iBACnC5tD,EAAEW,UAAU2d,OAAO,YAAa5e,KAAKouD,mBACrCpuD,KAAKowD,kBACLpwD,KAAKq2B,gBAEL54B,GAAKV,GAAgBywD,EAAanyD,WAAY,UAAW2E,MAAMxC,KAAKwC,QAQrE,CACD3D,IAAK,YACLQ,MAAO,SAAmBkY,GAEpB/U,KAAK+U,QAAQqnB,YAAcrnB,EAAQrP,QAAUqP,EAAQspB,QAASr+B,KAAKqa,UAAera,KAAK6kD,SAC3F7kD,KAAKqT,QAAQqb,GAAOgH,+BAErB,CACDr5B,IAAK,SACLQ,MAAO,WACL,IAAIw4D,EAAUr1D,KAEVgW,EAAUhW,KAAK+U,QAAQ+6C,uBAAyB,IACpD9vD,KAAKiT,UAAYjT,KAAKo2B,IAAIluB,KAAKlI,KAAKm3C,SAAS,CAC3ClkC,SAAUjT,KAAKiT,YAEjBjT,KAAKs1D,uBACLt1D,KAAKqxD,iBAAiB1gD,SAAS,UAC/B3Q,KAAKsxD,gBAAgB3gD,SAAS,WAC9B3Q,KAAKiwD,mBAEDjwD,KAAKoI,YACPpI,KAAKyzD,OAASx9C,YAAW,WACvB,OAAOo/C,EAAQhnD,SACd2H,GACHhW,KAAKwa,UAAYxa,KAAKqO,QAKpB0T,EAAQ+B,UAAY/B,EAAQsC,WAC1BtC,EAAQF,QAAU,GAAI7hB,KAAKs0D,iBAAiBhmD,IAAI,UAAW,QAAatO,KAAK2wD,oBAAoBriD,IAAI,UAAW,SAGtHtO,KAAKiyD,iBAAiBthD,SAAS,8BAC/B3Q,KAAKkyD,iBAAiBvhD,SAAS,8BAC/B,IAAI4kD,EAAyB,EAqB7B,OApBIv1D,KAAKy0D,6BAA4Bc,EAAyBv1D,KAAKy0D,4BACnEz0D,KAAKy0D,2BAA6B,KAClCz0D,KAAKmyD,kBAAkBoD,GACvBxyB,IAAS,YACNsyB,EAAQpiD,SAAS+oC,aAAeqZ,EAAQ5D,kBAAkB9gD,SAAS,kBACnEoR,EAAQsC,WAAagxC,EAAQtgD,QAAQy9B,0BAA4B6iB,EAAQrH,gBAE1EqH,EAAQtF,aAAa,CACnB5/C,MAAOklD,EAAQtgD,QAAQ5E,MACvBG,OAAQ+kD,EAAQtgD,QAAQzE,SAG1B+kD,EAAQvD,cAAc,MAExB9xD,KAAKw1D,cACLx1D,KAAKk6B,qBAAqBl6B,KAAK48B,MAC/B58B,KAAK22B,KAAKP,IAAIloB,OAAOlO,KAAKsL,IAC1BtL,KAAK0wD,UAAW,EAChB1wD,KAAKuwD,iBACLvwD,KAAKqT,QAAQqb,GAAOuG,uBACbj1B,SAIJwtD,EAz1BT,CA01BEz1B,IAEFy1B,GAAa/nD,OAAS,SAAU0C,GAC9B,OAAO1C,GAAO+nD,GAAcrlD,OAKlB,09BAGZ,IAAIstD,GAEJ,SAAUC,GAgDR,SAASD,EAAartD,GACpB,IAAIob,EAaJ,OAXAloB,GAAgB0E,KAAMy1D,IAEtBjyC,EAAQjmB,GAA2ByC,KAAMjD,GAAgB04D,GAAcj4D,KAAKwC,KAAMoI,KAC5EutD,mBAAoB,EAC1BnyC,EAAMoyC,eAAgB,EAEtBpyC,EAAM2U,SAEN4K,IAAS,WACP,OAAOvf,EAAMqyC,YAERryC,EA0IT,OAvMA/mB,GAAUg5D,EAAcC,GAExBp5D,GAAam5D,EAAc,CAAC,CAC1Bp5D,IAAK,OACLwB,IAAK,WACH,MAAO,WAER,CACDxB,IAAK,mBACLwB,IAAK,WACH,MAAO,CACL0xC,IAAK,WAGR,CACDlzC,IAAK,WACLwB,IAAK,WACH,OAAOs5C,GAzBI,oDA2BZ,CACD96C,IAAK,eACLwB,IAAK,WACH,IAAI8gD,KAAiB3+C,KAAK+U,QAAQmkC,SAAUl5C,KAAK+U,QAAQmkC,OAAOyF,aAChE,MAAwC,aAAjC3+C,KAAKoI,UAAUuwB,SAAS7zB,OAAwB9E,KAAKoI,UAAUuwB,SAASwC,oBAAsBwC,GAASE,OAAS8gB,KAExH,CACDtiD,IAAK,aACLwB,IAAK,WACH,MAAO,CACLyF,MAAS,gBACTwyD,cAAe,MAGlB,CACDz5D,IAAK,SACLwB,IAAK,WACH,MAAO,CACLwgB,MAAS,aAGZ,CACDhiB,IAAK,iBACLwB,IAAK,WACH,OAAQmC,KAAK+U,QAAQmkC,QAAUl5C,KAAK+U,QAAQmkC,OAAO6c,qBAAyDj3D,IAAvCkB,KAAK+U,QAAQmkC,OAAO6c,mBAqB7Fz5D,GAAam5D,EAAc,CAAC,CAC1Bp5D,IAAK,aACLQ,MAAO,WACLmD,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOiF,eAAgB3zB,KAAKozC,QAC1DpzC,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOgF,eAAgB1zB,KAAKkzC,QAC1DlzC,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAO6F,0BAA2Bv0B,KAAK61D,QACrE71D,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAO8F,2BAA4Bx0B,KAAK61D,QACtE71D,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOsG,yBAA0Bh1B,KAAKm4B,QACpEn4B,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAO0E,gBAAiBpzB,KAAKszC,SAC3DtzC,KAAK+1D,gBAAkB/1D,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOmF,gBAAiB7zB,KAAKozC,UAEnF,CACD/2C,IAAK,UACLQ,MAAO,SAAiBoX,GACtBjU,KAAKg2D,cAAgB/hD,EAAMyY,QAAUgK,GAAYa,OAAOX,MAEpD52B,KAAKg2D,gBACPh2D,KAAK21D,mBAAoB,EACzB31D,KAAK41D,eAAgB,EACrB51D,KAAKi2D,oBAGR,CACD55D,IAAK,SACLQ,MAAO,WACLmD,KAAK21D,mBAAoB,EACzB31D,KAAK61D,WAEN,CACDx5D,IAAK,SACLQ,MAAO,WACLmD,KAAK21D,mBAAoB,EACzB31D,KAAK41D,eAAgB,EACrB51D,KAAK61D,WAEN,CACDx5D,IAAK,mBACLQ,MAAO,SAA0BqQ,IAC3BA,GAAUlN,KAAK+U,QAAQqnB,aAAcp8B,KAAK+U,QAAQsnB,qBAAkDr8B,KAAKk2D,iBAAhCl2D,KAAKi2D,mBAEnF,CACD55D,IAAK,iBACLQ,MAAO,WACDmD,KAAKg2D,gBAAkBh2D,KAAK+U,QAAQ+uC,qBACxC9jD,KAAKm2D,YAAYjpD,OACjBlN,KAAKo2B,IAAIzlB,SAAS,gBAEnB,CACDtU,IAAK,iBACLQ,MAAO,WACLmD,KAAKm2D,YAAY9nD,OACjBrO,KAAKo2B,IAAIvlB,YAAY,eAEtB,CACDxU,IAAK,UACLQ,MAAO,WAEL,IAAKmD,KAAK21D,kBAOR,OANK31D,KAAK+U,QAAQqnB,aAAcp8B,KAAK+U,QAAQsnB,uBAC3Cr8B,KAAK41D,eAAgB,EACrB51D,KAAK61D,SACL71D,KAAKoI,UAAUoiB,SAGV,IAGV,CACDnuB,IAAK,mBACLQ,MAAO,WAEL,OAAQmD,KAAKoI,UAAUuwB,SAASshB,cAEjC,CACD59C,IAAK,SACLQ,MAAO,WACL,GAAKmD,KAAKujD,aAAV,CACA,IAAI0S,GAAkBj2D,KAAK41D,gBAAkB51D,KAAK21D,oBAAsB31D,KAAKoI,UAAUmxB,UACvFv5B,KAAKo2D,iBAAiBH,GACtBj2D,KAAKq2D,kBAEN,CACDh6D,IAAK,eACLQ,MAAO,WACAmD,KAAK21D,kBAA0C31D,KAAKs2D,aAA5Bt2D,KAAKu2D,eAEnC,CACDl6D,IAAK,aACLQ,MAAO,WACLmD,KAAKoI,UAAUkyB,sBACft6B,KAAKo2B,IAAIlpB,SAEV,CACD7Q,IAAK,aACLQ,MAAO,WACLmD,KAAKoI,UAAUmyB,qBACXv6B,KAAKw2D,oBAAoBx2D,KAAKo2B,IAAI/nB,SAEvC,CACDhS,IAAK,SACLQ,MAAO,WACL,GAAKmD,KAAKujD,aAAV,CAIA,GAHAvjD,KAAKo2B,IAAIluB,KAAKlI,KAAKm3C,YACGn3C,KAAK+U,QAAQmkC,aAAyCp6C,IAA/BkB,KAAK+U,QAAQmkC,OAAOud,OAE5C,CACnB,IAAI1d,EAAY/4C,KAAK+U,QAAQmkC,OAAO1kC,KAAOxU,KAAK+U,QAAQmkC,OACxDl5C,KAAKo2B,IAAI9nB,IAAI,CACXooD,mBAAoB,OAAS3d,EAAY,WAElC/4C,KAAK+U,QAAQmkC,QACtBl5C,KAAKo2B,IAAI9nB,IAAI,CACXqoD,WAAc32D,KAAK+U,QAAQmkC,OAAOud,SAItCz2D,KAAKoI,UAAUguB,IAAIloB,OAAOlO,KAAKsL,IAC/BtL,KAAK42D,aAAe52D,KAAKo2B,IAAIt2B,KAAK,iBAClCE,KAAK42D,aAAa1oD,OAAOq2C,IACzBvkD,KAAKm2D,YAAcn2D,KAAK42D,aAAa92D,KAAK,OAC1CE,KAAKm2D,YAAYxlD,SAAS,eAC1B3Q,KAAKm2D,YAAY3tD,KAAK,cAAe,IACrC,IAAIysD,EAAej1D,KAAK+U,QAAQigD,cAAgBh1D,KAAK+U,QAAQigD,aAAaE,QAS1E,OARID,GAAcj1D,KAAKo2B,IAAIt2B,KAAK,YAAYwO,IAAI,OAAQ2mD,GAEpDj1D,KAAK+U,QAAQigD,cAAgBh1D,KAAK+U,QAAQigD,aAAaE,UACzDD,EAAej1D,KAAK+U,QAAQigD,aAAaE,QACzCl1D,KAAKm2D,YAAY7nD,IAAI,QAAS2mD,IAGhCj1D,KAAK61D,SACE71D,UAIJy1D,EAxMT,CAyME9f,OAIU,u2BAGZ,IAAIkhB,GAAerrC,EAAMC,WAErBqrC,GAEJ,SAAUxV,GAuDR,SAASwV,EAASngC,GAChB,IAAInT,EAeJ,OAbAloB,GAAgB0E,KAAM82D,IAEtBtzC,EAAQjmB,GAA2ByC,KAAMjD,GAAgB+5D,GAAUt5D,KAAKwC,KAAM22B,KACxEogC,qBAAsB,EAC5BvzC,EAAMwzC,cAAgB,KACtBxzC,EAAMgY,SAAW,KACjBhY,EAAMyzC,kBAAoB,KAC1BzzC,EAAM0zC,iBAAmB1zC,EAAMy+B,aAAaltC,QAAQmiD,eAEhD1zC,EAAM0zC,iBACJ1zC,EAAMy+B,aAAaltC,QAAQoiD,qBAAsB3zC,EAAM4zC,0BAA2B,IAAI1kD,MAAO4Y,UAAY,IAAI5Y,KAAK8Q,EAAMy+B,aAAaltC,QAAQoiD,sBAAsB7rC,UAAe9H,EAAM4zC,yBAA2B,GAGlN5zC,EA4IT,OAlNA/mB,GAAUq6D,EAAUxV,GAEpBhlD,GAAaw6D,EAAU,CAAC,CACtBz6D,IAAK,OACLwB,IAAK,WACH,MAAO,cAER,CACDxB,IAAK,mBACLwB,IAAK,WACH,MAAO,CACL0xC,IAAK,WAGR,CACDlzC,IAAK,WACLwB,IAAK,WACH,OAAOs5C,GA3BM,iEA6Bd,CACD96C,IAAK,aACLwB,IAAK,WACH,MAAO,CACLyF,MAAS,YACT+zD,iBAAkB,MAGrB,CACDh7D,IAAK,eACLwB,IAAK,WACH,OAAOmC,KAAK22B,KAAKsrB,eAElB,CACD5lD,IAAK,wBACLwB,IAAK,WACH,OAAOmC,KAAKiiD,aAAa75C,YAE1B,CACD/L,IAAK,sBACLwB,IAAK,WACH,OAAOmC,KAAKs3D,uBAAyBt3D,KAAKs3D,sBAAsBn8B,oBAAsBwC,GAASO,MAAQl+B,KAAKs3D,sBAAsB/hB,iBAEnI,CACDl5C,IAAK,gBACLwB,IAAK,WACH,OAAOmC,KAAKu3D,sBAAwBv3D,KAAKk3D,iBAE1C,CACD76D,IAAK,oBACLwB,IAAK,WACH,OAAOmC,KAAKk3D,gBAAkBl3D,KAAKu3D,wBAuBvCj7D,GAAaw6D,EAAU,CAAC,CACtBz6D,IAAK,aACLQ,MAAO,WACLmD,KAAKwvB,SAASxvB,KAAKiiD,aAAcvzB,GAAOuG,sBAAuBj1B,KAAKm4B,QACpEn4B,KAAKwvB,SAASxvB,KAAKiiD,aAAcvzB,GAAO2G,+BAAgCr1B,KAAKw3D,UAC7Ex3D,KAAKwvB,SAASxvB,KAAKiiD,aAAcvzB,GAAO4G,gCAAiCt1B,KAAKy3D,UAC9Ez3D,KAAKwvB,SAASxvB,KAAKiiD,aAAcvzB,GAAO+G,8BAA+Bz1B,KAAKgkD,oBAExEhkD,KAAKs3D,wBACPt3D,KAAKwvB,SAASxvB,KAAKs3D,sBAAuB5oC,GAAOoE,kCAAmC9yB,KAAK61D,QACzF71D,KAAKwvB,SAASxvB,KAAKs3D,sBAAuB5oC,GAAO8E,qBAAsBxzB,KAAK03D,mBAG/E,CACDr7D,IAAK,qBACLQ,MAAO,WACLmD,KAAKq2B,gBACLr2B,KAAKk4B,eAEN,CACD77B,IAAK,iBACLQ,MAAO,SAAwBk/B,GAC7B/7B,KAAKw7B,SAAWO,EAAamhB,MAC7Bl9C,KAAKi3D,kBAAoBl7B,EAAak7B,kBACtCj3D,KAAK61D,WAEN,CACDx5D,IAAK,WACLQ,MAAO,SAAkBsW,GACvBnT,KAAK+2D,qBAAsB,EAC3B/2D,KAAK23D,uBAAuBxkD,GAC5BnT,KAAK61D,WAEN,CACDx5D,IAAK,WACLQ,MAAO,WACLmD,KAAK+2D,qBAAsB,EAC3B/2D,KAAK61D,WAEN,CACDx5D,IAAK,yBACLQ,MAAO,SAAgCsW,GACrC,IAAI1D,EAAS0D,EAAMq+C,MAAQxxD,KAAKiiD,aAAawP,kBAAkBhiD,SAASM,KAExE/P,KAAKg3D,cAAgB5mD,KAAKm/B,IAAI,EAAGn/B,KAAK++B,IAAI1/B,EAASzP,KAAKiiD,aAAawP,kBAAkBthD,QAAS,MAEjG,CACD9T,IAAK,cACLQ,MAAO,WACL,IAAIogD,EAAU2a,EAAsB1S,EAAGr+C,EAoBvC,OAlBI7G,KAAK63D,mBACH73D,KAAKi3D,mBACPpwD,EAAI,IAAI6L,KAAK1S,KAAKi3D,oBAClB/R,EAAI,IAAIxyC,KAAK1S,KAAKi3D,oBAChBa,SAAS,EAAG,EAAG,EAAG,GACpBF,GAAwB/wD,EAAEykB,UAAY45B,EAAE55B,WAAa,IAAOtrB,KAAKw7B,WAEjE0pB,EAAI,IAAIxyC,MAAK,IAAIA,MAAO4Y,UAAYtrB,KAAKo3D,0BAEzCQ,IADA/wD,EAAI,IAAI6L,KAAKwyC,IACeA,EAAE4S,SAAS,EAAG,EAAG,EAAG,IAAM,MAGxD7a,EAAW2a,EAAuB53D,KAAKw7B,SAAWx7B,KAAKg3D,cAAgBh3D,KAAKw7B,UAC7D,IAAGyhB,GAAY,QAE9BA,EAAWj9C,KAAKg3D,cAAgBh3D,KAAKw7B,SAGhC,CACLyhB,SAAUA,EACV2a,qBAAsBA,KAGzB,CACDv7D,IAAK,SACLQ,MAAO,WACL,GAAKmD,KAAK0wD,SAKV,GAAK1wD,KAAK+3D,kBAGH,CACL,IAAI9a,EAAWj9C,KAAKg4D,cAChBC,EAAkBpB,GAAa5Z,EAASA,SAAUj9C,KAAK63D,mBAO3D,GALII,IAAoBj4D,KAAKk4D,oBAC3Bl4D,KAAKm4D,YAAYxpD,KAAKspD,GACtBj4D,KAAKk4D,kBAAoBD,GAGvBj4D,KAAKo4D,cAAe,CACtBp4D,KAAKq4D,YAAYnrD,OACjB,IAAIorD,EAAkBzB,GAAa72D,KAAKk3D,eAAiBja,EAAS2a,qBAAuB53D,KAAKw7B,SAAUx7B,KAAKk3D,gBAEzGoB,IAAoBt4D,KAAKizD,oBAC3BjzD,KAAKq4D,YAAY1pD,KAAK2pD,GACtBt4D,KAAKizD,kBAAoBqF,QAG3Bt4D,KAAKq4D,YAAYhqD,OAInBrO,KAAKo2B,IAAIlpB,OACT,IAAI0jD,EAAiB5wD,KAAKiiD,aAAawP,kBAAkBthD,QACrDooD,EAAUv4D,KAAKo2B,IAAIjmB,QACnBqoD,EAAYx4D,KAAKg3D,cAAgBpG,EACrC4H,GAAaD,EAAU,EACvBC,EAAYpoD,KAAK++B,IAAI,EAAG/+B,KAAKm/B,IAAIipB,EAAW5H,EAAiB2H,IAC7Dv4D,KAAKo2B,IAAI9nB,IAAI,OAAQkqD,QA9BrBx4D,KAAKo2B,IAAI/nB,OACTrO,KAAKo2B,IAAI9nB,IAAI,OAAQ,WAgCxB,CACDjS,IAAK,kBACLQ,MAAO,WACL,OAAOmD,KAAKs3D,uBAAyBt3D,KAAKs3D,sBAAsBrkD,SAAS+oC,aAAeh8C,KAAK+2D,qBAA8C,OAAvB/2D,KAAKg3D,eAA4C,OAAlBh3D,KAAKw7B,WAEzJ,CACDn/B,IAAK,SACLQ,MAAO,WACLmD,KAAK0wD,UAAW,EAChB1wD,KAAKizD,kBAAoB,KACzBjzD,KAAKk4D,kBAAoB,KACzBl4D,KAAKo2B,IAAIluB,KAAKlI,KAAKm3C,YACnBn3C,KAAKo2B,IAAI/nB,OACTrO,KAAKiiD,aAAa7rB,IAAIloB,OAAOlO,KAAKsL,IAClCtL,KAAKm4D,YAAcn4D,KAAKo2B,IAAIt2B,KAAK,oBACjCE,KAAKq4D,YAAcr4D,KAAKo2B,IAAIt2B,KAAK,mBACjCE,KAAKq4D,YAAYhqD,OACjBrO,KAAK61D,aAIFiB,EAnNT,CAoNE/+B,IAEE0gC,GAEJ,SAAU3Y,GAGR,SAAS2Y,IAGP,OAFAn9D,GAAgB0E,KAAMy4D,GAEfl7D,GAA2ByC,KAAMjD,GAAgB07D,GAAe5tD,MAAM7K,KAAMG,YAmCrF,OAxCA1D,GAAUg8D,EAAe3Y,GAQzBxjD,GAAam8D,EAAe,CAAC,CAC3Bp8D,IAAK,aACLQ,MAAO,WACLmD,KAAKwvB,SAASxvB,KAAK22B,KAAMjI,GAAO0D,wBAAyBpyB,KAAK04D,uBAE/D,CACDr8D,IAAK,sBACLQ,MAAO,WACL,IAAI87D,EAAmB34D,KAAK22B,KAAKt0B,WAAWtB,QAAO,SAAUqH,GAC3D,MAAmC,UAA5BA,EAAUuwB,SAAS7zB,QACzB,IAAM9E,KAAK22B,KAAKt0B,WAAW,GAE1Bs2D,GACF34D,KAAK22B,KAAKt0B,WAAW0G,SAAQ,SAAUX,GACjCA,IAAcuwD,GAAkBvwD,EAAUmzB,eAInD,CACDl/B,IAAK,OACLwB,IAAK,WACH,MAAO,YAER,CACDxB,IAAK,mBACLwB,IAAK,WACH,MAAO,CACL0xC,IAAK,aAKJkpB,EAzCT,CA0CE/iB,OAIU,46CAGZ,IAAIkjB,GAEJ,SAAUlD,GAyBR,SAASkD,EAAyBxwD,GAChC,IAAIob,EAoBJ,OAlBAloB,GAAgB0E,KAAM44D,IAEtBp1C,EAAQjmB,GAA2ByC,KAAMjD,GAAgB67D,GAA0Bp7D,KAAKwC,KAAMoI,KACxF+uC,SAAWA,GAtCH,8EAuCd3zB,EAAMq1C,YAAc,KAEpBr1C,EAAMgM,SAAShM,EAAMpb,UAAWsmB,GAAO6F,0BAA2B/Q,EAAMsW,aAExEtW,EAAMgM,SAAShM,EAAMpb,UAAWsmB,GAAO8F,2BAA4BhR,EAAM6iC,cAEzE7iC,EAAMgM,SAAShM,EAAMpb,UAAWsmB,GAAOiF,eAAgBnQ,EAAM4vB,QAE7D5vB,EAAMgM,SAAShM,EAAMpb,UAAWsmB,GAAOmF,gBAAiBrQ,EAAM4vB,QAE9D5vB,EAAMgM,SAAShM,EAAMpb,UAAWsmB,GAAO0E,gBAAiB5P,EAAM4vB,QAE9D5vB,EAAM2U,SAEC3U,EAgDT,OA7FA/mB,GAAUm8D,EAA0BlD,GAEpCp5D,GAAas8D,EAA0B,CAAC,CACtCv8D,IAAK,OACLwB,IAAK,WACH,MAAO,YAER,CACDxB,IAAK,mBACLwB,IAAK,WACH,MAAO,CACL0xC,IAAK,WAGR,CACDlzC,IAAK,aACLwB,IAAK,WACH,MAAO,CACLi7D,eAAgB,GAChBx1D,MAAS,4BA6BfhH,GAAas8D,EAA0B,CAAC,CACtCv8D,IAAK,cACLQ,MAAO,WACLmD,KAAKkN,SAEN,CACD7Q,IAAK,eACLQ,MAAO,WACLmD,KAAKqO,SAEN,CACDhS,IAAK,SACLQ,MAAO,WACLmD,KAAKqO,SAEN,CACDhS,IAAK,OACLQ,MAAO,WACL,IAAIs/B,EAASn8B,KAEY,OAArBA,KAAK64D,cAAsB74D,KAAK64D,YAAc5iD,YAAW,WAC3D,OAAOkmB,EAAO/F,IAAIlpB,SACjB,QAEJ,CACD7Q,IAAK,OACLQ,MAAO,WACoB,OAArBmD,KAAK64D,cACPhjD,aAAa7V,KAAK64D,aAClB74D,KAAK64D,YAAc,MAGrB74D,KAAKo2B,IAAI/nB,SAEV,CACDhS,IAAK,SACLQ,MAAO,WAKL,OAJAmD,KAAKo2B,IAAIluB,KAAKlI,KAAKm3C,YACnBn3C,KAAKoI,UAAUguB,IAAIloB,OAAOlO,KAAKo2B,KAC/Bp2B,KAAKo2B,IAAI/nB,OACLrO,KAAKoI,UAAUmxB,WAAWv5B,KAAK85B,cAC5B95B,SAIJ44D,EA9FT,CA+FEjjB,IAEEojB,GAEJ,SAAU5X,GAiBR,SAAS4X,EAAY3wD,GACnB,IAAIob,EAUJ,OARAloB,GAAgB0E,KAAM+4D,IAEtBv1C,EAAQjmB,GAA2ByC,KAAMjD,GAAgBg8D,GAAav7D,KAAKwC,KAAMoI,KAE3E4wD,kBAENx1C,EAAMy1C,eAAiBz1C,EAAMzO,QAAQkkD,gBAAkB,IACvDz1C,EAAM3I,MAAQ,OACP2I,EAsGT,OAjIA/mB,GAAUs8D,EAAa5X,GAEvB7kD,GAAay8D,EAAa,CAAC,CACzB18D,IAAK,OACLwB,IAAK,WACH,MAAO,UAER,CACDxB,IAAK,mBACLwB,IAAK,WACH,MAAO,CACL0xC,IAAK,aAmBXjzC,GAAay8D,EAAa,CAAC,CACzB18D,IAAK,aACLQ,MAAO,WACLmD,KAAKwvB,SAASxvB,KAAKoI,UAAUuwB,SAAUjK,GAAO+C,cAAezxB,KAAKkzC,QAClElzC,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOiF,eAAgB3zB,KAAKozC,QAC1DpzC,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOmF,gBAAiB7zB,KAAKozC,QAC3DpzC,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOuE,oBAAqBjzB,KAAKozC,QAC/DpzC,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAO6F,0BAA2Bv0B,KAAK85B,aACrE95B,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAO8F,2BAA4Bx0B,KAAKqmD,cACtErmD,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOqG,oBAAqB/0B,KAAKk5D,YAC/Dl5D,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOqE,kBAAmB/yB,KAAKk5D,YAC7Dl5D,KAAKwvB,SAASxvB,KAAKoI,UAAUuwB,SAAUjK,GAAOqD,mBAAoB/xB,KAAKk5D,cAExE,CACD78D,IAAK,kBACLQ,MAAO,WACLmD,KAAKm5D,WAAY,EACjBn5D,KAAKo5D,YAAc,EACnBp5D,KAAKq5D,gBAAkB,EACvBr5D,KAAKs5D,aAAe,EACpBt5D,KAAKu5D,UAAY,EACjBv5D,KAAKw5D,gBAAkB,KAExB,CACDn9D,IAAK,SACLQ,MAAO,WACLmD,KAAK6a,MAAQ,UACb7a,KAAKy5D,iBAAmB/mD,KAAK2E,MACxBrX,KAAK05D,aAAY15D,KAAK05D,WAAa18B,YAAYh9B,KAAK25D,OAAOh7C,KAAK3e,MAAOA,KAAKi5D,mBAElF,CACD58D,IAAK,SACLQ,MAAO,WACLqgC,cAAcl9B,KAAK05D,YACnB15D,KAAK25D,SACL35D,KAAK05D,gBAAa56D,EAClBkB,KAAK6a,MAAQ,YAEd,CACDxe,IAAK,cACLQ,MAAO,WACDmD,KAAKm5D,UAAWn5D,KAAK45D,gBAAkBlnD,KAAK2E,MAAWrX,KAAK65D,oBAAsBnnD,KAAK2E,MAC3FrX,KAAK6a,MAAQ,YACb7a,KAAKu5D,cAEN,CACDl9D,IAAK,eACLQ,MAAO,WACDmD,KAAKm5D,WAAan5D,KAAK45D,iBACzB55D,KAAKm5D,WAAY,EACjBn5D,KAAKo5D,YAAc1mD,KAAK2E,MAAQrX,KAAK45D,gBACrC55D,KAAKy5D,iBAAmB/mD,KAAK2E,OACpBrX,KAAK65D,sBACd75D,KAAKq5D,iBAAmBr5D,KAAK85D,sBAG/B95D,KAAK65D,yBAAsB/6D,EAC3BkB,KAAK6a,MAAQ,YAEd,CACDxe,IAAK,qBACLQ,MAAO,WACL,OAAO6V,KAAK2E,MAAQrX,KAAK65D,sBAE1B,CACDx9D,IAAK,kBACLQ,MAAO,WAEL,OADgB6V,KAAK2E,MAAQrX,KAAKy5D,iBACfz5D,KAAKq5D,kBAEzB,CACDh9D,IAAK,gBACLQ,MAAO,WACL,QAASmD,KAAK65D,sBAEf,CACDx9D,IAAK,aACLQ,MAAO,SAAoBk9D,GACzBz5D,EAAEmF,OAAOzF,KAAKw5D,gBAAiBO,KAEhC,CACD19D,IAAK,WACLQ,MAAO,WACL,IAAIq+B,EAAU,CACZk+B,YAAap5D,KAAKo5D,YAClBG,UAAWv5D,KAAKu5D,UAChBF,gBAAiBr5D,KAAKg6D,gBAAkBh6D,KAAKq5D,gBAAkBr5D,KAAK85D,qBAAuB95D,KAAKq5D,gBAChGC,aAAct5D,KAAKg6D,gBAAkBh6D,KAAKi6D,kBAAoBj6D,KAAK85D,qBAAuB95D,KAAKi6D,mBAGjG,OADA35D,EAAEmF,OAAOy1B,EAASl7B,KAAKw5D,iBAChBt+B,IAER,CACD7+B,IAAK,SACLQ,MAAO,WACLmD,KAAKoI,UAAU8xD,YAAYl6D,KAAKm6D,gBAI7BpB,EAlIT,CAmIEtjB,OAIU,+nBC/gGZ,IDkhGA,IAsFI2kB,GAAU,CACZC,aAAcnZ,GACdG,eAAgBA,GAChB8B,YAAaA,GACbO,SAAUA,GACVG,YAAaA,GACba,QAASA,GACTe,gBAAiBA,GACjB+H,aAAcA,GACd8M,OAAQ7E,GACRqB,SAAUA,GACVyD,QAAS9B,GACT+B,mBAAoB5B,GACpB6B,MAAO1B,GACP2B,UAlGF,SAAUhF,GAsBR,SAASiF,EAAgBvyD,GACvB,IAAIob,EAQJ,OANAloB,GAAgB0E,KAAM26D,IAEtBn3C,EAAQjmB,GAA2ByC,KAAMjD,GAAgB49D,GAAiBn9D,KAAKwC,KAAMoI,KAE/Eq1B,YAECja,EAgDT,OA9EA/mB,GAAUk+D,EAAiBjF,GAE3Bp5D,GAAaq+D,EAAiB,CAAC,CAC7Bt+D,IAAK,OACLwB,IAAK,WACH,MAAO,cAER,CACDxB,IAAK,mBACLwB,IAAK,WACH,MAAO,CACL0xC,IAAK,WAGR,CACDlzC,IAAK,WACLwB,IAAK,WACH,OAAOs5C,GAzBO,+RAyClB76C,GAAaq+D,EAAiB,CAAC,CAC7Bt+D,IAAK,aACLQ,MAAO,WACLmD,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOgF,eAAgB1zB,KAAKkzC,QAC1DlzC,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOiF,eAAgB3zB,KAAKozC,QAC1DpzC,KAAKwvB,SAASxvB,KAAKoI,UAAWsmB,GAAOsG,yBAA0Bh1B,KAAKy9B,aAErE,CACDphC,IAAK,YACLQ,MAAO,WACLmD,KAAKuR,SAAWvR,KAAK+U,QAAQxD,UAAY,eAErCvR,KAAK+U,QAAQ6lD,WACf56D,KAAK66D,SAAW76D,KAAK+U,QAAQ6lD,UAC7B56D,KAAK86D,UAAY96D,KAAK+U,QAAQgmD,cAC9B/6D,KAAKm4B,UAELn4B,KAAKo2B,IAAIzqB,WAGZ,CACDtP,IAAK,SACLQ,MAAO,WACAmD,KAAK4gB,QAAQ5gB,KAAKo2B,IAAIlpB,SAE5B,CACD7Q,IAAK,SACLQ,MAAO,WACLmD,KAAKo2B,IAAI/nB,SAEV,CACDhS,IAAK,SACLQ,MAAO,WACLmD,KAAKo2B,IAAI/nB,OACT,IAAI2sD,EAAkB,CACpBzpD,SAAUvR,KAAKuR,SACfspD,SAAU76D,KAAK66D,SACfC,UAAW96D,KAAK86D,WAIlB,OAFA96D,KAAKo2B,IAAIluB,KAAKlI,KAAKm3C,SAAS6jB,IAC5Bh7D,KAAKoI,UAAUguB,IAAIloB,OAAOlO,KAAKo2B,KACxBp2B,SAIJ26D,EA/ET,CAgFEhlB,aCpmGiBx5C,OAAOwO,OAAOyvD,2BAAxB9+B,UACPmV,GAAOsQ,eAAezlB,8WAqBnB2/B,IACHZ,aAJED,GAdFC,aAmBAhZ,eALE+Y,GAbF/Y,eAmBA8B,YANEiX,GAZFjX,YAmBAO,SAPE0W,GAXF1W,SAmBAG,YAREuW,GAVFvW,YAmBAa,QATE0V,GATF1V,QAmBAe,gBAVE2U,GARF3U,gBAmBA+H,aAXE4M,GAPF5M,aAmBA8M,OAZEF,GANFE,OAmBAxD,SAbEsD,GALFtD,SAmBAyD,QAdEH,GAJFG,QAmBAC,mBAfEJ,GAHFI,mBAmBAC,MAhBEL,GAFFK,MAmBAC,UAjBEN,GADFM,UAmBAQ,OAAAA,GACAd,QAAAA,GACAv4C,QAzCc"}